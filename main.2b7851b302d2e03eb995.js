(self.webpackChunkfirebase_tutorial=self.webpackChunkfirebase_tutorial||[]).push([[179],{8255:Fe=>{function he(R){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+R+"'");throw l.code="MODULE_NOT_FOUND",l})}he.keys=()=>[],he.resolve=he,he.id=8255,Fe.exports=he},7716:(Fe,he,R)=>{"use strict";R.d(he,{deG:()=>Fd,tb:()=>pt,AFp:()=>Yh,ip1:()=>on,CZH:()=>mo,hGG:()=>OS,z2F:()=>vo,sBO:()=>gN,Sil:()=>$i,_Vd:()=>ls,EJc:()=>ct,SBq:()=>mi,qLn:()=>Ya,vpe:()=>po,gxx:()=>au,tBr:()=>Ki,XFs:()=>Ae,OlP:()=>ut,zs3:()=>xt,IIB:()=>nC,ZZ4:()=>eh,aQg:()=>th,soG:()=>er,YKP:()=>uw,v3s:()=>mC,h0i:()=>fs,PXZ:()=>hC,R0b:()=>Cr,FiY:()=>Xi,r_U:()=>Xr,Lbi:()=>Ky,g9A:()=>uC,Qsj:()=>oN,FYo:()=>gl,JOm:()=>Jr,Tiy:()=>Xf,q3G:()=>Vt,tp0:()=>Jo,EAV:()=>DS,Rgc:()=>ml,dDg:()=>o_,DyG:()=>ks,q4F:()=>ny,GfV:()=>ty,s_b:()=>yl,ifc:()=>xe,eFA:()=>_o,G48:()=>mS,Gpc:()=>U,X6Q:()=>Dr,_c5:()=>np,VLi:()=>dC,c2e:()=>Xy,zSh:()=>Yc,wAp:()=>qe,vHH:()=>pe,EiD:()=>Us,mCW:()=>Nc,qzn:()=>Ao,JVY:()=>yt,pB0:()=>TE,eBb:()=>EE,L6k:()=>Tc,LAX:()=>Bs,cg1:()=>at,Tjo:()=>bt,kL8:()=>M1,yhl:()=>Ko,dqk:()=>kt,sIi:()=>Kc,CqO:()=>Dm,QGY:()=>Cm,F4k:()=>qb,RDi:()=>ND,AaK:()=>$,z3N:()=>eo,qOj:()=>Rf,TTD:()=>ur,_Bn:()=>Y1,xp6:()=>df,uIk:()=>wb,Tol:()=>Bf,DjV:()=>km,ekj:()=>il,Suo:()=>Fu,Xpm:()=>Dt,lG2:()=>wp,Yz7:()=>Ct,cJS:()=>Cn,oAB:()=>ac,Yjl:()=>W_,Y36:()=>Xc,_UZ:()=>Gb,BQk:()=>wm,ynx:()=>bm,qZA:()=>vm,TgZ:()=>_m,EpF:()=>$b,n5z:()=>nE,Ikx:()=>as,SDv:()=>Zm,QtT:()=>fl,pQV:()=>Wm,LFG:()=>Ft,$8M:()=>Qn,NdJ:()=>Em,CRH:()=>Vo,oxw:()=>Wb,ALo:()=>Py,lcZ:()=>Pu,xi3:()=>ms,Hsn:()=>Qb,F$t:()=>Jb,Q6J:()=>mm,s9C:()=>Im,MGl:()=>Vf,VKq:()=>Ih,WLB:()=>Nh,kEZ:()=>Sh,iGM:()=>Pw,MAs:()=>Rb,CHM:()=>xp,LSH:()=>Qd,kYT:()=>z_,Udp:()=>Sm,YNc:()=>xb,W1O:()=>Bw,_uU:()=>wu,Oqu:()=>p1,hij:()=>Xs,AsE:()=>g1,Gf:()=>Fw});var l=R(9765),K=R(5319),ce=R(7574),oe=R(6682),se=R(8819);function G(s){for(let a in s)if(s[a]===G)return a;throw Error("Could not find renamed property on target object.")}function te(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function $(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map($).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function V(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const x=G({__forward_ref__:G});function U(s){return s.__forward_ref__=U,s.toString=function(){return $(this())},s}function O(s){return H(s)?s():s}function H(s){return"function"==typeof s&&s.hasOwnProperty(x)&&s.__forward_ref__===U}class pe extends Error{constructor(a,c){super(function(s,a){return`${s?`NG0${s}: `:""}${a}`}(a,c)),this.code=a}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function le(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}function Mt(s,a){const c=a?` in ${a}`:"";throw new pe("201",`No provider for ${le(s)} found${c}`)}function Se(s,a,c,f){throw new Error(`ASSERTION ERROR: ${s}`+(null==f?"":` [Expected=> ${c} ${f} ${a} <=Actual]`))}function Ct(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Cn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ir(s){return rc(s,_t)||rc(s,Gr)}function rc(s,a){return s.hasOwnProperty(a)?s[a]:null}function oc(s){return s&&(s.hasOwnProperty(vt)||s.hasOwnProperty(ir))?s[vt]:null}const _t=G({\u0275prov:G}),vt=G({\u0275inj:G}),Gr=G({ngInjectableDef:G}),ir=G({ngInjectorDef:G});var Ae=(()=>((Ae=Ae||{})[Ae.Default=0]="Default",Ae[Ae.Host=1]="Host",Ae[Ae.Self=2]="Self",Ae[Ae.SkipSelf=4]="SkipSelf",Ae[Ae.Optional=8]="Optional",Ae))();let Ht;function en(s){const a=Ht;return Ht=s,a}function sc(s,a,c){const f=Ir(s);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&Ae.Optional?null:void 0!==a?a:void Mt($(s),"Injector")}function Eo(s){return{toString:s}.toString()}var Jn=(()=>((Jn=Jn||{})[Jn.OnPush=0]="OnPush",Jn[Jn.Default=1]="Default",Jn))(),xe=(()=>((xe=xe||{})[xe.Emulated=0]="Emulated",xe[xe.None=2]="None",xe[xe.ShadowDom=3]="ShadowDom",xe))();const nt="undefined"!=typeof globalThis&&globalThis,yd="undefined"!=typeof window&&window,ka="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ei="undefined"!=typeof global&&global,kt=nt||Ei||yd||ka,Rt={},L=[],P=G({\u0275cmp:G}),Y=G({\u0275dir:G}),ne=G({\u0275pipe:G}),z=G({\u0275mod:G}),Te=G({\u0275loc:G}),je=G({\u0275fac:G}),gt=G({__NG_ELEMENT_ID__:G});let Nt=0;function Dt(s){return Eo(()=>{const c={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Jn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||L,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||xe.Emulated,id:"c",styles:s.styles||L,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,y=s.pipes;return f.id+=Nt++,f.inputs=Z_(s.inputs,c),f.outputs=Z_(s.outputs),g&&g.forEach(_=>_(f)),f.directiveDefs=h?()=>("function"==typeof h?h():h).map(Nr):null,f.pipeDefs=y?()=>("function"==typeof y?y():y).map(Sr):null,f})}function Nr(s){return sr(s)||function(s){return s[Y]||null}(s)}function Sr(s){return function(s){return s[ne]||null}(s)}const Ds={};function ac(s){return Eo(()=>{const a={type:s.type,bootstrap:s.bootstrap||L,declarations:s.declarations||L,imports:s.imports||L,exports:s.exports||L,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ds[s.id]=s.type),a})}function z_(s,a){return Eo(()=>{const c=oi(s,!0);c.declarations=a.declarations||L,c.imports=a.imports||L,c.exports=a.exports||L})}function Z_(s,a){if(null==s)return Rt;const c={};for(const f in s)if(s.hasOwnProperty(f)){let h=s[f],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=f,a&&(a[h]=g)}return c}const wp=Dt;function W_(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function sr(s){return s[P]||null}function oi(s,a){const c=s[z]||null;if(!c&&!0===a)throw new Error(`Type ${$(s)} does not have '\u0275mod' property.`);return c}function No(s){return Array.isArray(s)&&"object"==typeof s[1]}function si(s){return Array.isArray(s)&&!0===s[1]}function Ep(s){return 0!=(8&s.flags)}function _d(s){return 2==(2&s.flags)}function xr(s){return 1==(1&s.flags)}function Zi(s){return null!==s.template}function Ai(s){return 0!=(512&s[2])}function Ns(s,a){return s.hasOwnProperty(je)?s[je]:null}class ED{constructor(a,c,f){this.previousValue=a,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function ur(){return Ip}function Ip(s){return s.type.prototype.ngOnChanges&&(s.setInput=ID),TD}function TD(){const s=ev(this),a=null==s?void 0:s.current;if(a){const c=s.previous;if(c===Rt)s.previous=a;else for(let f in a)c[f]=a[f];s.current=null,this.ngOnChanges(a)}}function ID(s,a,c,f){const h=ev(s)||function(s,a){return s[X_]=a}(s,{previous:Rt,current:null}),g=h.current||(h.current={}),y=h.previous,_=this.declaredInputs[c],b=y[_];g[_]=new ED(b&&b.currentValue,a,y===Rt),s[f]=a}ur.ngInherit=!0;const X_="__ngSimpleChanges__";function ev(s){return s[X_]||null}let bd;function ND(s){bd=s}function iv(){return void 0!==bd?bd:"undefined"!=typeof document?document:void 0}function tn(s){return!!s.listen}const Ba={createRenderer:(s,a)=>iv()};function Zt(s){for(;Array.isArray(s);)s=s[0];return s}function wd(s,a){return Zt(a[s])}function ai(s,a){return Zt(a[s.index])}function Ap(s,a){return s.data[a]}function Ua(s,a){return s[a]}function qr(s,a){const c=a[s];return No(c)?c:c[0]}function xD(s){return 4==(4&s[2])}function sv(s){return 128==(128&s[2])}function Ss(s,a){return null==a?null:s[a]}function av(s){s[18]=0}function Mp(s,a){s[5]+=a;let c=s,f=s[3];for(;null!==f&&(1===a&&1===c[5]||-1===a&&0===c[5]);)f[5]+=a,c=f,f=f[3]}const Ke={lFrame:jD(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function FD(){return Ke.bindingsEnabled}function ge(){return Ke.lFrame.lView}function mt(){return Ke.lFrame.tView}function xp(s){return Ke.lFrame.contextLView=s,s[8]}function Wt(){let s=Rp();for(;null!==s&&64===s.type;)s=s.parent;return s}function Rp(){return Ke.lFrame.currentTNode}function As(){const s=Ke.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function ui(s,a){const c=Ke.lFrame;c.currentTNode=s,c.isParent=a}function Dd(){return Ke.lFrame.isParent}function Ed(){Ke.lFrame.isParent=!1}function Td(){return Ke.isInCheckNoChangesMode}function Id(s){Ke.isInCheckNoChangesMode=s}function Vn(){const s=Ke.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function xi(){return Ke.lFrame.bindingIndex}function qo(){return Ke.lFrame.bindingIndex++}function Ri(s){const a=Ke.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function uv(s){Ke.lFrame.inI18n=s}function cv(s,a){const c=Ke.lFrame;c.bindingIndex=c.bindingRootIndex=s,Op(a)}function Op(s){Ke.lFrame.currentDirectiveIndex=s}function lv(){return Ke.lFrame.currentQueryIndex}function fc(s){Ke.lFrame.currentQueryIndex=s}function dv(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function fv(s,a,c){if(c&Ae.SkipSelf){let h=a,g=s;for(;!(h=h.parent,null!==h||c&Ae.Host||(h=dv(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,s=g}const f=Ke.lFrame=hv();return f.currentTNode=a,f.lView=s,!0}function Nd(s){const a=hv(),c=s[1];Ke.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function hv(){const s=Ke.lFrame,a=null===s?null:s.child;return null===a?jD(s):a}function jD(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function pv(){const s=Ke.lFrame;return Ke.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const HD=pv;function hc(){const s=pv();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function cr(){return Ke.lFrame.selectedIndex}function Ms(s){Ke.lFrame.selectedIndex=s}function cn(){const s=Ke.lFrame;return Ap(s.tView,s.selectedIndex)}function Sd(s,a){for(let c=a.directiveStart,f=a.directiveEnd;c<f;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:b,ngAfterViewChecked:C,ngOnDestroy:E}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),_&&((s.contentHooks||(s.contentHooks=[])).push(c,_),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,_)),b&&(s.viewHooks||(s.viewHooks=[])).push(-c,b),C&&((s.viewHooks||(s.viewHooks=[])).push(c,C),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,C)),null!=E&&(s.destroyHooks||(s.destroyHooks=[])).push(c,E)}}function ja(s,a,c){gv(s,a,3,c)}function Ad(s,a,c,f){(3&s[2])===c&&gv(s,a,c,f)}function Fp(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function gv(s,a,c,f){const g=null!=f?f:-1,y=a.length-1;let _=0;for(let b=void 0!==f?65535&s[18]:0;b<y;b++)if("number"==typeof a[b+1]){if(_=a[b],null!=f&&_>=f)break}else a[b]<0&&(s[18]+=65536),(_<g||-1==g)&&(ZD(s,c,a,b),s[18]=(4294901760&s[18])+b+2),b++}function ZD(s,a,c,f){const h=c[f]<0,g=c[f+1],_=s[h?-c[f]:c[f]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{g.call(_)}finally{}}}else try{g.call(_)}finally{}}class Md{constructor(a,c,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function Vp(s,a,c){const f=tn(s);let h=0;for(;h<c.length;){const g=c[h];if("number"==typeof g){if(0!==g)break;h++;const y=c[h++],_=c[h++],b=c[h++];f?s.setAttribute(a,_,b,y):a.setAttributeNS(y,_,b)}else{const y=g,_=c[++h];Wi(y)?f&&s.setProperty(a,y,_):f?s.setAttribute(a,y,_):a.setAttribute(y,_),h++}}return h}function mv(s){return 3===s||4===s||6===s}function Wi(s){return 64===s.charCodeAt(0)}function xd(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let f=0;f<a.length;f++){const h=a[f];"number"==typeof h?c=h:0===c||yv(s,c,h,null,-1===c||2===c?a[++f]:null)}}return s}function yv(s,a,c,f,h){let g=0,y=s.length;if(-1===a)y=-1;else for(;g<s.length;){const _=s[g++];if("number"==typeof _){if(_===a){y=-1;break}if(_>a){y=g-1;break}}}for(;g<s.length;){const _=s[g];if("number"==typeof _)break;if(_===c){if(null===f)return void(null!==h&&(s[g+1]=h));if(f===s[g+1])return void(s[g+2]=h)}g++,null!==f&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,a),g=y+1),s.splice(g++,0,c),null!==f&&s.splice(g++,0,f),null!==h&&s.splice(g++,0,h)}function Rd(s){return-1!==s}function xs(s){return 32767&s}function gc(s,a){let c=function(s){return s>>16}(s),f=a;for(;c>0;)f=f[15],c--;return f}let _v=!0;function Od(s){const a=_v;return _v=s,a}let lM=0;function mc(s,a){const c=Bp(s,a);if(-1!==c)return c;const f=a[1];f.firstCreatePass&&(s.injectorIndex=a.length,bv(f.data,s),bv(a,null),bv(f.blueprint,null));const h=kd(s,a),g=s.injectorIndex;if(Rd(h)){const y=xs(h),_=gc(h,a),b=_[1].data;for(let C=0;C<8;C++)a[g+C]=_[y+C]|b[y+C]}return a[g+8]=h,g}function bv(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Bp(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function kd(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,f=null,h=a;for(;null!==h;){const g=h[1],y=g.type;if(f=2===y?g.declTNode:1===y?h[6]:null,null===f)return-1;if(c++,h=h[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function Pd(s,a,c){!function(s,a,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(gt)&&(f=c[gt]),null==f&&(f=c[gt]=lM++);const h=255&f;a.data[s+(h>>5)]|=1<<h}(s,a,c)}function wv(s,a,c){if(c&Ae.Optional)return s;Mt(a,"NodeInjector")}function Cv(s,a,c,f){if(c&Ae.Optional&&void 0===f&&(f=null),0==(c&(Ae.Self|Ae.Host))){const h=s[9],g=en(void 0);try{return h?h.get(a,f,c&Ae.Optional):sc(a,f,c&Ae.Optional)}finally{en(g)}}return wv(f,a,c)}function Dv(s,a,c,f=Ae.Default,h){if(null!==s){const g=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(gt)?s[gt]:void 0;return"number"==typeof a?a>=0?255&a:XD:a}(c);if("function"==typeof g){if(!fv(a,s,f))return f&Ae.Host?wv(h,c,f):Cv(a,c,f,h);try{const y=g(f);if(null!=y||f&Ae.Optional)return y;Mt(c)}finally{HD()}}else if("number"==typeof g){let y=null,_=Bp(s,a),b=-1,C=f&Ae.Host?a[16][6]:null;for((-1===_||f&Ae.SkipSelf)&&(b=-1===_?kd(s,a):a[_+8],-1!==b&&Up(f,!1)?(y=a[1],_=xs(b),a=gc(b,a)):_=-1);-1!==_;){const E=a[1];if(Tv(g,_,E.data)){const N=eE(_,a,c,y,f,C);if(N!==Ev)return N}b=a[_+8],-1!==b&&Up(f,a[1].data[_+8]===C)&&Tv(g,_,a)?(y=E,_=xs(b),a=gc(b,a)):_=-1}}}return Cv(a,c,f,h)}const Ev={};function XD(){return new _c(Wt(),ge())}function eE(s,a,c,f,h,g){const y=a[1],_=y.data[s+8],E=zo(_,y,c,null==f?_d(_)&&_v:f!=y&&0!=(3&_.type),h&Ae.Host&&g===_);return null!==E?yc(a,y,E,_):Ev}function zo(s,a,c,f,h){const g=s.providerIndexes,y=a.data,_=1048575&g,b=s.directiveStart,E=g>>20,S=h?_+E:s.directiveEnd;for(let k=f?_:_+E;k<S;k++){const B=y[k];if(k<b&&c===B||k>=b&&B.type===c)return k}if(h){const k=y[b];if(k&&Zi(k)&&k.type===c)return b}return null}function yc(s,a,c,f){let h=s[c];const g=a.data;if(function(s){return s instanceof Md}(h)){const y=h;y.resolving&&function(s,a){throw new pe("200",`Circular dependency in DI detected for ${s}`)}(le(g[c]));const _=Od(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?en(y.injectImpl):null;fv(s,f,Ae.Default);try{h=s[c]=y.factory(void 0,g,s,f),a.firstCreatePass&&c>=f.directiveStart&&function(s,a,c){const{ngOnChanges:f,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(f){const y=Ip(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],a)}finally{null!==b&&en(b),Od(_),y.resolving=!1,HD()}}return h}function Tv(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function Up(s,a){return!(s&Ae.Self||s&Ae.Host&&a)}class _c{constructor(a,c){this._tNode=a,this._lView=c}get(a,c){return Dv(this._tNode,this._lView,a,void 0,c)}}function nE(s){return Eo(()=>{const a=s.prototype.constructor,c=a[je]||Rr(a),f=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==f;){const g=h[je]||Rr(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Rr(s){return H(s)?()=>{const a=Rr(O(s));return a&&a()}:Ns(s)}function Qn(s){return function(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const f=c.length;let h=0;for(;h<f;){const g=c[h];if(mv(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<f&&"string"==typeof c[h];)h++;else{if(g===a)return c[h+1];h+=2}}}return null}(Wt(),s)}const Rs="__parameters__",Ji="__prop__metadata__";function jp(s){return function(...c){if(s){const f=s(...c);for(const h in f)this[h]=f[h]}}}function Ha(s,a,c){return Eo(()=>{const f=jp(a);function h(...g){if(this instanceof h)return f.apply(this,g),this;const y=new h(...g);return _.annotation=y,_;function _(b,C,E){const N=b.hasOwnProperty(Rs)?b[Rs]:Object.defineProperty(b,Rs,{value:[]})[Rs];for(;N.length<=E;)N.push(null);return(N[E]=N[E]||[]).push(y),b}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function Iv(s,a,c,f){return Eo(()=>{const h=jp(a);function g(...y){if(this instanceof g)return h.apply(this,y),this;const _=new g(...y);return function(C,E){const N=C.constructor,S=N.hasOwnProperty(Ji)?N[Ji]:Object.defineProperty(N,Ji,{value:{}})[Ji];S[E]=S.hasOwnProperty(E)&&S[E]||[],S[E].unshift(_),f&&f(C,E,...y)}}return c&&(g.prototype=Object.create(c.prototype)),g.prototype.ngMetadataName=s,g.annotationCls=g,g})}class ut{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Ct({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Fd=new ut("AnalyzeForEntryComponents"),ks=Function;function pn(s,a){void 0===a&&(a=s);for(let c=0;c<s.length;c++){let f=s[c];Array.isArray(f)?(a===s&&(a=s.slice(0,c)),pn(f,a)):a!==s&&a.push(f)}return a}function Oi(s,a){s.forEach(c=>Array.isArray(c)?Oi(c,a):a(c))}function Vd(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Be(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function En(s,a){const c=[];for(let f=0;f<s;f++)c.push(a);return c}function zr(s,a,c){let f=ci(s,a);return f>=0?s[1|f]=c:(f=~f,function(s,a,c,f){let h=s.length;if(h==a)s.push(c,f);else if(1===h)s.push(f,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=c,s[a+1]=f}}(s,f,a,c)),f}function Hp(s,a){const c=ci(s,a);if(c>=0)return s[1|c]}function ci(s,a){return function(s,a,c){let f=0,h=s.length>>c;for(;h!==f;){const g=f+(h-f>>1),y=s[g<<c];if(a===y)return g<<c;y>a?h=g:f=g+1}return~(h<<c)}(s,a,1)}const Ls={},$p="__NG_DI_FLAG__",Ga="ngTempTokenPath",lE=/\n/gm,qp="__source",Yp=G({provide:String,useValue:G});let wc;function Vs(s){const a=wc;return wc=s,a}function hE(s,a=Ae.Default){if(void 0===wc)throw new Error("inject() must be called from an injection context");return null===wc?sc(s,void 0,a):wc.get(s,a&Ae.Optional?null:void 0,a)}function Ft(s,a=Ae.Default){return(Ht||hE)(O(s),a)}function Wo(s){const a=[];for(let c=0;c<s.length;c++){const f=O(s[c]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let h,g=Ae.Default;for(let y=0;y<f.length;y++){const _=f[y],b=pE(_);"number"==typeof b?-1===b?h=_.token:g|=b:h=_}a.push(Ft(h,g))}else a.push(Ft(f))}return a}function Cc(s,a){return s[$p]=a,s.prototype[$p]=a,s}function pE(s){return s[$p]}function kv(s,a,c,f){const h=s[Ga];throw a[qp]&&h.unshift(a[qp]),s.message=function(s,a,c,f=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=$(a);if(Array.isArray(a))h=a.map($).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let _=a[y];g.push(y+":"+("string"==typeof _?JSON.stringify(_):$(_)))}h=`{${g.join(", ")}}`}return`${c}${f?"("+f+")":""}[${h}]: ${s.replace(lE,"\n  ")}`}("\n"+s.message,h,c,f),s.ngTokenPath=h,s[Ga]=null,s}const Ki=Cc(Ha("Inject",s=>({token:s})),-1),Xi=Cc(Ha("Optional"),8),Jo=Cc(Ha("SkipSelf"),4);let Gd;function vr(s){var a;return(null===(a=function(){if(void 0===Gd&&(Gd=null,kt.trustedTypes))try{Gd=kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Gd}())||void 0===a?void 0:a.createHTML(s))||s}class Qo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gv extends Qo{getTypeName(){return"HTML"}}class CE extends Qo{getTypeName(){return"Style"}}class $v extends Qo{getTypeName(){return"Script"}}class DE extends Qo{getTypeName(){return"URL"}}class qv extends Qo{getTypeName(){return"ResourceURL"}}function eo(s){return s instanceof Qo?s.changingThisBreaksApplicationSecurity:s}function Ao(s,a){const c=Ko(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Ko(s){return s instanceof Qo&&s.getTypeName()||null}function yt(s){return new Gv(s)}function Tc(s){return new CE(s)}function EE(s){return new $v(s)}function Bs(s){return new DE(s)}function TE(s){return new qv(s)}function $d(s){const a=new IE(s);return function(){try{return!!(new window.DOMParser).parseFromString(vr(""),"text/html")}catch(s){return!1}}()?new Yv(a):a}class Yv{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(vr(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class IE{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=vr(a),c;const f=this.inertDocument.createElement("body");return f.innerHTML=vr(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(a){const c=a.attributes;for(let h=c.length-1;0<h;h--){const y=c.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let f=a.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Ic=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Nc(s){return(s=String(s)).match(Ic)||s.match(Yd)?s:"unsafe:"+s}function zd(s){return(s=String(s)).split(",").map(a=>Nc(a.trim())).join(", ")}function Zr(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function qa(...s){const a={};for(const c of s)for(const f in c)c.hasOwnProperty(f)&&(a[f]=!0);return a}const Kp=Zr("area,br,col,hr,img,wbr"),zv=Zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zv=Zr("rp,rt"),eg=qa(Kp,qa(zv,Zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qa(Zv,Zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qa(Zv,zv)),tg=Zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ng=Zr("srcset"),Zd=qa(tg,ng,Zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rg=Zr("script,style,template");class Mo{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!eg.hasOwnProperty(c))return this.sanitizedSomething=!0,!rg.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=a.attributes;for(let h=0;h<f.length;h++){const g=f.item(h),y=g.name,_=y.toLowerCase();if(!Zd.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let b=g.value;tg[_]&&(b=Nc(b)),ng[_]&&(b=zd(b)),this.buf.push(" ",y,'="',ig(b),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();eg.hasOwnProperty(c)&&!Kp.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(ig(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Sc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wv=/([^\#-~ |!])/g;function ig(s){return s.replace(/&/g,"&amp;").replace(Sc,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Wv,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wd;function Us(s,a){let c=null;try{Wd=Wd||$d(s);let f=a?String(a):"";c=Wd.getInertBodyElement(f);let h=5,g=f;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,f=g,g=c.innerHTML,c=Wd.getInertBodyElement(f)}while(f!==g);return vr((new Mo).sanitizeChildren(Jd(c)||c))}finally{if(c){const f=Jd(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Jd(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Vt=(()=>((Vt=Vt||{})[Vt.NONE=0]="NONE",Vt[Vt.HTML=1]="HTML",Vt[Vt.STYLE=2]="STYLE",Vt[Vt.SCRIPT=3]="SCRIPT",Vt[Vt.URL=4]="URL",Vt[Vt.RESOURCE_URL=5]="RESOURCE_URL",Vt))();function Qd(s){const a=function(){const s=ge();return s&&s[12]}();return a?a.sanitize(Vt.URL,s)||"":Ao(s,"URL")?eo(s):Nc(me(s))}const ug="__ngContext__";function dr(s,a){s[ug]=a}function cg(s){const a=function(s){return s[ug]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function to(s){return s.ngOriginalError}function FE(s,...a){s.error(...a)}class Ya{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),f=this._findContext(a),h=(s=a)&&s.ngErrorLogger||FE;var s;h(this._console,"ERROR",a),c&&h(this._console,"ORIGINAL ERROR",c),f&&h(this._console,"ERROR CONTEXT",f)}_findContext(a){return a?a.ngDebugContext||this._findContext(to(a)):null}_findOriginalError(a){let c=a&&to(a);for(;c&&to(c);)c=to(c);return c||null}}const xc=/^>|^->|<!--|-->|--!>|<!-$/g,o0=/(<|>)/;const Rc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function Wr(s){return s instanceof Function?s():s}var Jr=(()=>((Jr=Jr||{})[Jr.Important=1]="Important",Jr[Jr.DashCase=2]="DashCase",Jr))();let of;function gg(s,a){return of(s,a)}function Oc(s){const a=s[3];return si(a)?a[3]:a}function mg(s){return kc(s[13])}function af(s){return kc(s[4])}function kc(s){for(;null!==s&&!si(s);)s=s[4];return s}function Wa(s,a,c,f,h){if(null!=f){let g,y=!1;si(f)?g=f:No(f)&&(y=!0,f=f[0]);const _=Zt(f);0===s&&null!==c?null==h?m0(a,c,_):Gs(a,c,_,h||null,!0):1===s&&null!==c?Gs(a,c,_,h||null,!0):2===s?C0(a,_,y):3===s&&a.destroyNode(_),null!=g&&function(s,a,c,f,h){const g=c[7];g!==Zt(c)&&Wa(a,s,f,g,h);for(let _=10;_<c.length;_++){const b=c[_];Vc(b[1],b,s,a,f,g)}}(a,s,g,c,h)}}function Ja(s,a){return tn(s)?s.createText(a):s.createTextNode(a)}function l0(s,a,c){tn(s)?s.setValue(a,c):a.textContent=c}function Pc(s,a){return s.createComment(function(s){return s.replace(xc,a=>a.replace(o0,"\u200b$1\u200b"))}(a))}function yg(s,a,c){return tn(s)?s.createElement(a,c):null===c?s.createElement(a):s.createElementNS(c,a)}function d0(s,a){const c=s[9],f=c.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,Mp(h,-1)),c.splice(f,1)}function _g(s,a){if(s.length<=10)return;const c=10+a,f=s[c];if(f){const h=f[17];null!==h&&h!==s&&d0(h,f),a>0&&(s[c-1][4]=f[4]);const g=Be(s,10+a);!function(s,a){Vc(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const y=g[19];null!==y&&y.detachView(g[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function f0(s,a){if(!(256&a[2])){const c=a[11];tn(c)&&c.destroyNode&&Vc(s,a,c,3,null,null),function(s){let a=s[13];if(!a)return vg(s[1],s);for(;a;){let c=null;if(No(a))c=a[13];else{const f=a[10];f&&(c=f)}if(!c){for(;a&&!a[4]&&a!==s;)No(a)&&vg(a[1],a),a=a[3];null===a&&(a=s),No(a)&&vg(a[1],a),c=a&&a[4]}a=c}}(a)}}function vg(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let f=0;f<c.length;f+=2){const h=a[c[f]];if(!(h instanceof Md)){const g=c[f+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const _=h[g[y]],b=g[y+1];try{b.call(_)}finally{}}else try{g.call(h)}finally{}}}}(s,a),function(s,a){const c=s.cleanup,f=a[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const y=c[g+1],_="function"==typeof y?y(a):Zt(a[y]),b=f[h=c[g+2]],C=c[g+3];"boolean"==typeof C?_.removeEventListener(c[g],b,C):C>=0?f[h=C]():f[h=-C].unsubscribe(),g+=2}else{const y=f[h=c[g+1]];c[g].call(y)}if(null!==f){for(let g=h+1;g<f.length;g++)f[g]();a[7]=null}}(s,a),1===a[1].type&&tn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&si(a[3])){c!==a[3]&&d0(c,a);const f=a[19];null!==f&&f.detachView(s)}}}function p0(s,a,c){return g0(s,a.parent,c)}function g0(s,a,c){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return c[0];if(2&f.flags){const h=s.data[f.directiveStart].encapsulation;if(h===xe.None||h===xe.Emulated)return null}return ai(f,c)}function Gs(s,a,c,f,h){tn(s)?s.insertBefore(a,c,f,h):a.insertBefore(c,f,h)}function m0(s,a,c){tn(s)?s.appendChild(a,c):a.appendChild(c)}function y0(s,a,c,f,h){null!==f?Gs(s,a,c,f,h):m0(s,a,c)}function bg(s,a){return tn(s)?s.parentNode(a):a.parentNode}function wg(s,a,c){return Dg(s,a,c)}function Cg(s,a,c){return 40&s.type?ai(s,c):null}let Eg,Dg=Cg;function b0(s,a){Dg=s,Eg=a}function uf(s,a,c,f){const h=p0(s,f,a),g=a[11],_=wg(f.parent||a[6],f,a);if(null!=h)if(Array.isArray(c))for(let b=0;b<c.length;b++)y0(g,h,c[b],_,!1);else y0(g,h,c,_,!1);void 0!==Eg&&Eg(g,f,a,c,h)}function cf(s,a){if(null!==a){const c=a.type;if(3&c)return ai(a,s);if(4&c)return Lc(-1,s[a.index]);if(8&c){const f=a.child;if(null!==f)return cf(s,f);{const h=s[a.index];return si(h)?Lc(-1,h):Zt(h)}}if(32&c)return gg(a,s)()||Zt(s[a.index]);{const f=w0(s,a);return null!==f?Array.isArray(f)?f[0]:cf(Oc(s[16]),f):cf(s,a.next)}}return null}function w0(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Lc(s,a){const c=10+s+1;if(c<a.length){const f=a[c],h=f[1].firstChild;if(null!==h)return cf(f,h)}return a[7]}function C0(s,a,c){const f=bg(s,a);f&&function(s,a,c,f){tn(s)?s.removeChild(a,c,f):a.removeChild(c)}(s,f,a,c)}function Tg(s,a,c,f,h,g,y){for(;null!=c;){const _=f[c.index],b=c.type;if(y&&0===a&&(_&&dr(Zt(_),f),c.flags|=4),64!=(64&c.flags))if(8&b)Tg(s,a,c.child,f,h,g,!1),Wa(a,s,h,_,g);else if(32&b){const C=gg(c,f);let E;for(;E=C();)Wa(a,s,h,E,g);Wa(a,s,h,_,g)}else 16&b?Ng(s,a,f,c,h,g):Wa(a,s,h,_,g);c=y?c.projectionNext:c.next}}function Vc(s,a,c,f,h,g){Tg(c,f,s.firstChild,a,h,g,!1)}function Ng(s,a,c,f,h,g){const y=c[16],b=y[6].projection[f.projection];if(Array.isArray(b))for(let C=0;C<b.length;C++)Wa(a,s,h,b[C],g);else Tg(s,a,b,y[3],h,g,!0)}function D0(s,a,c){tn(s)?s.setAttribute(a,"style",c):a.style.cssText=c}function Sg(s,a,c){tn(s)?""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c):a.className=c}function E0(s,a,c){let f=s.length;for(;;){const h=s.indexOf(a,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=a.length;if(h+g===f||s.charCodeAt(h+g)<=32)return h}c=h+1}}const Ag="ng-template";function KE(s,a,c){let f=0;for(;f<s.length;){let h=s[f++];if(c&&"class"===h){if(h=s[f],-1!==E0(h.toLowerCase(),a,0))return!0}else if(1===h){for(;f<s.length&&"string"==typeof(h=s[f++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function T0(s){return 4===s.type&&s.value!==Ag}function kr(s,a,c){return a===(4!==s.type||c?s.value:Ag)}function XE(s,a,c){let f=4;const h=s.attrs||[],g=function(s){for(let a=0;a<s.length;a++)if(mv(s[a]))return a;return s.length}(h);let y=!1;for(let _=0;_<a.length;_++){const b=a[_];if("number"!=typeof b){if(!y)if(4&f){if(f=2|1&f,""!==b&&!kr(s,b,c)||""===b&&1===a.length){if(Pr(f))return!1;y=!0}}else{const C=8&f?b:a[++_];if(8&f&&null!==s.attrs){if(!KE(s.attrs,C,c)){if(Pr(f))return!1;y=!0}continue}const N=Mg(8&f?"class":b,h,T0(s),c);if(-1===N){if(Pr(f))return!1;y=!0;continue}if(""!==C){let S;S=N>g?"":h[N+1].toLowerCase();const k=8&f?S:null;if(k&&-1!==E0(k,C,0)||2&f&&C!==S){if(Pr(f))return!1;y=!0}}}}else{if(!y&&!Pr(f)&&!Pr(b))return!1;if(y&&Pr(b))continue;y=!1,f=b|1&f}}return Pr(f)||y}function Pr(s){return 0==(1&s)}function Mg(s,a,c,f){if(null===a)return-1;let h=0;if(f||!c){let g=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let _=a[++h];for(;"string"==typeof _;)_=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const f=s[c];if("number"==typeof f)return-1;if(f===a)return c;c++}return-1}(a,s)}function lf(s,a,c=!1){for(let f=0;f<a.length;f++)if(XE(s,a[f],c))return!0;return!1}function I0(s,a){e:for(let c=0;c<a.length;c++){const f=a[c];if(s.length===f.length){for(let h=0;h<s.length;h++)if(s[h]!==f[h])continue e;return!0}}return!1}function N0(s,a){return s?":not("+a.trim()+")":a}function S0(s){let a=s[0],c=1,f=2,h="",g=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&f){const _=s[++c];h+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&f?h+="."+y:4&f&&(h+=" "+y);else""!==h&&!Pr(y)&&(a+=N0(g,h),h=""),f=y,g=g||!Pr(f);c++}return""!==h&&(a+=N0(g,h)),a}const Xe={};function df(s){rT(mt(),ge(),cr()+s,Td())}function rT(s,a,c,f){if(!f)if(3==(3&a[2])){const g=s.preOrderCheckHooks;null!==g&&ja(a,g,c)}else{const g=s.preOrderHooks;null!==g&&Ad(a,g,0,c)}Ms(c)}function no(s,a){return s<<17|a<<2}function fi(s){return s>>17&32767}function xg(s){return 2|s}function ro(s){return(131068&s)>>2}function Rg(s,a){return-131069&s|a<<2}function Og(s){return 1|s}function V0(s,a){const c=s.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const h=c[f],g=c[f+1];if(-1!==g){const y=s.data[g];fc(h),y.contentQueries(2,a[g],g)}}}function Bc(s,a,c,f,h,g,y,_,b,C){const E=a.blueprint.slice();return E[0]=h,E[2]=140|f,av(E),E[3]=E[15]=s,E[8]=c,E[10]=y||s&&s[10],E[11]=_||s&&s[11],E[12]=b||s&&s[12]||null,E[9]=C||s&&s[9]||null,E[6]=g,E[16]=2==a.type?s[16]:E,E}function tu(s,a,c,f,h){let g=s.data[a];if(null===g)g=Ug(s,a,c,f,h),Ke.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=f,g.attrs=h;const y=As();g.injectorIndex=null===y?-1:y.injectorIndex}return ui(g,!0),g}function Ug(s,a,c,f,h){const g=Rp(),y=Dd(),b=s.data[a]=function(s,a,c,f,h,g){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,c,a,f,h);return null===s.firstChild&&(s.firstChild=b),null!==g&&(y?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}function qs(s,a,c,f){if(0===c)return-1;const h=a.length;for(let g=0;g<c;g++)a.push(f),s.blueprint.push(f),s.data.push(null);return h}function nu(s,a,c){Nd(a);try{const f=s.viewQuery;null!==f&&ou(1,f,c);const h=s.template;null!==h&&B0(s,a,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&V0(s,a),s.staticViewQueries&&ou(2,s.viewQuery,c);const g=s.components;null!==g&&function(s,a){for(let c=0;c<a.length;c++)vf(s,a[c])}(a,g)}catch(f){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),f}finally{a[2]&=-5,hc()}}function ru(s,a,c,f){const h=a[2];if(256==(256&h))return;Nd(a);const g=Td();try{av(a),function(s){Ke.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&B0(s,a,c,2,f);const y=3==(3&h);if(!g)if(y){const C=s.preOrderCheckHooks;null!==C&&ja(a,C,null)}else{const C=s.preOrderHooks;null!==C&&Ad(a,C,0,null),Fp(a,0)}if(function(s){for(let a=mg(s);null!==a;a=af(a)){if(!a[2])continue;const c=a[9];for(let f=0;f<c.length;f++){const h=c[f],g=h[3];0==(1024&h[2])&&Mp(g,1),h[2]|=1024}}}(a),function(s){for(let a=mg(s);null!==a;a=af(a))for(let c=10;c<a.length;c++){const f=a[c],h=f[1];sv(f)&&ru(h,f,h.template,f[8])}}(a),null!==s.contentQueries&&V0(s,a),!g)if(y){const C=s.contentCheckHooks;null!==C&&ja(a,C)}else{const C=s.contentHooks;null!==C&&Ad(a,C,1),Fp(a,1)}!function(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const h=c[f];if(h<0)Ms(~h);else{const g=h,y=c[++f],_=c[++f];cv(y,g),_(2,a[g])}}}finally{Ms(-1)}}(s,a);const _=s.components;null!==_&&function(s,a){for(let c=0;c<a.length;c++)Q0(s,a[c])}(a,_);const b=s.viewQuery;if(null!==b&&ou(2,b,f),!g)if(y){const C=s.viewCheckHooks;null!==C&&ja(a,C)}else{const C=s.viewHooks;null!==C&&Ad(a,C,2),Fp(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Mp(a[3],-1))}finally{hc()}}function jg(s,a,c,f){const h=a[10],g=!Td(),y=xD(a);try{g&&!y&&h.begin&&h.begin(),y&&nu(s,a,f),ru(s,a,c,f)}finally{g&&!y&&h.end&&h.end()}}function B0(s,a,c,f,h){const g=cr(),y=2&f;try{Ms(-1),y&&a.length>20&&rT(s,a,20,Td()),c(f,h)}finally{Ms(g)}}function U0(s,a,c){if(Ep(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,c[g],g)}}}function Hg(s,a,c){!FD()||(function(s,a,c,f){const h=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||mc(c,a),dr(f,a);const y=c.initialInputs;for(let _=h;_<g;_++){const b=s.data[_],C=Zi(b);C&&z0(a,c,b);const E=yc(a,s,_,c);dr(E,a),null!==y&&Z0(0,_-h,E,b,0,y),C&&(qr(c.index,a)[8]=E)}}(s,a,c,ai(c,a)),128==(128&c.flags)&&function(s,a,c){const f=c.directiveStart,h=c.directiveEnd,y=c.index,_=Ke.lFrame.currentDirectiveIndex;try{Ms(y);for(let b=f;b<h;b++){const C=s.data[b],E=a[b];Op(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Yg(C,E)}}finally{Ms(-1),Op(_)}}(s,a,c))}function Gg(s,a,c=ai){const f=a.localNames;if(null!==f){let h=a.index+1;for(let g=0;g<f.length;g+=2){const y=f[g+1],_=-1===y?c(a,s):s[y];s[h++]=_}}}function j0(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=gf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function gf(s,a,c,f,h,g,y,_,b,C){const E=20+f,N=E+h,S=function(s,a){const c=[];for(let f=0;f<a;f++)c.push(f<s?null:Xe);return c}(E,N),k="function"==typeof C?C():C;return S[1]={type:s,blueprint:S,template:c,queries:null,viewQuery:_,declTNode:a,data:S.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:k,incompleteFirstPass:!1}}function Hn(s,a,c,f){const h=Gc(a);null===c?h.push(f):(h.push(c),s.firstCreatePass&&su(s).push(f,h.length-1))}function $g(s,a,c){for(let f in s)if(s.hasOwnProperty(f)){const h=s[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(a,h):c[f]=[a,h]}return c}function Qr(s,a,c,f,h,g,y,_){const b=ai(a,c);let E,C=a.inputs;!_&&null!=C&&(E=C[f])?(X0(s,c,E,f,h),_d(a)&&function(s,a){const c=qr(a,s);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(f=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(f),h=null!=y?y(h,a.value||"",f):h,tn(g)?g.setProperty(b,f,h):Wi(f)||(b.setProperty?b.setProperty(f,h):b[f]=h))}function mf(s,a,c,f){let h=!1;if(FD()){const g=function(s,a,c){const f=s.directiveRegistry;let h=null;if(f)for(let g=0;g<f.length;g++){const y=f[g];lf(c,y.selectors,!1)&&(h||(h=[]),Pd(mc(c,a),s,y.type),Zi(y)?(zg(s,c),h.unshift(y)):h.push(y))}return h}(s,a,c),y=null===f?null:{"":-1};if(null!==g){h=!0,Zg(c,s.data.length,g.length);for(let E=0;E<g.length;E++){const N=g[E];N.providersResolver&&N.providersResolver(N)}let _=!1,b=!1,C=qs(s,a,g.length,null);for(let E=0;E<g.length;E++){const N=g[E];c.mergedAttrs=xd(c.mergedAttrs,N.hostAttrs),Wg(s,c,a,C,N),Y0(C,N,y),null!==N.contentQueries&&(c.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=128);const S=N.type.prototype;!_&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),_=!0),!b&&(S.ngOnChanges||S.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),b=!0),C++}!function(s,a){const f=a.directiveEnd,h=s.data,g=a.attrs,y=[];let _=null,b=null;for(let C=a.directiveStart;C<f;C++){const E=h[C],N=E.inputs,S=null===g||T0(a)?null:Jg(N,g);y.push(S),_=$g(N,C,_),b=$g(E.outputs,C,b)}null!==_&&(_.hasOwnProperty("class")&&(a.flags|=16),_.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=_,a.outputs=b}(s,c)}y&&function(s,a,c){if(a){const f=s.localNames=[];for(let h=0;h<a.length;h+=2){const g=c[a[h+1]];if(null==g)throw new pe("301",`Export of name '${a[h+1]}' not found!`);f.push(a[h],g)}}}(c,f,y)}return c.mergedAttrs=xd(c.mergedAttrs,c.attrs),h}function qg(s,a,c,f,h,g){const y=g.hostBindings;if(y){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const b=~a.index;(function(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(_)!=b&&_.push(b),_.push(f,h,y)}}function Yg(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function zg(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Y0(s,a,c){if(c){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)c[a.exportAs[f]]=s;Zi(a)&&(c[""]=s)}}function Zg(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}function Wg(s,a,c,f,h){s.data[f]=h;const g=h.factory||(h.factory=Ns(h.type)),y=new Md(g,Zi(h),null);s.blueprint[f]=y,c[f]=y,qg(s,a,0,f,qs(s,c,h.hostVars,Xe),h)}function z0(s,a,c){const f=ai(a,s),h=j0(c),g=s[10],y=Hc(s,Bc(s,h,null,c.onPush?64:16,f,a,g,g.createRenderer(f,c),null,null));s[a.index]=y}function yf(s,a,c,f,h,g,y){if(null==g)tn(s)?s.removeAttribute(a,h,c):a.removeAttribute(h);else{const _=null==y?me(g):y(g,f||"",h);tn(s)?s.setAttribute(a,h,_,c):c?a.setAttributeNS(c,h,_):a.setAttribute(h,_)}}function Z0(s,a,c,f,h,g){const y=g[a];if(null!==y){const _=f.setInput;for(let b=0;b<y.length;){const C=y[b++],E=y[b++],N=y[b++];null!==_?f.setInput(c,N,C,E):c[E]=N}}}function Jg(s,a){let c=null,f=0;for(;f<a.length;){const h=a[f];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],a[f+1])),f+=2}else f+=2;else f+=4}return c}function _f(s,a,c,f){return new Array(s,!0,!1,a,null,0,f,c,null,null)}function Q0(s,a){const c=qr(a,s);if(sv(c)){const f=c[1];80&c[2]?ru(f,c,f.template,c[8]):c[5]>0&&jc(c)}}function jc(s){for(let f=mg(s);null!==f;f=af(f))for(let h=10;h<f.length;h++){const g=f[h];if(1024&g[2]){const y=g[1];ru(y,g,y.template,g[8])}else g[5]>0&&jc(g)}const c=s[1].components;if(null!==c)for(let f=0;f<c.length;f++){const h=qr(c[f],s);sv(h)&&h[5]>0&&jc(h)}}function vf(s,a){const c=qr(a,s),f=c[1];(function(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(f,c),nu(f,c,c[8])}function Hc(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function bf(s){for(;s;){s[2]|=64;const a=Oc(s);if(Ai(s)&&!a)return s;s=a}return null}function wf(s,a,c){const f=a[10];f.begin&&f.begin();try{ru(s,a,s.template,c)}catch(h){throw qc(a,h),h}finally{f.end&&f.end()}}function ET(s){!function(s){for(let a=0;a<s.components.length;a++){const c=s.components[a],f=cg(c),h=f[1];jg(h,f,h.template,c)}}(s[8])}function ou(s,a,c){fc(0),a(s,c)}const TT=(()=>Promise.resolve(null))();function Gc(s){return s[7]||(s[7]=[])}function su(s){return s.cleanup||(s.cleanup=[])}function qc(s,a){const c=s[9],f=c?c.get(Ya,null):null;f&&f.handleError(a)}function X0(s,a,c,f,h){for(let g=0;g<c.length;){const y=c[g++],_=c[g++],b=a[y],C=s.data[y];null!==C.setInput?C.setInput(b,h,f,_):b[_]=h}}function Fi(s,a,c){const f=wd(a,s);l0(s[11],f,c)}function Ys(s,a,c){let f=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const _=a[y];"number"==typeof _?g=_:1==g?h=V(h,_):2==g&&(f=V(f,_+": "+a[++y]+";"))}c?s.styles=f:s.stylesWithoutHost=f,c?s.classes=h:s.classesWithoutHost=h}const au=new ut("INJECTOR",-1);class Qg{get(a,c=Ls){if(c===Ls){const f=new Error(`NullInjectorError: No provider for ${$(a)}!`);throw f.name="NullInjectorError",f}return c}}const Yc=new ut("Set Injector scope."),Df={},AT={};let zc;function eb(){return void 0===zc&&(zc=new Qg),zc}function Ef(s,a=null,c=null,f){return new Tf(s,c,a||eb(),f)}class Tf{constructor(a,c,f,h=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&Oi(c,_=>this.processProvider(_,a,c)),Oi([a],_=>this.processInjectorType(_,[],g)),this.records.set(au,ao(void 0,this));const y=this.records.get(Yc);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof a?null:$(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=Ls,f=Ae.Default){this.assertNotDestroyed();const h=Vs(this),g=en(void 0);try{if(!(f&Ae.SkipSelf)){let _=this.records.get(a);if(void 0===_){const b=("function"==typeof(s=a)||"object"==typeof s&&s instanceof ut)&&Ir(a);_=b&&this.injectableDefInScope(b)?ao(nb(a),Df):null,this.records.set(a,_)}if(null!=_)return this.hydrate(a,_)}return(f&Ae.Self?eb():this.parent).get(a,c=f&Ae.Optional&&c===Ls?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Ga]=y[Ga]||[]).unshift($(a)),h)throw y;return kv(y,a,"R3InjectorError",this.source)}throw y}finally{en(g),Vs(h)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((f,h)=>a.push($(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,c,f){if(!(a=O(a)))return!1;let h=oc(a);const g=null==h&&a.ngModule||void 0,y=void 0===g?a:g,_=-1!==f.indexOf(y);if(void 0!==g&&(h=oc(g)),null==h)return!1;if(null!=h.imports&&!_){let E;f.push(y);try{Oi(h.imports,N=>{this.processInjectorType(N,c,f)&&(void 0===E&&(E=[]),E.push(N))})}finally{}if(void 0!==E)for(let N=0;N<E.length;N++){const{ngModule:S,providers:k}=E[N];Oi(k,B=>this.processProvider(B,S,k||L))}}this.injectorDefTypes.add(y);const b=Ns(y)||(()=>new y);this.records.set(y,ao(b,Df));const C=h.providers;if(null!=C&&!_){const E=a;Oi(C,N=>this.processProvider(N,E,C))}return void 0!==g&&void 0!==a.providers}processProvider(a,c,f){let h=rs(a=O(a))?a:O(a&&a.provide);const g=rb(s=a)?ao(void 0,s.useValue):ao(zs(s),Df);var s;if(rs(a)||!0!==a.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=ao(void 0,Df,!0),y.factory=()=>Wo(y.multi),this.records.set(h,y)),h=a,y.multi.push(a)}this.records.set(h,g)}hydrate(a,c){return c.value===Df&&(c.value=AT,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(s=c.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var s}injectableDefInScope(a){if(!a.providedIn)return!1;const c=O(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function nb(s){const a=Ir(s),c=null!==a?a.factory:Ns(s);if(null!==c)return c;if(s instanceof ut)throw new Error(`Token ${$(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const a=s.length;if(a>0){const f=En(a,"?");throw new Error(`Can't resolve all parameters for ${$(s)}: (${f.join(", ")}).`)}const c=function(s){const a=s&&(s[_t]||s[Gr]);if(a){const c=function(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Error("unreachable")}function zs(s,a,c){let f;if(rs(s)){const h=O(s);return Ns(h)||nb(h)}if(rb(s))f=()=>O(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))f=()=>s.useFactory(...Wo(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))f=()=>Ft(O(s.useExisting));else{const h=O(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Ns(h)||nb(h);f=()=>new h(...Wo(s.deps))}return f}function ao(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function rb(s){return null!==s&&"object"==typeof s&&Yp in s}function rs(s){return"function"==typeof s}const sb=function(s,a,c){return function(s,a=null,c=null,f){const h=Ef(s,a,c,f);return h._resolveInjectorDefTypes(),h}({name:c},a,s,c)};class xt{static create(a,c){return Array.isArray(a)?sb(a,c,""):sb(a.providers,a.parent,a.name||"")}}function pb(s,a){Sd(cg(s)[1],Wt())}function Rf(s){let a=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const f=[s];for(;a;){let h;if(Zi(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(c){f.push(h);const y=s;y.inputs=Of(s.inputs),y.declaredInputs=Of(s.declaredInputs),y.outputs=Of(s.outputs);const _=h.hostBindings;_&&dm(s,_);const b=h.viewQuery,C=h.contentQueries;if(b&&HT(s,b),C&&GT(s,C),te(s.inputs,h.inputs),te(s.declaredInputs,h.declaredInputs),te(s.outputs,h.outputs),Zi(h)&&h.data.animation){const E=s.data;E.animation=(E.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const _=g[y];_&&_.ngInherit&&_(s),_===Rf&&(c=!1)}}a=Object.getPrototypeOf(a)}!function(s){let a=0,c=null;for(let f=s.length-1;f>=0;f--){const h=s[f];h.hostVars=a+=h.hostVars,h.hostAttrs=xd(h.hostAttrs,c=xd(c,h.hostAttrs))}}(f)}function Of(s){return s===Rt?{}:s===L?[]:s}function HT(s,a){const c=s.viewQuery;s.viewQuery=c?(f,h)=>{a(f,h),c(f,h)}:a}function GT(s,a){const c=s.contentQueries;s.contentQueries=c?(f,h,g)=>{a(f,h,g),c(f,h,g)}:a}function dm(s,a){const c=s.hostBindings;s.hostBindings=c?(f,h)=>{a(f,h),c(f,h)}:a}xt.THROW_IF_NOT_FOUND=Ls,xt.NULL=new Qg,xt.\u0275prov=Ct({token:xt,providedIn:"any",factory:()=>Ft(au)}),xt.__NG_ELEMENT_ID__=-1;let kf=null;function Qs(){if(!kf){const s=kt.Symbol;if(s&&s.iterator)kf=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const f=a[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(kf=f)}}}return kf}class pi{constructor(a){this.wrapped=a}static wrap(a){return new pi(a)}static unwrap(a){return pi.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof pi}}function Kc(s){return!!bb(s)&&(Array.isArray(s)||!(s instanceof Map)&&Qs()in s)}function bb(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ko(s,a,c){return s[a]=c}function Kn(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function is(s,a,c,f){const h=Kn(s,a,c);return Kn(s,a+1,f)||h}function wb(s,a,c,f){const h=ge();return Kn(h,qo(),a)&&(mt(),function(s,a,c,f,h,g){const y=ai(s,a);yf(a[11],y,g,s.value,c,f,h)}(cn(),h,s,a,c,f)),wb}function du(s,a,c,f){return Kn(s,qo(),c)?a+me(c)+f:Xe}function pu(s,a,c,f,h,g,y,_,b,C){const N=function(s,a,c,f,h,g){const y=is(s,a,c,f);return is(s,a+2,h,g)||y}(s,xi(),c,h,y,b);return Ri(4),N?a+me(c)+f+me(h)+g+me(y)+_+me(b)+C:Xe}function xb(s,a,c,f,h,g,y,_){const b=ge(),C=mt(),E=s+20,N=C.firstCreatePass?function(s,a,c,f,h,g,y,_,b){const C=a.consts,E=tu(a,s,4,y||null,Ss(C,_));mf(a,c,E,Ss(C,b)),Sd(a,E);const N=E.tViews=gf(2,E,f,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,C);return null!==a.queries&&(a.queries.template(a,E),N.queries=a.queries.embeddedTView(E)),E}(E,C,b,a,c,f,h,g,y):C.data[E];ui(N,!1);const S=b[11].createComment("");uf(C,b,S,N),dr(S,b),Hc(b,b[E]=_f(S,b,S,N)),xr(N)&&Hg(C,b,N),null!=y&&Gg(b,N,_)}function Rb(s){return Ua(Ke.lFrame.contextLView,20+s)}function Xc(s,a=Ae.Default){const c=ge();return null===c?Ft(s,a):Dv(Wt(),c,O(s),a)}function mm(s,a,c){const f=ge();return Kn(f,qo(),a)&&Qr(mt(),cn(),f,s,a,f[11],c,!1),mm}function ym(s,a,c,f,h){const y=h?"class":"style";X0(s,c,a.inputs[y],y,f)}function _m(s,a,c,f){const h=ge(),g=mt(),y=20+s,_=h[11],b=h[y]=yg(_,a,Ke.lFrame.currentNamespace),C=g.firstCreatePass?function(s,a,c,f,h,g,y){const _=a.consts,C=tu(a,s,2,h,Ss(_,g));return mf(a,c,C,Ss(_,y)),null!==C.attrs&&Ys(C,C.attrs,!1),null!==C.mergedAttrs&&Ys(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(y,g,h,0,a,c,f):g.data[y];ui(C,!0);const E=C.mergedAttrs;null!==E&&Vp(_,b,E);const N=C.classes;null!==N&&Sg(_,b,N);const S=C.styles;null!==S&&D0(_,b,S),64!=(64&C.flags)&&uf(g,h,b,C),0===Ke.lFrame.elementDepthCount&&dr(b,h),Ke.lFrame.elementDepthCount++,xr(C)&&(Hg(g,h,C),U0(g,C,h)),null!==f&&Gg(h,C)}function vm(){let s=Wt();Dd()?Ed():(s=s.parent,ui(s,!1));const a=s;Ke.lFrame.elementDepthCount--;const c=mt();c.firstCreatePass&&(Sd(c,s),Ep(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(a)&&ym(c,a,ge(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(a)&&ym(c,a,ge(),a.stylesWithoutHost,!1)}function Gb(s,a,c,f){_m(s,a,c,f),vm()}function bm(s,a,c){const f=ge(),h=mt(),g=s+20,y=h.firstCreatePass?function(s,a,c,f,h){const g=a.consts,y=Ss(g,f),_=tu(a,s,8,"ng-container",y);return null!==y&&Ys(_,y,!0),mf(a,c,_,Ss(g,h)),null!==a.queries&&a.queries.elementStart(a,_),_}(g,h,f,a,c):h.data[g];ui(y,!0);const _=f[g]=f[11].createComment("");uf(h,f,_,y),dr(_,f),xr(y)&&(Hg(h,f,y),U0(h,y,f)),null!=c&&Gg(f,y)}function wm(){let s=Wt();const a=mt();Dd()?Ed():(s=s.parent,ui(s,!1)),a.firstCreatePass&&(Sd(a,s),Ep(s)&&a.queries.elementEnd(s))}function $b(){return ge()}function Cm(s){return!!s&&"function"==typeof s.then}function qb(s){return!!s&&"function"==typeof s.subscribe}const Dm=qb;function Em(s,a,c,f){const h=ge(),g=mt(),y=Wt();return function(s,a,c,f,h,g,y,_){const b=xr(f),E=s.firstCreatePass&&su(s),N=a[8],S=Gc(a);let k=!0;if(3&f.type||_){const q=ai(f,a),_e=_?_(q):q,ue=S.length,ke=_?$e=>_(Zt($e[f.index])):f.index;if(tn(c)){let $e=null;if(!_&&b&&($e=function(s,a,c,f){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===c&&h[g+1]===f){const _=a[7],b=h[g+2];return _.length>b?_[b]:null}"string"==typeof y&&(g+=2)}return null}(s,a,h,f.index)),null!==$e)($e.__ngLastListenerFn__||$e).__ngNextListenerFn__=g,$e.__ngLastListenerFn__=g,k=!1;else{g=Tm(f,a,N,g,!1);const dt=c.listen(_e,h,g);S.push(g,dt),E&&E.push(h,ke,ue,ue+1)}}else g=Tm(f,a,N,g,!0),_e.addEventListener(h,g,y),S.push(g),E&&E.push(h,ke,ue,y)}else g=Tm(f,a,N,g,!1);const B=f.outputs;let ee;if(k&&null!==B&&(ee=B[h])){const q=ee.length;if(q)for(let _e=0;_e<q;_e+=2){const Pn=a[ee[_e]][ee[_e+1]].subscribe(g),ri=S.length;S.push(g,Pn),E&&E.push(h,f.index,ri,-(ri+1))}}}(g,h,h[11],y,s,a,!!c,f),Em}function Zb(s,a,c,f){try{return!1!==c(f)}catch(h){return qc(s,h),!1}}function Tm(s,a,c,f,h){return function g(y){if(y===Function)return f;const _=2&s.flags?qr(s.index,a):a;0==(32&a[2])&&bf(_);let b=Zb(a,0,f,y),C=g.__ngNextListenerFn__;for(;C;)b=Zb(a,0,C,y)&&b,C=C.__ngNextListenerFn__;return h&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function Wb(s=1){return function(s){return(Ke.lFrame.contextLView=function(s,a){for(;s>0;)a=a[15],s--;return a}(s,Ke.lFrame.contextLView))[8]}(s)}function bI(s,a){let c=null;const f=function(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(s);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===f?lf(s,g,!0):I0(f,g))return h}else c=h}return c}function Jb(s){const a=ge()[16][6];if(!a.projection){const f=a.projection=En(s?s.length:1,null),h=f.slice();let g=a.child;for(;null!==g;){const y=s?bI(g,s):0;null!==y&&(h[y]?h[y].projectionNext=g:f[y]=g,h[y]=g),g=g.next}}}function Qb(s,a=0,c){const f=ge(),h=mt(),g=tu(h,20+s,16,null,c||null);null===g.projection&&(g.projection=a),Ed(),64!=(64&g.flags)&&function(s,a,c){Ng(a[11],0,a,c,p0(s,c,a),wg(c.parent||a[6],c,a))}(h,f,g)}function Im(s,a,c){return Vf(s,"",a,"",c),Im}function Vf(s,a,c,f,h){const g=ge(),y=du(g,a,c,f);return y!==Xe&&Qr(mt(),cn(),g,s,y,g[11],h,!1),Vf}function Nm(s,a,c,f,h){const g=s[c+1],y=null===a;let _=f?fi(g):ro(g),b=!1;for(;0!==_&&(!1===b||y);){const E=s[_+1];CI(s[_],a)&&(b=!0,s[_+1]=f?Og(E):xg(E)),_=f?fi(E):ro(E)}b&&(s[c+1]=f?xg(g):Og(g))}function CI(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&ci(s,a)>=0}const qt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function e1(s){return s.substring(qt.key,qt.keyEnd)}function Sn(s,a){const c=qt.textEnd;return c===a?-1:(a=qt.keyEnd=function(s,a,c){for(;a<c&&s.charCodeAt(a)>32;)a++;return a}(s,qt.key=a,c),nl(s,a,c))}function nl(s,a,c){for(;a<c&&s.charCodeAt(a)<=32;)a++;return a}function Sm(s,a,c){return gi(s,a,c,!1),Sm}function il(s,a){return gi(s,a,null,!0),il}function Bf(s){co(zr,Bi,s,!0)}function Bi(s,a){for(let c=function(s){return function(s){qt.key=0,qt.keyEnd=0,qt.value=0,qt.valueEnd=0,qt.textEnd=s.length}(s),Sn(s,nl(s,0,qt.textEnd))}(a);c>=0;c=Sn(a,c))zr(s,e1(a),!0)}function gi(s,a,c,f){const h=ge(),g=mt(),y=Ri(2);g.firstUpdatePass&&u1(g,s,y,f),a!==Xe&&Kn(h,y,a)&&Rm(g,g.data[cr()],h,h[11],s,h[y+1]=function(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=$(eo(s)))),s}(a,c),f,y)}function co(s,a,c,f){const h=mt(),g=Ri(2);h.firstUpdatePass&&u1(h,null,g,f);const y=ge();if(c!==Xe&&Kn(y,g,c)){const _=h.data[cr()];if(NI(_,f)&&!Am(h,g)){let b=f?_.classesWithoutHost:_.stylesWithoutHost;null!==b&&(c=V(b,c||"")),ym(h,_,y,c,f)}else!function(s,a,c,f,h,g,y,_){h===Xe&&(h=L);let b=0,C=0,E=0<h.length?h[0]:null,N=0<g.length?g[0]:null;for(;null!==E||null!==N;){const S=b<h.length?h[b+1]:void 0,k=C<g.length?g[C+1]:void 0;let ee,B=null;E===N?(b+=2,C+=2,S!==k&&(B=N,ee=k)):null===N||null!==E&&E<N?(b+=2,B=E):(C+=2,B=N,ee=k),null!==B&&Rm(s,a,c,f,B,ee,y,_),E=b<h.length?h[b]:null,N=C<g.length?g[C]:null}}(h,_,y,y[11],y[g+1],y[g+1]=function(s,a,c){if(null==c||""===c)return L;const f=[],h=eo(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(f,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(f,g,h[g]);else"string"==typeof h&&a(f,h);return f}(s,a,c),f,g)}}function Am(s,a){return a>=s.expandoStartIndex}function u1(s,a,c,f){const h=s.data;if(null===h[c+1]){const g=h[cr()],y=Am(s,c);NI(g,f)&&null===a&&!y&&(a=!1),a=function(s,a,c,f){const h=function(s){const a=Ke.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let g=f?a.residualClasses:a.residualStyles;if(null===h)0===(f?a.classBindings:a.styleBindings)&&(c=ol(c=xm(null,s,a,c,f),a.attrs,f),g=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(c=xm(h,s,a,c,f),null===g){let b=function(s,a,c){const f=c?a.classBindings:a.styleBindings;if(0!==ro(f))return s[fi(f)]}(s,a,f);void 0!==b&&Array.isArray(b)&&(b=xm(null,s,a,b[1],f),b=ol(b,a.attrs,f),function(s,a,c,f){s[fi(c?a.classBindings:a.styleBindings)]=f}(s,a,f,b))}else g=function(s,a,c){let f;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)f=ol(f,s[g].hostAttrs,c);return ol(f,a.attrs,c)}(s,a,f)}return void 0!==g&&(f?a.residualClasses=g:a.residualStyles=g),c}(h,g,a,f),function(s,a,c,f,h,g){let y=g?a.classBindings:a.styleBindings,_=fi(y),b=ro(y);s[f]=c;let E,C=!1;if(Array.isArray(c)){const N=c;E=N[1],(null===E||ci(N,E)>0)&&(C=!0)}else E=c;if(h)if(0!==b){const S=fi(s[_+1]);s[f+1]=no(S,_),0!==S&&(s[S+1]=Rg(s[S+1],f)),s[_+1]=function(s,a){return 131071&s|a<<17}(s[_+1],f)}else s[f+1]=no(_,0),0!==_&&(s[_+1]=Rg(s[_+1],f)),_=f;else s[f+1]=no(b,0),0===_?_=f:s[b+1]=Rg(s[b+1],f),b=f;C&&(s[f+1]=xg(s[f+1])),Nm(s,E,f,!0),Nm(s,E,f,!1),function(s,a,c,f,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof a&&ci(g,a)>=0&&(c[f+1]=Og(c[f+1]))}(a,E,s,f,g),y=no(_,b),g?a.classBindings=y:a.styleBindings=y}(h,g,a,c,y,f)}}function xm(s,a,c,f,h){let g=null;const y=c.directiveEnd;let _=c.directiveStylingLast;for(-1===_?_=c.directiveStart:_++;_<y&&(g=a[_],f=ol(f,g.hostAttrs,h),g!==s);)_++;return null!==s&&(c.directiveStylingLast=_),f}function ol(s,a,c){const f=c?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?h=y:h===f&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),zr(s,y,!!c||a[++g]))}return void 0===s?null:s}function Rm(s,a,c,f,h,g,y,_){if(!(3&a.type))return;const b=s.data,C=b[_+1];Ui(function(s){return 1==(1&s)}(C)?f1(b,a,c,h,ro(C),y):void 0)||(Ui(g)||function(s){return 2==(2&s)}(C)&&(g=f1(b,null,c,h,_,y)),function(s,a,c,f,h){const g=tn(s);if(a)h?g?s.addClass(c,f):c.classList.add(f):g?s.removeClass(c,f):c.classList.remove(f);else{let y=-1===f.indexOf("-")?void 0:Jr.DashCase;if(null==h)g?s.removeStyle(c,f,y):c.style.removeProperty(f);else{const _="string"==typeof h&&h.endsWith("!important");_&&(h=h.slice(0,-10),y|=Jr.Important),g?s.setStyle(c,f,h,y):c.style.setProperty(f,h,_?"important":"")}}}(f,y,wd(cr(),c),h,g))}function f1(s,a,c,f,h,g){const y=null===a;let _;for(;h>0;){const b=s[h],C=Array.isArray(b),E=C?b[1]:b,N=null===E;let S=c[h+1];S===Xe&&(S=N?L:void 0);let k=N?Hp(S,f):E===f?S:void 0;if(C&&!Ui(k)&&(k=Hp(b,f)),Ui(k)&&(_=k,y))return _;const B=s[h+1];h=y?fi(B):ro(B)}if(null!==a){let b=g?a.residualClasses:a.residualStyles;null!=b&&(_=Hp(b,f))}return _}function Ui(s){return void 0!==s}function NI(s,a){return 0!=(s.flags&(a?16:32))}function wu(s,a=""){const c=ge(),f=mt(),h=s+20,g=f.firstCreatePass?tu(f,h,1,a,null):f.data[h],y=c[h]=Ja(c[11],a);uf(f,c,y,g),ui(g,!1)}function p1(s){return Xs("",s,""),p1}function Xs(s,a,c){const f=ge(),h=du(f,s,a,c);return h!==Xe&&Fi(f,cr(),h),Xs}function g1(s,a,c,f,h){const g=ge(),y=function(s,a,c,f,h,g){const _=is(s,xi(),c,h);return Ri(2),_?a+me(c)+f+me(h)+g:Xe}(g,s,a,c,f,h);return y!==Xe&&Fi(g,cr(),y),g1}function km(s,a,c,f,h,g,y,_,b){co(zr,Bi,pu(ge(),s,a,c,f,h,g,y,_,b),!0)}function as(s,a,c){const f=ge();return Kn(f,qo(),a)&&Qr(mt(),cn(),f,s,a,f[11],c,!0),as}const ea=void 0;var FI=["en",[["a","p"],["AM","PM"],ea],[["AM","PM"],ea,ea],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ea,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ea,"{1} 'at' {0}",ea],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Du={};function at(s){const a=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=x1(a);if(c)return c;const f=a.split("-")[0];if(c=x1(f),c)return c;if("en"===f)return FI;throw new Error(`Missing locale data for the locale "${s}".`)}function M1(s){return at(s)[qe.PluralCase]}function x1(s){return s in Du||(Du[s]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[s]),Du[s]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const ox=["zero","one","two","few","many"],qf="en-US",Vm={marker:"element"},us={marker:"ICU"};var Qt=(()=>((Qt=Qt||{})[Qt.SHIFT=2]="SHIFT",Qt[Qt.APPEND_EAGERLY=1]="APPEND_EAGERLY",Qt[Qt.COMMENT=2]="COMMENT",Qt))();let Bm=qf;function Um(s){(function(s,a){null==s&&Se(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Bm=s.toLowerCase().replace(/_/g,"-"))}function jm(s,a,c){const f=a.insertBeforeIndex,h=Array.isArray(f)?f[0]:f;return null===h?Cg(s,0,c):Zt(c[h])}function Eu(s,a,c,f,h){const g=a.insertBeforeIndex;if(Array.isArray(g)){let y=f,_=null;if(3&a.type||(_=y,y=h),null!==y&&0==(2&a.flags))for(let b=1;b<g.length;b++)Gs(s,y,c[g[b]],_,!1)}}function O1(s,a){if(s.push(a),s.length>1)for(let c=s.length-2;c>=0;c--){const f=s[c];Hm(f)||jI(f,a)&&null===k1(f)&&ax(f,a.index)}}function Hm(s){return!(64&s.type)}function jI(s,a){return Hm(a)||s.index>a.index}function k1(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function ax(s,a){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=a:(b0(jm,Eu),s.insertBeforeIndex=a)}function sl(s,a){const c=s.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function cx(s,a,c){const f=Ug(s,c,64,null,null);return O1(a,f),f}function Gm(s,a){const c=a[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function GI(s){return s>>>17}function $I(s){return(131070&s)>>>1}let Yf=0,zf=0;function YI(s,a,c,f){const h=c[11];let y,g=null;for(let _=0;_<a.length;_++){const b=a[_];if("string"==typeof b){const C=a[++_];null===c[C]&&(c[C]=Ja(h,b))}else if("number"==typeof b)switch(1&b){case 0:const C=GI(b);let E,N;if(null===g&&(g=C,y=bg(h,f)),C===g?(E=f,N=y):(E=null,N=Zt(c[C])),null!==N){const ee=$I(b);Gs(h,N,c[ee],E,!1);const _e=sl(s,ee);if(null!==_e&&"object"==typeof _e){const ue=Gm(_e,c);null!==ue&&YI(s,_e.create[ue],c,c[_e.anchorIdx])}}break;case 1:const k=a[++_],B=a[++_];yf(h,wd(b>>>1,c),null,null,k,B,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${b}"`)}else switch(b){case us:const C=a[++_],E=a[++_];null===c[E]&&dr(c[E]=Pc(h,C),c);break;case Vm:const N=a[++_],S=a[++_];null===c[S]&&dr(c[S]=yg(h,N,null),c)}}}function P1(s,a,c,f,h){for(let g=0;g<c.length;g++){const y=c[g],_=c[++g];if(y&h){let b="";for(let C=g+1;C<=g+_;C++){const E=c[C];if("string"==typeof E)b+=E;else if("number"==typeof E)if(E<0)b+=me(a[f-E]);else{const N=E>>>2;switch(3&E){case 1:const S=c[++C],k=c[++C],B=s.data[N];"string"==typeof B?yf(a[11],a[N],null,B,S,b,k):Qr(s,B,a,S,b,a[11],k,!1);break;case 0:const ee=a[N];null!==ee&&l0(a[11],ee,b);break;case 2:px(s,sl(s,N),a,b);break;case 3:zI(s,sl(s,N),f,a)}}}}else{const b=c[g+1];if(b>0&&3==(3&b)){const E=sl(s,b>>>2);a[E.currentCaseLViewIndex]<0&&zI(s,E,f,a)}}g+=_}}function zI(s,a,c,f){let h=f[a.currentCaseLViewIndex];if(null!==h){let g=Yf;h<0&&(h=f[a.currentCaseLViewIndex]=~h,g=-1),P1(s,f,a.update[h],c,g)}}function px(s,a,c,f){const h=function(s,a){let c=s.cases.indexOf(a);if(-1===c)switch(s.type){case 1:{const f=function(s,a){const c=M1(a)(parseInt(s,10)),f=ox[c];return void 0!==f?f:"other"}(a,Bm);c=s.cases.indexOf(f),-1===c&&"other"!==f&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(a,f);if(Gm(a,c)!==h&&(ZI(s,a,c),c[a.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=c[a.anchorIdx];y&&YI(s,a.create[h],c,y)}}function ZI(s,a,c){let f=Gm(a,c);if(null!==f){const h=a.remove[f];for(let g=0;g<h.length;g++){const y=h[g];if(y>0){const _=wd(y,c);null!==_&&C0(c[11],_)}else ZI(s,sl(s,~y),c)}}}function mx(){const s=[];let c,f,a=-1;function g(_,b){a=0;const C=Gm(_,b);f=null!==C?_.remove[C]:L}function y(){if(a<f.length){const _=f[a++];return _>0?c[_]:(s.push(a,f),g(c[1].data[~_],c),y())}return 0===s.length?null:(f=s.pop(),a=s.pop(),y())}return function(_,b){for(c=b;s.length;)s.pop();return g(_.value,b),y}}const Tu=/\ufffd(\d+):?\d*\ufffd/gi,$m=/\ufffd(\d+)\ufffd/,L1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,qm=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,yx=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ul=/\uE500/g;function B1(s,a,c,f,h,g,y){const _=qs(s,f,1,null);let b=_<<Qt.SHIFT,C=As();a===C&&(C=null),null===C&&(b|=Qt.APPEND_EAGERLY),y&&(b|=Qt.COMMENT,function(s){void 0===of&&(of=s())}(mx)),h.push(b,null===g?"":g);const E=Ug(s,_,y?32:1,null===g?"":g,null);O1(c,E);const N=E.index;return ui(E,!1),null!==C&&a!==C&&function(s,a){let c=s.insertBeforeIndex;null===c?(b0(jm,Eu),c=s.insertBeforeIndex=[null,a]):(function(s,a,c){s!=a&&Se(c,s,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(C,N),E}function JI(s,a,c,f,h,g,y){const _=y.match(Tu),b=B1(s,a,c,g,f,_?null:y,!1);_&&Iu(h,y,b.index,null,0,null)}function Iu(s,a,c,f,h,g){const y=s.length,_=y+1;s.push(null,null);const b=y+2,C=a.split(Tu);let E=0;for(let N=0;N<C.length;N++){const S=C[N];if(1&N){const k=h+parseInt(S,10);s.push(-1-k),E|=cs(k)}else""!==S&&s.push(S)}return s.push(c<<2|(f?1:0)),f&&s.push(f,g),s[y]=E,s[_]=s.length-b,E}function cs(s){return 1<<Math.min(s,31)}function ll(s){let a,g,c="",f=0,h=!1;for(;null!==(a=qm.exec(s));)h?a[0]===`\ufffd/*${g}\ufffd`&&(f=a.index,h=!1):(c+=s.substring(f,a.index+a[0].length),g=a[1],h=!0);return c+=s.substr(f),c}function dl(s,a,c,f,h,g){let y=0;const _={type:h.type,currentCaseLViewIndex:qs(s,a,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(s,a,c){s.push(cs(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,h,g),function(s,a,c){const f=s.data[a];null===f?s.data[a]=c:f.value=c}(s,g,_);const b=h.values;for(let C=0;C<b.length;C++){const E=b[C],N=[];for(let S=0;S<E.length;S++){const k=E[S];if("string"!=typeof k){const B=N.push(k)-1;E[S]=`\x3c!--\ufffd${B}\ufffd--\x3e`}}y=_x(s,_,a,c,f,h.cases[C],E.join(""),N)|y}y&&function(s,a,c){s.push(a,1,c<<2|3)}(c,y,g)}function ta(s){const a=[],c=[];let f=1,h=0;const g=Wf(s=s.replace(L1,function(y,_,b){return f="select"===b?0:1,h=parseInt(_.substr(1),10),""}));for(let y=0;y<g.length;){let _=g[y++].trim();1===f&&(_=_.replace(/\s*(?:=)?(\w+)\s*/,"$1")),_.length&&a.push(_);const b=Wf(g[y++]);a.length>c.length&&c.push(b)}return{type:f,mainBinding:h,cases:a,values:c}}function Wf(s){if(!s)return[];let a=0;const c=[],f=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const _=g.index;if("}"==g[0]){if(c.pop(),0==c.length){const b=s.substring(a,_);L1.test(b)?f.push(ta(b)):f.push(b),a=_+1}}else{if(0==c.length){const b=s.substring(a,_);f.push(b),a=_+1}c.push("{")}}const y=s.substring(a);return f.push(y),f}function _x(s,a,c,f,h,g,y,_){const b=[],C=[],E=[];a.cases.push(g),a.create.push(b),a.remove.push(C),a.update.push(E);const S=$d(iv()).getInertBodyElement(y),k=Jd(S)||S;return k?KI(s,a,c,f,b,C,E,k,h,_,0):0}function KI(s,a,c,f,h,g,y,_,b,C,E){let N=0,S=_.firstChild;for(;S;){const k=qs(s,c,1,null);switch(S.nodeType){case Node.ELEMENT_NODE:const B=S,ee=B.tagName.toLowerCase();if(eg.hasOwnProperty(ee)){j1(h,Vm,ee,b,k),s.data[k]=ee;const ke=B.attributes;for(let $e=0;$e<ke.length;$e++){const dt=ke.item($e),Pn=dt.name.toLowerCase();dt.value.match(Tu)?Zd.hasOwnProperty(Pn)&&Iu(y,dt.value,k,dt.name,0,tg[Pn]?Nc:ng[Pn]?zd:null):Cx(h,k,dt)}N=KI(s,a,c,f,h,g,y,S,k,C,E+1)|N,XI(g,k,E)}break;case Node.TEXT_NODE:const q=S.textContent||"",_e=q.match(Tu);j1(h,null,_e?"":q,b,k),XI(g,k,E),_e&&(N=Iu(y,q,k,null,0,null)|N);break;case Node.COMMENT_NODE:const ue=$m.exec(S.textContent||"");if(ue){const $e=C[parseInt(ue[1],10)];j1(h,us,"",b,k),dl(s,c,f,b,$e,k),vx(g,k,E)}}S=S.nextSibling}return N}function XI(s,a,c){0===c&&s.push(a)}function vx(s,a,c){0===c&&(s.push(~a),s.push(a))}function j1(s,a,c,f,h){null!==a&&s.push(a),s.push(c,h,function(s,a,c){return 0|a<<17|c<<1}(0,f,h))}function Cx(s,a,c){s.push(a<<1|1,c.name,c.value)}function Ym(s,a,c=-1){const f=mt(),h=ge(),g=20+s,y=Ss(f.consts,a),_=As();f.firstCreatePass&&function(s,a,c,f,h,g){const y=As(),_=[],b=[],C=[[]],E=function(s){return s.replace(ul," ")}(h=function(s,a){if(function(s){return-1===s}(a))return ll(s);{const c=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,f=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return ll(s.substring(c,f))}}(h,g)).split(yx);for(let N=0;N<E.length;N++){let S=E[N];if(0==(1&N)){const k=Wf(S);for(let B=0;B<k.length;B++){let ee=k[B];if(0==(1&B)){const q=ee;""!==q&&JI(s,y,C[0],_,b,c,q)}else{const q=ee;if("object"!=typeof q)throw new Error(`Unable to parse ICU expression in "${h}" message.`);dl(s,c,b,a,q,B1(s,y,C[0],c,_,"",!0).index)}}}else{const k=47===S.charCodeAt(0),ee=(S.charCodeAt(k?1:0),20+Number.parseInt(S.substring(k?2:1)));if(k)C.shift(),ui(As(),!1);else{const q=cx(s,C[0],ee);C.unshift([]),ui(q,!0)}}}s.data[f]={create:_,update:b}}(f,null===_?0:_.index,h,g,y,c);const b=f.data[g],E=g0(f,_===h[6]?null:_,h);(function(s,a,c,f){const h=s[11];for(let g=0;g<a.length;g++){const y=a[g++],_=a[g],b=(y&Qt.COMMENT)===Qt.COMMENT,C=(y&Qt.APPEND_EAGERLY)===Qt.APPEND_EAGERLY,E=y>>>Qt.SHIFT;let N=s[E];null===N&&(N=s[E]=b?h.createComment(_):Ja(h,_)),C&&null!==c&&Gs(h,c,N,f,!1)}})(h,b.create,E,_&&8&_.type?h[_.index]:null),uv(!0)}function Zm(s,a,c){Ym(s,a,c),uv(!1)}function Wm(s){return function(s){s&&(Yf|=1<<Math.min(zf,31)),zf++}(Kn(ge(),qo(),s)),Wm}function fl(s){!function(s,a,c){if(zf>0){const f=s.data[c];P1(s,a,Array.isArray(f)?f:f.update,xi()-zf-1,Yf)}Yf=0,zf=0}(mt(),ge(),s+20)}function Qf(s,a,c,f,h){if(s=O(s),Array.isArray(s))for(let g=0;g<s.length;g++)Qf(s[g],a,c,f,h);else{const g=mt(),y=ge();let _=rs(s)?s:O(s.provide),b=zs(s);const C=Wt(),E=1048575&C.providerIndexes,N=C.directiveStart,S=C.providerIndexes>>20;if(rs(s)||!s.multi){const k=new Md(b,h,Xc),B=Jm(_,a,h?E:E+S,N);-1===B?(Pd(mc(C,y),g,_),Po(g,s,a.length),a.push(_),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),c.push(k),y.push(k)):(c[B]=k,y[B]=k)}else{const k=Jm(_,a,E+S,N),B=Jm(_,a,E,E+S),ee=k>=0&&c[k],q=B>=0&&c[B];if(h&&!q||!h&&!ee){Pd(mc(C,y),g,_);const _e=function(s,a,c,f,h){const g=new Md(s,c,Xc);return g.multi=[],g.index=a,g.componentProviders=0,Kf(g,h,f&&!c),g}(h?$1:Mx,c.length,h,f,b);!h&&q&&(c[B].providerFactory=_e),Po(g,s,a.length,0),a.push(_),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),c.push(_e),y.push(_e)}else Po(g,s,k>-1?k:B,Kf(c[h?B:k],b,!h&&f));!h&&f&&q&&c[B].componentProviders++}}}function Po(s,a,c,f){const h=rs(a);if(h||function(s){return!!s.useClass}(a)){const y=(a.useClass||a).prototype.ngOnDestroy;if(y){const _=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const b=_.indexOf(c);-1===b?_.push(c,[f,y]):_[b+1].push(f,y)}else _.push(c,y)}}}function Kf(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function Jm(s,a,c,f){for(let h=c;h<f;h++)if(a[h]===s)return h;return-1}function Mx(s,a,c,f){return Qm(this.multi,[])}function $1(s,a,c,f){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=yc(c,c[1],this.providerFactory.index,f);g=_.slice(0,y),Qm(h,g);for(let b=y;b<_.length;b++)g.push(_[b])}else g=[],Qm(h,g);return g}function Qm(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function Y1(s,a=[]){return c=>{c.providersResolver=(f,h)=>function(s,a,c){const f=mt();if(f.firstCreatePass){const h=Zi(s);Qf(c,f.data,f.blueprint,h,!0),Qf(a,f.data,f.blueprint,h,!1)}}(f,h?h(s):s,a)}}class z1{}const hl="ngComponent";class rN{resolveComponentFactory(a){throw function(s){const a=Error(`No component factory found for ${$(s)}. Did you add it to @NgModule.entryComponents?`);return a[hl]=s,a}(a)}}class ls{}function pl(...s){}function ds(s,a){return new mi(ai(s,a))}ls.NULL=new rN;const iN=function(){return ds(Wt(),ge())};let mi=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=iN,s})();function W1(s){return s instanceof mi?s.nativeElement:s}class gl{}let oN=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>Q1(),s})();const Q1=function(){const s=ge(),c=qr(Wt().index,s);return function(s){return s[11]}(No(c)?c:s)};let Xf=(()=>{class s{}return s.\u0275prov=Ct({token:s,providedIn:"root",factory:()=>null}),s})();class ty{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const ny=new ty("12.2.2");class aN{constructor(){}supports(a){return Kc(a)}create(a){return new uN(a)}}const ew=(s,a)=>a;class uN{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ew}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,f=this._removalsHead,h=0,g=null;for(;c||f;){const y=!f||c&&c.currentIndex<dN(f,h,g)?c:f,_=dN(y,h,g),b=y.currentIndex;if(y===f)h--,f=f._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{g||(g=[]);const C=_-h,E=b-h;if(C!=E){for(let S=0;S<C;S++){const k=S<g.length?g[S]:g[S]=0,B=k+S;E<=B&&B<C&&(g[S]=k+1)}g[y.previousIndex]=E-C}}_!==b&&a(y,_,b)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Kc(a))throw new Error(`Error trying to diff '${$(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,y,c=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let _=0;_<this.length;_++)g=a[_],y=this._trackByFn(_,g),null!==c&&Object.is(c.trackById,y)?(f&&(c=this._verifyReinsertion(c,g,y,_)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,y,_),f=!0),c=c._next}else h=0,function(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Qs()]();let f;for(;!(f=c.next()).done;)a(f.value)}}(a,_=>{y=this._trackByFn(h,_),null!==c&&Object.is(c.trackById,y)?(f&&(c=this._verifyReinsertion(c,_,y,h)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,y,h),f=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,f,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,h)):a=this._addAfter(new cN(c,f),g,h),a}_verifyReinsertion(a,c,f,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,c,f),this._addToMoves(a,f),a}_moveAfter(a,c,f){return this._unlink(a),this._insertAfter(a,c,f),this._addToMoves(a,f),a}_addAfter(a,c,f){return this._insertAfter(a,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,f){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new ry),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,f=a._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ry),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class cN{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lN{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const c=a._prevDup,f=a._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class ry{constructor(){this.map=new Map}put(a){const c=a.trackById;let f=this.map.get(c);f||(f=new lN,this.map.set(c,f)),f.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dN(s,a,c){const f=s.previousIndex;if(null===f)return f;let h=0;return c&&f<c.length&&(h=c[f]),f+a+h}class tw{constructor(){}supports(a){return a instanceof Map||bb(a)}create(){return new nw}}class nw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||bb(a)))throw new Error(`Error trying to diff '${$(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,f);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const f=a._prev;return c._next=a,c._prev=f,a._prev=c,f&&(f._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const f=new fN(a);return this._records.set(a,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(f=>c(a[f],f))}}class fN{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rw(){return new eh([new aN])}let eh=(()=>{class s{constructor(c){this.factories=c}static create(c,f){if(null!=f){const h=f.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:f=>s.create(c,f||rw()),deps:[[s,new Jo,new Xi]]}}find(c){const f=this.factories.find(h=>h.supports(c));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(s){return s.name||typeof s}(c)}'`)}}return s.\u0275prov=Ct({token:s,providedIn:"root",factory:rw}),s})();function iy(){return new th([new tw])}let th=(()=>{class s{constructor(c){this.factories=c}static create(c,f){if(f){const h=f.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:f=>s.create(c,f||iy()),deps:[[s,new Jo,new Xi]]}}find(c){const f=this.factories.find(h=>h.supports(c));if(f)return f;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return s.\u0275prov=Ct({token:s,providedIn:"root",factory:iy}),s})();function oy(s,a,c,f,h=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&f.push(Zt(g)),si(g))for(let _=10;_<g.length;_++){const b=g[_],C=b[1].firstChild;null!==C&&oy(b[1],b,C,f)}const y=c.type;if(8&y)oy(s,a,c.child,f);else if(32&y){const _=gg(c,a);let b;for(;b=_();)f.push(b)}else if(16&y){const _=w0(a,c);if(Array.isArray(_))f.push(..._);else{const b=Oc(a[16]);oy(b[1],b,_,f,!0)}}c=h?c.projectionNext:c.next}return f}class Su{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return oy(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(si(a)){const c=a[8],f=c?c.indexOf(this):-1;f>-1&&(_g(a,f),Be(c,f))}this._attachedToViewContainer=!1}f0(this._lView[1],this._lView)}onDestroy(a){Hn(this._lView[1],this._lView,null,a)}markForCheck(){bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,a,c){Id(!0);try{wf(s,a,c)}finally{Id(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Vc(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class hN extends Su{constructor(a){super(a),this._view=a}detectChanges(){ET(this._view)}checkNoChanges(){!function(s){Id(!0);try{ET(s)}finally{Id(!1)}}(this._view)}get context(){return null}}const iw=function(s){return function(s,a,c){if(_d(s)&&!c){const f=qr(s.index,a);return new Su(f,f)}return 47&s.type?new Su(a[16],a):null}(Wt(),ge(),16==(16&s))};let gN=(()=>{class s{}return s.__NG_ELEMENT_ID__=iw,s})();const yN=[new tw],sw=new eh([new aN]),vN=new th(yN),aw=function(){return sy(Wt(),ge())};let ml=(()=>{class s{}return s.__NG_ELEMENT_ID__=aw,s})();const wN=ml,CN=class extends wN{constructor(a,c,f){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(a){const c=this._declarationTContainer.tViews,f=Bc(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(f[19]=g.createEmbeddedView(c)),nu(c,f,a),new Su(f)}};function sy(s,a){return 4&s.type?new CN(a,s,ds(s,a)):null}class fs{}class uw{}const Fx=function(){return lw(Wt(),ge())};let yl=(()=>{class s{}return s.__NG_ELEMENT_ID__=Fx,s})();const IN=yl,ay=class extends IN{constructor(a,c,f){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=f}get element(){return ds(this._hostTNode,this._hostLView)}get injector(){return new _c(this._hostTNode,this._hostLView)}get parentInjector(){const a=kd(this._hostTNode,this._hostLView);if(Rd(a)){const c=gc(a,this._hostLView),f=xs(a);return new _c(c[1].data[f+8],c)}return new _c(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=cw(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,f){const h=a.createEmbeddedView(c||{});return this.insert(h,f),h}createComponent(a,c,f,h,g){const y=f||this.parentInjector;if(!g&&null==a.ngModule&&y){const b=y.get(fs,null);b&&(g=b)}const _=a.create(y,h,void 0,g);return this.insert(_.hostView,c),_}insert(a,c){const f=a._lView,h=f[1];if(si(f[3])){const E=this.indexOf(a);if(-1!==E)this.detach(E);else{const N=f[3],S=new ay(N,N[6],N[3]);S.detach(S.indexOf(a))}}const g=this._adjustIndex(c),y=this._lContainer;!function(s,a,c,f){const h=10+f,g=c.length;f>0&&(c[h-1][4]=a),f<g-10?(a[4]=c[h],Vd(c,10+f,a)):(c.push(a),a[4]=null),a[3]=c;const y=a[17];null!==y&&c!==y&&function(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(y,a);const _=a[19];null!==_&&_.insertView(s),a[2]|=128}(h,f,y,g);const _=Lc(g,y),b=f[11],C=bg(b,y[7]);return null!==C&&function(s,a,c,f,h,g){f[0]=h,f[6]=a,Vc(s,f,c,1,h,g)}(h,y[6],b,f,C,_),a.attachToViewContainerRef(),Vd(nh(y),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=cw(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),f=_g(this._lContainer,c);f&&(Be(nh(this._lContainer),c),f0(f[1],f))}detach(a){const c=this._adjustIndex(a,-1),f=_g(this._lContainer,c);return f&&null!=Be(nh(this._lContainer),c)?new Su(f):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function cw(s){return s[8]}function nh(s){return s[8]||(s[8]=[])}function lw(s,a){let c;const f=a[s.index];if(si(f))c=f;else{let h;if(8&s.type)h=Zt(f);else{const g=a[11];h=g.createComment("");const y=ai(s,a);Gs(g,bg(g,y),h,function(s,a){return tn(s)?s.nextSibling(a):a.nextSibling}(g,y),!1)}a[s.index]=c=_f(f,a,h,s),Hc(a,c)}return new ay(c,s,a)}const Ru={};class Sw extends ls{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=sr(a);return new My(c,this.ngModule)}}function ia(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}const GN=new ut("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Rc});class My extends z1{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=a.selectors.map(S0).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return ia(this.componentDef.inputs)}get outputs(){return ia(this.componentDef.outputs)}create(a,c,f,h){const g=(h=h||this.ngModule)?function(s,a){return{get:(c,f,h)=>{const g=s.get(c,Ru,h);return g!==Ru||f===Ru?g:a.get(c,f,h)}}}(a,h.injector):a,y=g.get(gl,Ba),_=g.get(Xf,null),b=y.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",E=f?function(s,a,c){if(tn(s))return s.selectRootElement(a,c===xe.ShadowDom);let f="string"==typeof a?s.querySelector(a):a;return f.textContent="",f}(b,f,this.componentDef.encapsulation):yg(y.createRenderer(null,this.componentDef),C,function(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(C)),N=this.componentDef.onPush?576:528,S=function(s,a){return{components:[],scheduler:s||Rc,clean:TT,playerHandler:a||null,flags:0}}(),k=gf(0,null,null,1,0,null,null,null,null,null),B=Bc(null,k,S,N,null,null,y,b,_,g);let ee,q;Nd(B);try{const _e=function(s,a,c,f,h,g){const y=c[1];c[20]=s;const b=tu(y,20,2,"#host",null),C=b.mergedAttrs=a.hostAttrs;null!==C&&(Ys(b,C,!0),null!==s&&(Vp(h,s,C),null!==b.classes&&Sg(h,s,b.classes),null!==b.styles&&D0(h,s,b.styles)));const E=f.createRenderer(s,a),N=Bc(c,j0(a),null,a.onPush?64:16,c[20],b,f,E,g||null,null);return y.firstCreatePass&&(Pd(mc(b,c),y,a.type),zg(y,b),Zg(b,c.length,1)),Hc(c,N),c[20]=N}(E,this.componentDef,B,y,b);if(E)if(f)Vp(b,E,["ng-version",ny.full]);else{const{attrs:ue,classes:ke}=function(s){const a=[],c=[];let f=1,h=2;for(;f<s.length;){let g=s[f];if("string"==typeof g)2===h?""!==g&&a.push(g,s[++f]):8===h&&c.push(g);else{if(!Pr(h))break;h=g}f++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);ue&&Vp(b,E,ue),ke&&ke.length>0&&Sg(b,E,ke.join(" "))}if(q=Ap(k,20),void 0!==c){const ue=q.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const $e=c[ke];ue.push(null!=$e?Array.from($e):null)}}ee=function(s,a,c,f,h){const g=c[1],y=function(s,a,c){const f=Wt();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Wg(s,f,a,qs(s,a,1,null),c));const h=yc(a,s,f.directiveStart,f);dr(h,a);const g=ai(f,a);return g&&dr(g,a),h}(g,c,a);if(f.components.push(y),s[8]=y,h&&h.forEach(b=>b(y,a)),a.contentQueries){const b=Wt();a.contentQueries(1,y,b.directiveStart)}const _=Wt();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ms(_.index),qg(c[1],_,0,_.directiveStart,_.directiveEnd,a),Yg(a,y)),y}(_e,this.componentDef,B,S,[pb]),nu(k,B,null)}finally{hc()}return new El(this.componentType,ee,ds(q,B),B,q)}}class El extends class{}{constructor(a,c,f,h,g){super(),this.location=f,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new hN(h),this.componentType=a}get injector(){return new _c(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const _n=new Map;class Mw extends fs{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sw(this);const f=oi(a),h=a[Te]||null;h&&Um(h),this._bootstrapComponents=Wr(f.bootstrap),this._r3Injector=Ef(a,c,[{provide:fs,useValue:this},{provide:ls,useValue:this.componentFactoryResolver}],$(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=xt.THROW_IF_NOT_FOUND,f=Ae.Default){return a===xt||a===fs||a===au?this:this._r3Injector.get(a,c,f)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Th extends uw{constructor(a){super(),this.moduleType=a,null!==oi(a)&&function(s){const a=new Set;!function c(f){const h=oi(f,!0),g=h.id;null!==g&&(function(s,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${s} - ${$(a)} vs ${$(a.name)}`)}(g,_n.get(g),f),_n.set(g,f));const y=Wr(h.imports);for(const _ of y)a.has(_)||(a.add(_),c(_))}(s)}(a)}create(a){return new Mw(this.moduleType,a)}}function Ih(s,a,c,f){return Ry(ge(),Vn(),s,a,c,f)}function Nh(s,a,c,f,h){return Oy(ge(),Vn(),s,a,c,f,h)}function Sh(s,a,c,f,h,g){return function(s,a,c,f,h,g,y,_){const b=a+c;return function(s,a,c,f,h){const g=is(s,a,c,f);return Kn(s,a+2,h)||g}(s,b,h,g,y)?ko(s,b+3,_?f.call(_,h,g,y):f(h,g,y)):sa(s,b+3)}(ge(),Vn(),s,a,c,f,h,g)}function sa(s,a){const c=s[a];return c===Xe?void 0:c}function Ry(s,a,c,f,h,g){const y=a+c;return Kn(s,y,h)?ko(s,y+1,g?f.call(g,h):f(h)):sa(s,y+1)}function Oy(s,a,c,f,h,g,y){const _=a+c;return is(s,_,h,g)?ko(s,_+2,y?f.call(y,h,g):f(h,g)):sa(s,_+2)}function Py(s,a){const c=mt();let f;const h=s+20;c.firstCreatePass?(f=function(s,a){if(a)for(let c=a.length-1;c>=0;c--){const f=a[c];if(s===f.name)return f}throw new pe("302",`The pipe '${s}' could not be found!`)}(a,c.pipeRegistry),c.data[h]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,f.onDestroy)):f=c.data[h];const g=f.factory||(f.factory=Ns(f.type)),y=en(Xc);try{const _=Od(!1),b=g();return Od(_),function(s,a,c,f){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=f}(c,ge(),h,b),b}finally{en(y)}}function Pu(s,a,c){const f=s+20,h=ge(),g=Ua(h,f);return aa(h,ho(h,f)?Ry(h,Vn(),a,g.transform,c,g):g.transform(c))}function ms(s,a,c,f){const h=s+20,g=ge(),y=Ua(g,h);return aa(g,ho(g,h)?Oy(g,Vn(),a,y.transform,c,f,y):y.transform(c,f))}function ho(s,a){return s[1].data[a].pure}function aa(s,a){return pi.isWrapped(a)&&(a=pi.unwrap(a),s[xi()]=Xe),a}function Rh(s){return a=>{setTimeout(s,void 0,a)}}const po=class extends l.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,f){var h,g,y;let _=a,b=c||(()=>null),C=f;if(a&&"object"==typeof a){const N=a;_=null===(h=N.next)||void 0===h?void 0:h.bind(N),b=null===(g=N.error)||void 0===g?void 0:g.bind(N),C=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(b=Rh(b),_&&(_=Rh(_)),C&&(C=Rh(C)));const E=super.subscribe({next:_,error:b,complete:C});return a instanceof K.w&&a.add(E),E}};function ca(){return this._results[Qs()]()}class vi{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Qs(),f=vi.prototype;f[c]||(f[c]=ca)}get changes(){return this._changes||(this._changes=new po)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const f=this;f.dirty=!1;const h=pn(a);(this._changesDetected=!function(s,a,c){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++){let h=s[f],g=a[f];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(f._results,h,c))&&(f._results=h,f.length=h.length,f.last=h[this.length-1],f.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ph{constructor(a){this.queryList=a,this.matches=null}clone(){return new Ph(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lt{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const f=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let g=0;g<f;g++){const y=c.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Lt(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Vw(a,c).matches&&this.queries[c].setDirty()}}class Nl{constructor(a,c,f=null){this.predicate=a,this.flags=c,this.read=f}}class By{constructor(a=[]){this.queries=a}elementStart(a,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let f=0;f<this.length;f++){const h=null!==c?c.length:0,g=this.getByIndex(f).embeddedTView(a,h);g&&(g.indexInDeclarationView=f,null!==c?c.push(g):c=[g])}return null!==c?new By(c):null}template(a,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Uy{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Uy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let h=0;h<f.length;h++){const g=f[h];this.matchTNodeWithReadOption(a,c,Sl(c,g)),this.matchTNodeWithReadOption(a,c,zo(c,a,g,!1,!1))}else f===ml?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,zo(c,a,f,!1,!1))}matchTNodeWithReadOption(a,c,f){if(null!==f){const h=this.metadata.read;if(null!==h)if(h===mi||h===yl||h===ml&&4&c.type)this.addMatch(c.index,-2);else{const g=zo(c,a,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,f)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Sl(s,a){const c=s.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===a)return c[f+1];return null}function WN(s,a,c,f){return-1===c?function(s,a){return 11&s.type?ds(s,a):4&s.type?sy(s,a):null}(a,s):-2===c?function(s,a,c){return c===mi?ds(a,s):c===ml?sy(a,s):c===yl?lw(a,s):void 0}(s,a,f):yc(s,s[1],c,a)}function kw(s,a,c,f){const h=a[19].queries[f];if(null===h.matches){const g=s.data,y=c.matches,_=[];for(let b=0;b<y.length;b+=2){const C=y[b];_.push(C<0?null:WN(a,g[C],y[b+1],c.metadata.read))}h.matches=_}return h.matches}function jy(s,a,c,f){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const y=kw(s,a,h,c);for(let _=0;_<g.length;_+=2){const b=g[_];if(b>0)f.push(y[_/2]);else{const C=g[_+1],E=a[-b];for(let N=10;N<E.length;N++){const S=E[N];S[17]===S[3]&&jy(S[1],S,C,f)}if(null!==E[9]){const N=E[9];for(let S=0;S<N.length;S++){const k=N[S];jy(k[1],k,C,f)}}}}}return f}function Pw(s){const a=ge(),c=mt(),f=lv();fc(f+1);const h=Vw(c,f);if(s.dirty&&xD(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?jy(c,a,f,[]):kw(c,a,h,f);s.reset(g,W1),s.notifyOnChanges()}return!0}return!1}function Fw(s,a,c){const f=mt();f.firstCreatePass&&(Gy(f,new Nl(s,a,c),-1),2==(2&a)&&(f.staticViewQueries=!0)),Hy(f,ge(),a)}function Fu(s,a,c,f){const h=mt();if(h.firstCreatePass){const g=Wt();Gy(h,new Nl(a,c,f),g.index),function(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}Hy(h,ge(),c)}function Vo(){return s=ge(),a=lv(),s[19].queries[a].queryList;var s,a}function Hy(s,a,c){const f=new vi(4==(4&c));Hn(s,a,f,f.destroy),null===a[19]&&(a[19]=new Lt),a[19].queries.push(new Ph(f))}function Gy(s,a,c){null===s.queries&&(s.queries=new By),s.queries.track(new Uy(a,c))}function Vw(s,a){return s.queries.getByIndex(a)}function Bw(s,a){return sy(s,a)}const nC=Iv("Input",s=>({bindingPropertyName:s})),Xr=Iv("Output",s=>({bindingPropertyName:s})),on=new ut("Application Initializer");let mo=(()=>{class s{constructor(c){this.appInits=c,this.resolve=pl,this.reject=pl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,h)=>{this.resolve=f,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Cm(g))c.push(g);else if(Dm(g)){const y=new Promise((_,b)=>{g.subscribe({complete:_,error:b})});c.push(y)}}Promise.all(c).then(()=>{f()}).catch(h=>{this.reject(h)}),0===c.length&&f(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Ft(on,8))},s.\u0275prov=Ct({token:s,factory:s.\u0275fac}),s})();const Yh=new ut("AppId"),Je={provide:Yh,useFactory:function(){return`${De()}${De()}${De()}`},deps:[]};function De(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uC=new ut("Platform Initializer"),Ky=new ut("Platform ID"),pt=new ut("appBootstrapListener");let Xy=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac}),s})();const er=new ut("LocaleId"),ct=new ut("DefaultCurrencyCode");class Gi{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}const e_=function(s){return new Th(s)},ys=e_,t_=function(s){return Promise.resolve(e_(s))},ju=function(s){const a=e_(s),f=Wr(oi(s).declarations).reduce((h,g)=>{const y=sr(g);return y&&h.push(new My(y)),h},[]);return new Gi(a,f)},ha=ju,Ue=function(s){return Promise.resolve(ju(s))};let $i=(()=>{class s{constructor(){this.compileModuleSync=ys,this.compileModuleAsync=t_,this.compileModuleAndAllComponentsSync=ha,this.compileModuleAndAllComponentsAsync=Ue}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac}),s})();const Hu=(()=>Promise.resolve(0))();function Zh(s){"undefined"==typeof Zone?Hu.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Cr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new po(!1),this.onMicrotaskEmpty=new po(!1),this.onStable=new po(!1),this.onError=new po(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!f&&c,h.shouldCoalesceRunChangeDetection=f,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let s=kt.requestAnimationFrame,a=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(s){const a=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Jh(s),s.isCheckStableRunning=!0,Gl(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Jh(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,h,g,y,_)=>{try{return $l(s),c.invokeTask(h,g,y,_)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&a(),Gu(s)}},onInvoke:(c,f,h,g,y,_,b)=>{try{return $l(s),c.invoke(h,g,y,_,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),Gu(s)}},onHasTask:(c,f,h,g)=>{c.hasTask(h,g),f===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Jh(s),Gl(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,f,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,f){return this._inner.run(a,c,f)}runTask(a,c,f,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,a,Wh,pl,pl);try{return g.runTask(y,c,f)}finally{g.cancelTask(y)}}runGuarded(a,c,f){return this._inner.runGuarded(a,c,f)}runOutsideAngular(a){return this._outer.run(a)}}const Wh={};function Gl(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Jh(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $l(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Gu(s){s._nesting--,Gl(s)}class ei{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new po,this.onMicrotaskEmpty=new po,this.onStable=new po,this.onError=new po}run(a,c,f){return a.apply(c,f)}runGuarded(a,c,f){return a.apply(c,f)}runOutsideAngular(a){return a()}runTask(a,c,f,h){return a.apply(c,f)}}let o_=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),Zh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zh(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,h){let g=-1;f&&f>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,f,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,f,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Ft(Cr))},s.\u0275prov=Ct({token:s,factory:s.\u0275fac}),s})(),zn=(()=>{class s{constructor(){this._applications=new Map,pa.addToWindow(this)}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return pa.findTestabilityInTree(this,c,f)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ct({token:s,factory:s.\u0275fac}),s})();class gS{addToWindow(a){}findTestabilityInTree(a,c,f){return null}}function dC(s){pa=s}let pa=new gS,ql=!0,Yl=!1;function Dr(){return Yl=!0,ql}function mS(){if(Yl)throw new Error("Cannot enable prod mode after platform setup.");ql=!1}let qi;const fC=new ut("AllowMultipleToken");class hC{constructor(a,c){this.name=a,this.token=c}}function _o(s,a,c=[]){const f=`Platform: ${a}`,h=new ut(f);return(g=[])=>{let y=Wl();if(!y||y.injector.get(fC,!1))if(s)s(c.concat(g).concat({provide:h,useValue:!0}));else{const _=c.concat(g).concat({provide:h,useValue:!0},{provide:Yc,useValue:"platform"});!function(s){if(qi&&!qi.destroyed&&!qi.injector.get(fC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qi=s.get(Jl);const a=s.get(uC,null);a&&a.forEach(c=>c())}(xt.create({providers:_,name:f}))}return function(s){const a=Wl();if(!a)throw new Error("No platform exists!");if(!a.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(h)}}function Wl(){return qi&&!qi.destroyed?qi:null}let Jl=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const _=function(s,a){let c;return c="noop"===s?new ei:("zone.js"===s?void 0:s)||new Cr({enableLongStackTrace:Dr(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),b=[{provide:Cr,useValue:_}];return _.run(()=>{const C=xt.create({providers:b,parent:this.injector,name:c.moduleType.name}),E=c.create(C),N=E.injector.get(Ya,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const S=_.onError.subscribe({next:k=>{N.handleError(k)}});E.onDestroy(()=>{Br(this._modules,E),S.unsubscribe()})}),function(s,a,c){try{const f=c();return Cm(f)?f.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):f}catch(f){throw a.runOutsideAngular(()=>s.handleError(f)),f}}(N,_,()=>{const S=E.injector.get(mo);return S.runInitializers(),S.donePromise.then(()=>(Um(E.injector.get(er,qf)||qf),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,f=[]){const h=Qh({},f);return function(s,a,c){const f=new Th(c);return Promise.resolve(f)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const f=c.injector.get(vo);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>f.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${$(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Ft(xt))},s.\u0275prov=Ct({token:s,factory:s.\u0275fac}),s})();function Qh(s,a){return Array.isArray(a)?a.reduce(Qh,s):Object.assign(Object.assign({},s),a)}let vo=(()=>{class s{constructor(c,f,h,g,y){this._zone=c,this._injector=f,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new ce.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),b=new ce.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),Zh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),N.unsubscribe()}});this.isStable=(0,oe.T)(_,b.pipe((0,se.B)()))}bootstrap(c,f){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=c instanceof z1?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const g=function(s){return s.isBoundToModule}(h)?void 0:this._injector.get(fs),_=h.create(xt.NULL,[],f||h.selector,g),b=_.location.nativeElement,C=_.injector.get(o_,null),E=C&&_.injector.get(zn);return C&&E&&E.registerApplication(b,C),_.onDestroy(()=>{this.detachView(_.hostView),Br(this.components,_),E&&E.unregisterApplication(b)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;Br(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(pt,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(Ft(Cr),Ft(xt),Ft(Ya),Ft(ls),Ft(mo))},s.\u0275prov=Ct({token:s,factory:s.\u0275fac}),s})();function Br(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}class mC{}class bC{}const Xh={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let DS=(()=>{class s{constructor(c,f){this._compiler=c,this._config=f||Xh}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[f,h]=c.split("#");return void 0===h&&(h="default"),R(8255)(f).then(g=>g[h]).then(g=>wC(g,f,h)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(c){let[f,h]=c.split("#"),g="NgFactory";return void 0===h&&(h="default",g=""),R(8255)(this._config.factoryPathPrefix+f+this._config.factoryPathSuffix).then(y=>y[h+g]).then(y=>wC(y,f,h))}}return s.\u0275fac=function(c){return new(c||s)(Ft($i),Ft(bC,8))},s.\u0275prov=Ct({token:s,factory:s.\u0275fac}),s})();function wC(s,a,c){if(!s)throw new Error(`Cannot find '${c}' in '${a}'`);return s}const bt=function(s){return null},np=_o(null,"core",[{provide:Ky,useValue:"unknown"},{provide:Jl,deps:[xt]},{provide:zn,deps:[]},{provide:Xy,deps:[]}]),RS=[{provide:vo,useClass:vo,deps:[Cr,xt,Ya,ls,mo]},{provide:GN,deps:[Cr],useFactory:function(s){let a=[];return s.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(c){a.push(c)}}},{provide:mo,useClass:mo,deps:[[new Xi,on]]},{provide:$i,useClass:$i,deps:[]},Je,{provide:eh,useFactory:function(){return sw},deps:[]},{provide:th,useFactory:function(){return vN},deps:[]},{provide:er,useFactory:function(s){return Um(s=s||"undefined"!=typeof $localize&&$localize.locale||qf),s},deps:[[new Ki(er),new Xi,new Jo]]},{provide:ct,useValue:"USD"}];let OS=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Ft(vo))},s.\u0275mod=ac({type:s}),s.\u0275inj=Cn({providers:RS}),s})()},57:(Fe,he,R)=>{"use strict";R.d(he,{hO:()=>Hr,xv:()=>Ne,Dh:()=>fe,HU:()=>U,GT:()=>pe,sI:()=>Xt,on:()=>Pe,ss:()=>O,pX:()=>ae,yq:()=>Qe});var l=R(7771),K=R(3637),ce=R(8307),oe=R(2639),se=R(9746),G=R(7716),te=R(2329);function $(){}Fe=R.hmd(Fe);class V{constructor(Q,J=l.N){this.zone=Q,this.delegate=J}now(){return this.delegate.now()}schedule(Q,J,Z){const ve=this.zone;return this.delegate.schedule(function(He){ve.runGuarded(()=>{Q.apply(this,[He])})},J,Z)}}class x{constructor(Q){this.zone=Q,this.task=null}call(Q,J){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$,{},$,$)),J.pipe((0,ce.b)({next:Z,complete:Z,error:Z})).subscribe(Q).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class U{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new V(Zone.current)),this.insideAngular=Q.run(()=>new V(Zone.current,K.z))}}function O(W){return function(J){return(J=J.lift(new x(W.ngZone))).pipe((0,oe.R)(W.outsideAngular),(0,se.QV)(W.insideAngular))}}const H=["ngOnDestroy"],ae=(W,Q,J,Z={})=>new Proxy(W,{get:(ve,X)=>J.runOutsideAngular(()=>{var He;if(W[X])return(null===(He=null==Z?void 0:Z.spy)||void 0===He?void 0:He.get)&&Z.spy.get(X,W[X]),W[X];if(H.indexOf(X)>-1)return()=>{};const We=Q.toPromise().then(jt=>{const Ve=jt&&jt[X];return"function"==typeof Ve?Ve.bind(jt):Ve&&Ve.then?Ve.then(ht=>J.run(()=>ht)):J.run(()=>Ve)});return new Proxy(()=>{},{get:(jt,Ve)=>We[Ve],apply:(jt,Ve,ht)=>We.then(Se=>{var Me;const ot=Se&&Se(...ht);return(null===(Me=null==Z?void 0:Z.spy)||void 0===Me?void 0:Me.apply)&&Z.spy.apply(X,ht,ot),ot})})})}),pe=(W,Q)=>{Q.forEach(J=>{Object.getOwnPropertyNames(J.prototype||J).forEach(Z=>{Object.defineProperty(W.prototype,Z,Object.getOwnPropertyDescriptor(J.prototype||J,Z))})})},fe=new G.OlP("angularfire2.app.options"),Ne=new G.OlP("angularfire2.app.nameOrConfig"),le=new G.GfV("6.1.5");function Pe(W,Q,J){const ve="object"==typeof J&&J||{};ve.name=ve.name||"string"==typeof J&&J||"[DEFAULT]";const He=te.Z.apps.filter(We=>We&&We.name===ve.name)[0]||Q.runOutsideAngular(()=>te.Z.initializeApp(W,ve));try{JSON.stringify(W)!==JSON.stringify(He.options)&&it("error",`${He.name} Firebase App already initialized with different options${Fe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return He}const Qe=()=>{it("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},it=(W,...Q)=>{(0,G.X6Q)()&&"undefined"!=typeof console&&console[W](...Q)};function Xt(W,Q,J,Z,ve){const[X,...He]=globalThis.\u0275AngularfireInstanceCache.get(W)||[];if(X){try{ve.some((We,jt)=>{const Ve=He[jt];return We&&"object"==typeof We?JSON.stringify(We)!==JSON.stringify(Ve):We!==Ve})&&it("error",`${Q} was already initialized on the ${J.name} Firebase App instance with different settings.${Fe.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(We){}return X}{const We=Z();return globalThis.\u0275AngularfireInstanceCache.set(W,[We,...ve]),We}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Ut={provide:class{},useFactory:Pe,deps:[fe,G.R0b,[new G.FiY,Ne]]};let Hr=(()=>{class W{constructor(J){te.Z.registerVersion("angularfire",le.full,J.toString()),te.Z.registerVersion("angular",G.q4F.full)}static initializeApp(J,Z){return{ngModule:W,providers:[{provide:fe,useValue:J},{provide:Ne,useValue:Z}]}}}return W.\u0275fac=function(J){return new(J||W)(G.LFG(G.Lbi))},W.\u0275mod=G.oAB({type:W}),W.\u0275inj=G.cJS({providers:[Ut]}),W})()},9759:(Fe,he,R)=>{"use strict";R.d(he,{Z:()=>ht});var se,it,l=R(4762),K=R(4685),ce=R(6034),oe=R(300),G=((se={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",se["bad-app-name"]="Illegal App name: '{$appName}",se["duplicate-app"]="Firebase App named '{$appName}' already exists",se["app-deleted"]="Firebase App named '{$appName}' already deleted",se["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",se["invalid-log-argument"]="First argument to `onLog` must be null or a function.",se),te=new K.LL("app","Firebase",G),$="@firebase/app",Mt="[DEFAULT]",Xt=((it={})[$]="fire-core",it["@firebase/analytics"]="fire-analytics",it["@firebase/app-check"]="fire-app-check",it["@firebase/auth"]="fire-auth",it["@firebase/database"]="fire-rtdb",it["@firebase/functions"]="fire-fn",it["@firebase/installations"]="fire-iid",it["@firebase/messaging"]="fire-fcm",it["@firebase/performance"]="fire-perf",it["@firebase/remote-config"]="fire-rc",it["@firebase/storage"]="fire-gcs",it["@firebase/firestore"]="fire-fst",it["fire-js"]="fire-js",it["firebase-wrapper"]="fire-js-all",it),Ut=new oe.Yd("@firebase/app"),Hr=function(){function Se(Me,ot,Ot){var Ct=this;this.firebase_=Ot,this.isDeleted_=!1,this.name_=ot.name,this.automaticDataCollectionEnabled_=ot.automaticDataCollectionEnabled||!1,this.options_=(0,K.p$)(Me),this.container=new ce.H0(ot.name),this._addComponent(new ce.wA("app",function(){return Ct},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Di){return Ct._addComponent(Di)})}return Object.defineProperty(Se.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Me){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Me},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Se.prototype.delete=function(){var Me=this;return new Promise(function(ot){Me.checkDestroyed_(),ot()}).then(function(){return Me.firebase_.INTERNAL.removeApp(Me.name_),Promise.all(Me.container.getProviders().map(function(ot){return ot.delete()}))}).then(function(){Me.isDeleted_=!0})},Se.prototype._getService=function(Me,ot){var Ot;void 0===ot&&(ot=Mt),this.checkDestroyed_();var Ct=this.container.getProvider(Me);return!Ct.isInitialized()&&"EXPLICIT"===(null===(Ot=Ct.getComponent())||void 0===Ot?void 0:Ot.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:ot})},Se.prototype._removeServiceInstance=function(Me,ot){void 0===ot&&(ot=Mt),this.container.getProvider(Me).clearInstance(ot)},Se.prototype._addComponent=function(Me){try{this.container.addComponent(Me)}catch(ot){Ut.debug("Component "+Me.name+" failed to register with FirebaseApp "+this.name,ot)}},Se.prototype._addOrOverwriteComponent=function(Me){this.container.addOrOverwriteComponent(Me)},Se.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Se.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw te.create("app-deleted",{appName:this.name_})},Se}();Hr.prototype.name&&Hr.prototype.options||Hr.prototype.delete||console.log("dc");var Z=function J(){var Se=function(Se){var Me={},ot=new Map,Ot={__esModule:!0,initializeApp:function(_t,vt){void 0===vt&&(vt={}),("object"!=typeof vt||null===vt)&&(vt={name:vt});var ir=vt;void 0===ir.name&&(ir.name=Mt);var Ae=ir.name;if("string"!=typeof Ae||!Ae)throw te.create("bad-app-name",{appName:String(Ae)});if((0,K.r3)(Me,Ae))throw te.create("duplicate-app",{appName:Ae});var Ht=new Se(_t,ir,Ot);return Me[Ae]=Ht,Ht},app:Di,registerVersion:function(_t,vt,Gr){var ir,Ae=null!==(ir=Xt[_t])&&void 0!==ir?ir:_t;Gr&&(Ae+="-"+Gr);var Ht=Ae.match(/\s|\//),Wn=vt.match(/\s|\//);if(Ht||Wn){var en=['Unable to register library "'+Ae+'" with version "'+vt+'":'];return Ht&&en.push('library name "'+Ae+'" contains illegal characters (whitespace or "/")'),Ht&&Wn&&en.push("and"),Wn&&en.push('version name "'+vt+'" contains illegal characters (whitespace or "/")'),void Ut.warn(en.join(" "))}rc(new ce.wA(Ae+"-version",function(){return{library:Ae,version:vt}},"VERSION"))},setLogLevel:oe.Ub,onLog:function(_t,vt){if(null!==_t&&"function"!=typeof _t)throw te.create("invalid-log-argument");(0,oe.Am)(_t,vt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:rc,removeApp:function(_t){delete Me[_t]},components:ot,useAsService:function(_t,vt){return"serverAuth"===vt?null:vt}}};function Di(_t){if(!(0,K.r3)(Me,_t=_t||Mt))throw te.create("no-app",{appName:_t});return Me[_t]}function rc(_t){var vt=_t.name;if(ot.has(vt))return Ut.debug("There were multiple attempts to register component "+vt+"."),"PUBLIC"===_t.type?Ot[vt]:null;if(ot.set(vt,_t),"PUBLIC"===_t.type){var Gr=function(Wn){if(void 0===Wn&&(Wn=Di()),"function"!=typeof Wn[vt])throw te.create("invalid-app-argument",{appName:vt});return Wn[vt]()};void 0!==_t.serviceProps&&(0,K.ZB)(Gr,_t.serviceProps),Ot[vt]=Gr,Se.prototype[vt]=function(){for(var Wn=[],en=0;en<arguments.length;en++)Wn[en]=arguments[en];return this._getService.bind(this,vt).apply(this,_t.multipleInstances?Wn:[])}}for(var ir=0,Ae=Object.keys(Me);ir<Ae.length;ir++)Me[Ae[ir]]._addComponent(_t);return"PUBLIC"===_t.type?Ot[vt]:null}return Ot.default=Ot,Object.defineProperty(Ot,"apps",{get:function(){return Object.keys(Me).map(function(_t){return Me[_t]})}}),Di.App=Se,Ot}(Hr);return Se.INTERNAL=(0,l.pi)((0,l.pi)({},Se.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function(ot){(0,K.ZB)(Se,ot)},createSubscribe:K.ne,ErrorFactory:K.LL,deepExtend:K.ZB}),Se}(),ve=function(){function Se(Me){this.container=Me}return Se.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ot){if(function(Se){var Me=Se.getComponent();return"VERSION"===(null==Me?void 0:Me.type)}(ot)){var Ot=ot.getImmediate();return Ot.library+"/"+Ot.version}return null}).filter(function(ot){return ot}).join(" ")},Se}();if((0,K.jU)()&&void 0!==self.firebase){Ut.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&Ut.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var jt=Z.initializeApp;Z.initializeApp=function(){for(var Se=[],Me=0;Me<arguments.length;Me++)Se[Me]=arguments[Me];return(0,K.UG)()&&Ut.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),jt.apply(void 0,Se)};var Se,Ve=Z;(Se=Ve).INTERNAL.registerComponent(new ce.wA("platform-logger",function(ot){return new ve(ot)},"PRIVATE")),Se.registerVersion($,"0.6.30",undefined),Se.registerVersion("fire-js","");const ht=Ve},6034:(Fe,he,R)=>{"use strict";R.d(he,{wA:()=>ce,H0:()=>$});var l=R(4762),K=R(4685),ce=function(){function V(x,U,O){this.name=x,this.instanceFactory=U,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return V.prototype.setInstantiationMode=function(x){return this.instantiationMode=x,this},V.prototype.setMultipleInstances=function(x){return this.multipleInstances=x,this},V.prototype.setServiceProps=function(x){return this.serviceProps=x,this},V.prototype.setInstanceCreatedCallback=function(x){return this.onInstanceCreated=x,this},V}(),oe="[DEFAULT]",se=function(){function V(x,U){this.name=x,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return V.prototype.get=function(x){var U=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(U)){var O=new K.BH;if(this.instancesDeferred.set(U,O),this.isInitialized(U)||this.shouldAutoInitialize())try{var H=this.getOrInitializeService({instanceIdentifier:U});H&&O.resolve(H)}catch(ae){}}return this.instancesDeferred.get(U).promise},V.prototype.getImmediate=function(x){var U,O=this.normalizeInstanceIdentifier(null==x?void 0:x.identifier),H=null!==(U=null==x?void 0:x.optional)&&void 0!==U&&U;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(H)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(ae){if(H)return null;throw ae}},V.prototype.getComponent=function(){return this.component},V.prototype.setComponent=function(x){var U,O;if(x.name!==this.name)throw Error("Mismatching Component "+x.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=x,this.shouldAutoInitialize()){if(function(V){return"EAGER"===V.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(Pe){}try{for(var H=(0,l.XA)(this.instancesDeferred.entries()),ae=H.next();!ae.done;ae=H.next()){var pe=(0,l.CR)(ae.value,2),Ne=pe[1],me=this.normalizeInstanceIdentifier(pe[0]);try{var le=this.getOrInitializeService({instanceIdentifier:me});Ne.resolve(le)}catch(Pe){}}}catch(Pe){U={error:Pe}}finally{try{ae&&!ae.done&&(O=H.return)&&O.call(H)}finally{if(U)throw U.error}}}},V.prototype.clearInstance=function(x){void 0===x&&(x=oe),this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)},V.prototype.delete=function(){return(0,l.mG)(this,void 0,void 0,function(){var x;return(0,l.Jh)(this,function(U){switch(U.label){case 0:return x=Array.from(this.instances.values()),[4,Promise.all((0,l.ev)((0,l.ev)([],(0,l.CR)(x.filter(function(O){return"INTERNAL"in O}).map(function(O){return O.INTERNAL.delete()}))),(0,l.CR)(x.filter(function(O){return"_delete"in O}).map(function(O){return O._delete()}))))];case 1:return U.sent(),[2]}})})},V.prototype.isComponentSet=function(){return null!=this.component},V.prototype.isInitialized=function(x){return void 0===x&&(x=oe),this.instances.has(x)},V.prototype.getOptions=function(x){return void 0===x&&(x=oe),this.instancesOptions.get(x)||{}},V.prototype.initialize=function(x){var U,O;void 0===x&&(x={});var H=x.options,ae=void 0===H?{}:H,pe=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(pe))throw Error(this.name+"("+pe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var fe=this.getOrInitializeService({instanceIdentifier:pe,options:ae});try{for(var Ne=(0,l.XA)(this.instancesDeferred.entries()),me=Ne.next();!me.done;me=Ne.next()){var le=(0,l.CR)(me.value,2),Qe=le[1];pe===this.normalizeInstanceIdentifier(le[0])&&Qe.resolve(fe)}}catch(Mt){U={error:Mt}}finally{try{me&&!me.done&&(O=Ne.return)&&O.call(Ne)}finally{if(U)throw U.error}}return fe},V.prototype.onInit=function(x,U){var O,H=this.normalizeInstanceIdentifier(U),ae=null!==(O=this.onInitCallbacks.get(H))&&void 0!==O?O:new Set;ae.add(x),this.onInitCallbacks.set(H,ae);var pe=this.instances.get(H);return pe&&x(pe,H),function(){ae.delete(x)}},V.prototype.invokeOnInitCallbacks=function(x,U){var O,H,ae=this.onInitCallbacks.get(U);if(ae)try{for(var pe=(0,l.XA)(ae),fe=pe.next();!fe.done;fe=pe.next()){var Ne=fe.value;try{Ne(x,U)}catch(me){}}}catch(me){O={error:me}}finally{try{fe&&!fe.done&&(H=pe.return)&&H.call(pe)}finally{if(O)throw O.error}}},V.prototype.getOrInitializeService=function(x){var U=x.instanceIdentifier,O=x.options,H=void 0===O?{}:O,ae=this.instances.get(U);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:G(U),options:H}),this.instances.set(U,ae),this.instancesOptions.set(U,H),this.invokeOnInitCallbacks(ae,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,ae)}catch(pe){}return ae||null},V.prototype.normalizeInstanceIdentifier=function(x){return void 0===x&&(x=oe),this.component?this.component.multipleInstances?x:oe:x},V.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},V}();function G(V){return V===oe?void 0:V}var $=function(){function V(x){this.name=x,this.providers=new Map}return V.prototype.addComponent=function(x){var U=this.getProvider(x.name);if(U.isComponentSet())throw new Error("Component "+x.name+" has already been registered with "+this.name);U.setComponent(x)},V.prototype.addOrOverwriteComponent=function(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)},V.prototype.getProvider=function(x){if(this.providers.has(x))return this.providers.get(x);var U=new se(x,this);return this.providers.set(x,U),U},V.prototype.getProviders=function(){return Array.from(this.providers.values())},V}()},300:(Fe,he,R)=>{"use strict";function l(){for(var O=0,H=0,ae=arguments.length;H<ae;H++)O+=arguments[H].length;var pe=Array(O),fe=0;for(H=0;H<ae;H++)for(var Ne=arguments[H],me=0,le=Ne.length;me<le;me++,fe++)pe[fe]=Ne[me];return pe}R.d(he,{in:()=>oe,Yd:()=>V,Ub:()=>x,Am:()=>U});var K,ce=[],oe=(()=>{return(O=oe||(oe={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",oe;var O})(),se={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},G=oe.INFO,te=((K={})[oe.DEBUG]="log",K[oe.VERBOSE]="log",K[oe.INFO]="info",K[oe.WARN]="warn",K[oe.ERROR]="error",K),$=function(O,H){for(var ae=[],pe=2;pe<arguments.length;pe++)ae[pe-2]=arguments[pe];if(!(H<O.logLevel)){var fe=(new Date).toISOString(),Ne=te[H];if(!Ne)throw new Error("Attempted to log a message with an invalid logType (value: "+H+")");console[Ne].apply(console,l(["["+fe+"]  "+O.name+":"],ae))}},V=function(){function O(H){this.name=H,this._logLevel=G,this._logHandler=$,this._userLogHandler=null,ce.push(this)}return Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(H){if(!(H in oe))throw new TypeError('Invalid value "'+H+'" assigned to `logLevel`');this._logLevel=H},enumerable:!1,configurable:!0}),O.prototype.setLogLevel=function(H){this._logLevel="string"==typeof H?se[H]:H},Object.defineProperty(O.prototype,"logHandler",{get:function(){return this._logHandler},set:function(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(H){this._userLogHandler=H},enumerable:!1,configurable:!0}),O.prototype.debug=function(){for(var H=[],ae=0;ae<arguments.length;ae++)H[ae]=arguments[ae];this._userLogHandler&&this._userLogHandler.apply(this,l([this,oe.DEBUG],H)),this._logHandler.apply(this,l([this,oe.DEBUG],H))},O.prototype.log=function(){for(var H=[],ae=0;ae<arguments.length;ae++)H[ae]=arguments[ae];this._userLogHandler&&this._userLogHandler.apply(this,l([this,oe.VERBOSE],H)),this._logHandler.apply(this,l([this,oe.VERBOSE],H))},O.prototype.info=function(){for(var H=[],ae=0;ae<arguments.length;ae++)H[ae]=arguments[ae];this._userLogHandler&&this._userLogHandler.apply(this,l([this,oe.INFO],H)),this._logHandler.apply(this,l([this,oe.INFO],H))},O.prototype.warn=function(){for(var H=[],ae=0;ae<arguments.length;ae++)H[ae]=arguments[ae];this._userLogHandler&&this._userLogHandler.apply(this,l([this,oe.WARN],H)),this._logHandler.apply(this,l([this,oe.WARN],H))},O.prototype.error=function(){for(var H=[],ae=0;ae<arguments.length;ae++)H[ae]=arguments[ae];this._userLogHandler&&this._userLogHandler.apply(this,l([this,oe.ERROR],H)),this._logHandler.apply(this,l([this,oe.ERROR],H))},O}();function x(O){ce.forEach(function(H){H.setLogLevel(O)})}function U(O,H){for(var ae=function(me){var le=null;H&&H.level&&(le=se[H.level]),me.userLogHandler=null===O?null:function(Pe,Qe){for(var it=[],Mt=2;Mt<arguments.length;Mt++)it[Mt-2]=arguments[Mt];var Xt=it.map(function(Ut){if(null==Ut)return null;if("string"==typeof Ut)return Ut;if("number"==typeof Ut||"boolean"==typeof Ut)return Ut.toString();if(Ut instanceof Error)return Ut.message;try{return JSON.stringify(Ut)}catch(Hr){return null}}).filter(function(Ut){return Ut}).join(" ");Qe>=(null!=le?le:Pe.logLevel)&&O({level:oe[Qe].toLowerCase(),message:Xt,args:it,type:Pe.name})}},pe=0,fe=ce;pe<fe.length;pe++)ae(fe[pe])}},4685:(Fe,he,R)=>{"use strict";R.d(he,{BH:()=>ae,LL:()=>He,r3:()=>Di,Sg:()=>pe,ne:()=>ir,p$:()=>U,ZB:()=>O,m9:()=>Rt,z$:()=>fe,jU:()=>le,ru:()=>Pe,d:()=>it,w1:()=>Mt,uI:()=>Ne,UG:()=>me,b$:()=>Qe,G6:()=>Hr,Mn:()=>Xt});var l=R(4762),se=function(L){for(var P=[],Y=0,ne=0;ne<L.length;ne++){var z=L.charCodeAt(ne);z<128?P[Y++]=z:z<2048?(P[Y++]=z>>6|192,P[Y++]=63&z|128):55296==(64512&z)&&ne+1<L.length&&56320==(64512&L.charCodeAt(ne+1))?(z=65536+((1023&z)<<10)+(1023&L.charCodeAt(++ne)),P[Y++]=z>>18|240,P[Y++]=z>>12&63|128,P[Y++]=z>>6&63|128,P[Y++]=63&z|128):(P[Y++]=z>>12|224,P[Y++]=z>>6&63|128,P[Y++]=63&z|128)}return P},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(L,P){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Y=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[],z=0;z<L.length;z+=3){var Te=L[z],je=z+1<L.length,gt=je?L[z+1]:0,Nt=z+2<L.length,Dt=Nt?L[z+2]:0,Sr=(15&gt)<<2|Dt>>6,Ds=63&Dt;Nt||(Ds=64,je||(Sr=64)),ne.push(Y[Te>>2],Y[(3&Te)<<4|gt>>4],Y[Sr],Y[Ds])}return ne.join("")},encodeString:function(L,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(L):this.encodeByteArray(se(L),P)},decodeString:function(L,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(L):function(L){for(var P=[],Y=0,ne=0;Y<L.length;){var z=L[Y++];if(z<128)P[ne++]=String.fromCharCode(z);else if(z>191&&z<224){var Te=L[Y++];P[ne++]=String.fromCharCode((31&z)<<6|63&Te)}else if(z>239&&z<365){var Nt=((7&z)<<18|(63&(Te=L[Y++]))<<12|(63&(je=L[Y++]))<<6|63&L[Y++])-65536;P[ne++]=String.fromCharCode(55296+(Nt>>10)),P[ne++]=String.fromCharCode(56320+(1023&Nt))}else{Te=L[Y++];var je=L[Y++];P[ne++]=String.fromCharCode((15&z)<<12|(63&Te)<<6|63&je)}}return P.join("")}(this.decodeStringToByteArray(L,P))},decodeStringToByteArray:function(L,P){this.init_();for(var Y=P?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[],z=0;z<L.length;){var Te=Y[L.charAt(z++)],gt=z<L.length?Y[L.charAt(z)]:0,Dt=++z<L.length?Y[L.charAt(z)]:64,Nr=++z<L.length?Y[L.charAt(z)]:64;if(++z,null==Te||null==gt||null==Dt||null==Nr)throw Error();ne.push(Te<<2|gt>>4),64!==Dt&&(ne.push(gt<<4&240|Dt>>2),64!==Nr&&ne.push(Dt<<6&192|Nr))}return ne},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}},V=function(L){return function(L){var P=se(L);return te.encodeByteArray(P,!0)}(L).replace(/\./g,"")};function U(L){return O(void 0,L)}function O(L,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return P}for(var ne in P)!P.hasOwnProperty(ne)||!H(ne)||(L[ne]=O(L[ne],P[ne]));return L}function H(L){return"__proto__"!==L}var ae=function(){function L(){var P=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Y,ne){P.resolve=Y,P.reject=ne})}return L.prototype.wrapCallback=function(P){var Y=this;return function(ne,z){ne?Y.reject(ne):Y.resolve(z),"function"==typeof P&&(Y.promise.catch(function(){}),1===P.length?P(ne):P(ne,z))}},L}();function pe(L,P){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ne=P||"demo-project",z=L.iat||0,Te=L.sub||L.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var je=(0,l.pi)({iss:"https://securetoken.google.com/"+ne,aud:ne,iat:z,exp:z+3600,auth_time:z,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},L);return[V(JSON.stringify({alg:"none",type:"JWT"})),V(JSON.stringify(je)),""].join(".")}function fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(L){return!1}}function le(){return"object"==typeof self&&self.self===self}function Pe(){var L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){return fe().indexOf("Electron/")>=0}function Mt(){var L=fe();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function Xt(){return fe().indexOf("MSAppHost/")>=0}function Hr(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var X=function(L){function P(Y,ne,z){var Te=L.call(this,ne)||this;return Te.code=Y,Te.customData=z,Te.name="FirebaseError",Object.setPrototypeOf(Te,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(Te,He.prototype.create),Te}return(0,l.ZT)(P,L),P}(Error),He=function(){function L(P,Y,ne){this.service=P,this.serviceName=Y,this.errors=ne}return L.prototype.create=function(P){for(var Y=[],ne=1;ne<arguments.length;ne++)Y[ne-1]=arguments[ne];var z=Y[0]||{},Te=this.service+"/"+P,je=this.errors[P],gt=je?We(je,z):"Error",Nt=this.serviceName+": "+gt+" ("+Te+").",Dt=new X(Te,Nt,z);return Dt},L}();function We(L,P){return L.replace(jt,function(Y,ne){var z=P[ne];return null!=z?String(z):"<"+ne+"?>"})}var jt=/\{\$([^}]+)}/g;function Di(L,P){return Object.prototype.hasOwnProperty.call(L,P)}function ir(L,P){var Y=new Ae(L,P);return Y.subscribe.bind(Y)}!function(){function L(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var P=1;P<this.blockSize;++P)this.pad_[P]=0;this.reset()}L.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},L.prototype.compress_=function(P,Y){Y||(Y=0);var ne=this.W_;if("string"==typeof P)for(var z=0;z<16;z++)ne[z]=P.charCodeAt(Y)<<24|P.charCodeAt(Y+1)<<16|P.charCodeAt(Y+2)<<8|P.charCodeAt(Y+3),Y+=4;else for(z=0;z<16;z++)ne[z]=P[Y]<<24|P[Y+1]<<16|P[Y+2]<<8|P[Y+3],Y+=4;for(z=16;z<80;z++)ne[z]=4294967295&((Te=ne[z-3]^ne[z-8]^ne[z-14]^ne[z-16])<<1|Te>>>31);var Nr,Sr,je=this.chain_[0],gt=this.chain_[1],Nt=this.chain_[2],Dt=this.chain_[3],or=this.chain_[4];for(z=0;z<80;z++){z<40?z<20?(Nr=Dt^gt&(Nt^Dt),Sr=1518500249):(Nr=gt^Nt^Dt,Sr=1859775393):z<60?(Nr=gt&Nt|Dt&(gt|Nt),Sr=2400959708):(Nr=gt^Nt^Dt,Sr=3395469782);var Te=(je<<5|je>>>27)+Nr+or+Sr+ne[z]&4294967295;or=Dt,Dt=Nt,Nt=4294967295&(gt<<30|gt>>>2),gt=je,je=Te}this.chain_[0]=this.chain_[0]+je&4294967295,this.chain_[1]=this.chain_[1]+gt&4294967295,this.chain_[2]=this.chain_[2]+Nt&4294967295,this.chain_[3]=this.chain_[3]+Dt&4294967295,this.chain_[4]=this.chain_[4]+or&4294967295},L.prototype.update=function(P,Y){if(null!=P){void 0===Y&&(Y=P.length);for(var ne=Y-this.blockSize,z=0,Te=this.buf_,je=this.inbuf_;z<Y;){if(0===je)for(;z<=ne;)this.compress_(P,z),z+=this.blockSize;if("string"==typeof P){for(;z<Y;)if(Te[je]=P.charCodeAt(z),++z,++je===this.blockSize){this.compress_(Te),je=0;break}}else for(;z<Y;)if(Te[je]=P[z],++z,++je===this.blockSize){this.compress_(Te),je=0;break}}this.inbuf_=je,this.total_+=Y}},L.prototype.digest=function(){var P=[],Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&Y,Y/=256;this.compress_(this.buf_);var z=0;for(ne=0;ne<5;ne++)for(var Te=24;Te>=0;Te-=8)P[z]=this.chain_[ne]>>Te&255,++z;return P}}();var Ae=function(){function L(P,Y){var ne=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(function(){P(ne)}).catch(function(z){ne.error(z)})}return L.prototype.next=function(P){this.forEachObserver(function(Y){Y.next(P)})},L.prototype.error=function(P){this.forEachObserver(function(Y){Y.error(P)}),this.close(P)},L.prototype.complete=function(){this.forEachObserver(function(P){P.complete()}),this.close()},L.prototype.subscribe=function(P,Y,ne){var Te,z=this;if(void 0===P&&void 0===Y&&void 0===ne)throw new Error("Missing Observer.");void 0===(Te=function(L,P){if("object"!=typeof L||null===L)return!1;for(var Y=0,ne=["next","error","complete"];Y<ne.length;Y++){var z=ne[Y];if(z in L&&"function"==typeof L[z])return!0}return!1}(P)?P:{next:P,error:Y,complete:ne}).next&&(Te.next=en),void 0===Te.error&&(Te.error=en),void 0===Te.complete&&(Te.complete=en);var je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{z.finalError?Te.error(z.finalError):Te.complete()}catch(gt){}}),this.observers.push(Te),je},L.prototype.unsubscribeOne=function(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},L.prototype.forEachObserver=function(P){if(!this.finalized)for(var Y=0;Y<this.observers.length;Y++)this.sendOne(Y,P)},L.prototype.sendOne=function(P,Y){var ne=this;this.task.then(function(){if(void 0!==ne.observers&&void 0!==ne.observers[P])try{Y(ne.observers[P])}catch(z){"undefined"!=typeof console&&console.error&&console.error(z)}})},L.prototype.close=function(P){var Y=this;this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(function(){Y.observers=void 0,Y.onNoObservers=void 0}))},L}();function en(){}function Rt(L){return L&&L._delegate?L._delegate:L}},2329:(Fe,he,R)=>{"use strict";R.d(he,{Z:()=>l.Z});var l=R(9759);l.Z.registerVersion("firebase","8.10.0","app"),l.Z.SDK_VERSION="8.10.0"},1593:(Fe,he,R)=>{"use strict";R.d(he,{P:()=>te});var l=R(9193),K=R(5917),ce=R(7574);class te{constructor(V,x,U){this.kind=V,this.value=x,this.error=U,this.hasValue="N"===V}observe(V){switch(this.kind){case"N":return V.next&&V.next(this.value);case"E":return V.error&&V.error(this.error);case"C":return V.complete&&V.complete()}}do(V,x,U){switch(this.kind){case"N":return V&&V(this.value);case"E":return x&&x(this.error);case"C":return U&&U()}}accept(V,x,U){return V&&"function"==typeof V.next?this.observe(V):this.do(V,x,U)}toObservable(){switch(this.kind){case"N":return(0,K.of)(this.value);case"E":return $=this.error,new ce.y(x=>x.error($));case"C":return(0,l.c)()}var $;throw new Error("unexpected notification kind value")}static createNext(V){return void 0!==V?new te("N",V):te.undefinedValueNotification}static createError(V){return new te("E",void 0,V)}static createComplete(){return te.completeNotification}}te.completeNotification=new te("C"),te.undefinedValueNotification=new te("N",void 0)},7574:(Fe,he,R)=>{"use strict";R.d(he,{y:()=>U});var l=R(7393),ce=R(9181),oe=R(6490),G=R(6554),te=R(4487);var x=R(2494);let U=(()=>{class H{constructor(pe){this._isScalar=!1,pe&&(this._subscribe=pe)}lift(pe){const fe=new H;return fe.source=this,fe.operator=pe,fe}subscribe(pe,fe,Ne){const{operator:me}=this,le=function(H,ae,pe){if(H){if(H instanceof l.L)return H;if(H[ce.b])return H[ce.b]()}return H||ae||pe?new l.L(H,ae,pe):new l.L(oe.c)}(pe,fe,Ne);if(le.add(me?me.call(le,this.source):this.source||x.v.useDeprecatedSynchronousErrorHandling&&!le.syncErrorThrowable?this._subscribe(le):this._trySubscribe(le)),x.v.useDeprecatedSynchronousErrorHandling&&le.syncErrorThrowable&&(le.syncErrorThrowable=!1,le.syncErrorThrown))throw le.syncErrorValue;return le}_trySubscribe(pe){try{return this._subscribe(pe)}catch(fe){x.v.useDeprecatedSynchronousErrorHandling&&(pe.syncErrorThrown=!0,pe.syncErrorValue=fe),function(H){for(;H;){const{closed:ae,destination:pe,isStopped:fe}=H;if(ae||fe)return!1;H=pe&&pe instanceof l.L?pe:null}return!0}(pe)?pe.error(fe):console.warn(fe)}}forEach(pe,fe){return new(fe=O(fe))((Ne,me)=>{let le;le=this.subscribe(Pe=>{try{pe(Pe)}catch(Qe){me(Qe),le&&le.unsubscribe()}},me,Ne)})}_subscribe(pe){const{source:fe}=this;return fe&&fe.subscribe(pe)}[G.L](){return this}pipe(...pe){return 0===pe.length?this:function(H){return 0===H.length?te.y:1===H.length?H[0]:function(pe){return H.reduce((fe,Ne)=>Ne(fe),pe)}}(pe)(this)}toPromise(pe){return new(pe=O(pe))((fe,Ne)=>{let me;this.subscribe(le=>me=le,le=>Ne(le),()=>fe(me))})}}return H.create=ae=>new H(ae),H})();function O(H){if(H||(H=x.v.Promise||Promise),!H)throw new Error("no Promise impl found");return H}},6490:(Fe,he,R)=>{"use strict";R.d(he,{c:()=>ce});var l=R(2494),K=R(4449);const ce={closed:!0,next(oe){},error(oe){if(l.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,K.z)(oe)},complete(){}}},9765:(Fe,he,R)=>{"use strict";R.d(he,{Yc:()=>te,xQ:()=>$});var l=R(7574),K=R(7393),ce=R(5319),oe=R(7971),se=R(8858),G=R(9181);class te extends K.L{constructor(U){super(U),this.destination=U}}let $=(()=>{class x extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[G.b](){return new te(this)}lift(O){const H=new V(this,this);return H.operator=O,H}next(O){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:H}=this,ae=H.length,pe=H.slice();for(let fe=0;fe<ae;fe++)pe[fe].next(O)}}error(O){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=O,this.isStopped=!0;const{observers:H}=this,ae=H.length,pe=H.slice();for(let fe=0;fe<ae;fe++)pe[fe].error(O);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:O}=this,H=O.length,ae=O.slice();for(let pe=0;pe<H;pe++)ae[pe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(O){if(this.closed)throw new oe.N;return super._trySubscribe(O)}_subscribe(O){if(this.closed)throw new oe.N;return this.hasError?(O.error(this.thrownError),ce.w.EMPTY):this.isStopped?(O.complete(),ce.w.EMPTY):(this.observers.push(O),new se.W(this,O))}asObservable(){const O=new l.y;return O.source=this,O}}return x.create=(U,O)=>new V(U,O),x})();class V extends ${constructor(U,O){super(),this.destination=U,this.source=O}next(U){const{destination:O}=this;O&&O.next&&O.next(U)}error(U){const{destination:O}=this;O&&O.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:O}=this;return O?this.source.subscribe(U):ce.w.EMPTY}}},8858:(Fe,he,R)=>{"use strict";R.d(he,{W:()=>K});var l=R(5319);class K extends l.w{constructor(oe,se){super(),this.subject=oe,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,se=oe.observers;if(this.subject=null,!se||0===se.length||oe.isStopped||oe.closed)return;const G=se.indexOf(this.subscriber);-1!==G&&se.splice(G,1)}}},7393:(Fe,he,R)=>{"use strict";R.d(he,{L:()=>te});var l=R(9105),K=R(6490),ce=R(5319),oe=R(9181),se=R(2494),G=R(4449);class te extends ce.w{constructor(x,U,O){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=K.c;break;case 1:if(!x){this.destination=K.c;break}if("object"==typeof x){x instanceof te?(this.syncErrorThrowable=x.syncErrorThrowable,this.destination=x,x.add(this)):(this.syncErrorThrowable=!0,this.destination=new $(this,x));break}default:this.syncErrorThrowable=!0,this.destination=new $(this,x,U,O)}}[oe.b](){return this}static create(x,U,O){const H=new te(x,U,O);return H.syncErrorThrowable=!1,H}next(x){this.isStopped||this._next(x)}error(x){this.isStopped||(this.isStopped=!0,this._error(x))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(x){this.destination.next(x)}_error(x){this.destination.error(x),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:x}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=x,this}}class $ extends te{constructor(x,U,O,H){super(),this._parentSubscriber=x;let ae,pe=this;(0,l.m)(U)?ae=U:U&&(ae=U.next,O=U.error,H=U.complete,U!==K.c&&(pe=Object.create(U),(0,l.m)(pe.unsubscribe)&&this.add(pe.unsubscribe.bind(pe)),pe.unsubscribe=this.unsubscribe.bind(this))),this._context=pe,this._next=ae,this._error=O,this._complete=H}next(x){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;se.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,x)&&this.unsubscribe():this.__tryOrUnsub(this._next,x)}}error(x){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:O}=se.v;if(this._error)O&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,x),this.unsubscribe()):(this.__tryOrUnsub(this._error,x),this.unsubscribe());else if(U.syncErrorThrowable)O?(U.syncErrorValue=x,U.syncErrorThrown=!0):(0,G.z)(x),this.unsubscribe();else{if(this.unsubscribe(),O)throw x;(0,G.z)(x)}}}complete(){if(!this.isStopped){const{_parentSubscriber:x}=this;if(this._complete){const U=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&x.syncErrorThrowable?(this.__tryOrSetError(x,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(x,U){try{x.call(this._context,U)}catch(O){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw O;(0,G.z)(O)}}__tryOrSetError(x,U,O){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,O)}catch(H){return se.v.useDeprecatedSynchronousErrorHandling?(x.syncErrorValue=H,x.syncErrorThrown=!0,!0):((0,G.z)(H),!0)}return!1}_unsubscribe(){const{_parentSubscriber:x}=this;this._context=null,this._parentSubscriber=null,x.unsubscribe()}}},5319:(Fe,he,R)=>{"use strict";R.d(he,{w:()=>G});var l=R(9796),K=R(1555),ce=R(9105);const se=(()=>{function $(V){return Error.call(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((x,U)=>`${U+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V,this}return $.prototype=Object.create(Error.prototype),$})();class G{constructor(V){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,V&&(this._ctorUnsubscribe=!0,this._unsubscribe=V)}unsubscribe(){let V;if(this.closed)return;let{_parentOrParents:x,_ctorUnsubscribe:U,_unsubscribe:O,_subscriptions:H}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,x instanceof G)x.remove(this);else if(null!==x)for(let ae=0;ae<x.length;++ae)x[ae].remove(this);if((0,ce.m)(O)){U&&(this._unsubscribe=void 0);try{O.call(this)}catch(ae){V=ae instanceof se?te(ae.errors):[ae]}}if((0,l.k)(H)){let ae=-1,pe=H.length;for(;++ae<pe;){const fe=H[ae];if((0,K.K)(fe))try{fe.unsubscribe()}catch(Ne){V=V||[],Ne instanceof se?V=V.concat(te(Ne.errors)):V.push(Ne)}}}if(V)throw new se(V)}add(V){let x=V;if(!V)return G.EMPTY;switch(typeof V){case"function":x=new G(V);case"object":if(x===this||x.closed||"function"!=typeof x.unsubscribe)return x;if(this.closed)return x.unsubscribe(),x;if(!(x instanceof G)){const H=x;x=new G,x._subscriptions=[H]}break;default:throw new Error("unrecognized teardown "+V+" added to Subscription.")}let{_parentOrParents:U}=x;if(null===U)x._parentOrParents=this;else if(U instanceof G){if(U===this)return x;x._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return x;U.push(this)}const O=this._subscriptions;return null===O?this._subscriptions=[x]:O.push(x),x}remove(V){const x=this._subscriptions;if(x){const U=x.indexOf(V);-1!==U&&x.splice(U,1)}}}var $;function te($){return $.reduce((V,x)=>V.concat(x instanceof se?x.errors:x),[])}G.EMPTY=(($=new G).closed=!0,$)},2494:(Fe,he,R)=>{"use strict";R.d(he,{v:()=>K});let l=!1;const K={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ce){if(ce){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=ce},get useDeprecatedSynchronousErrorHandling(){return l}}},5345:(Fe,he,R)=>{"use strict";R.d(he,{IY:()=>oe,Ds:()=>G,ft:()=>$});var l=R(7393),K=R(7574),ce=R(7444);class oe extends l.L{constructor(x){super(),this.parent=x}_next(x){this.parent.notifyNext(x)}_error(x){this.parent.notifyError(x),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class G extends l.L{notifyNext(x){this.destination.next(x)}notifyError(x){this.destination.error(x)}notifyComplete(){this.destination.complete()}}function $(V,x){if(x.closed)return;if(V instanceof K.y)return V.subscribe(x);let U;try{U=(0,ce.s)(V)(x)}catch(O){x.error(O)}return U}},2441:(Fe,he,R)=>{"use strict";R.d(he,{c:()=>se,N:()=>G});var l=R(9765),K=R(7574),ce=R(5319),oe=R(1307);class se extends K.y{constructor(U,O){super(),this.source=U,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new ce.w,U.add(this.source.subscribe(new te(this.getSubject(),this))),U.closed&&(this._connection=null,U=ce.w.EMPTY)),U}refCount(){return(0,oe.x)()(this)}}const G=(()=>{const x=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:x._subscribe},_isComplete:{value:x._isComplete,writable:!0},getSubject:{value:x.getSubject},connect:{value:x.connect},refCount:{value:x.refCount}}})();class te extends l.Yc{constructor(U,O){super(U),this.connectable=O}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const O=U._connection;U._refCount=0,U._subject=null,U._connection=null,O&&O.unsubscribe()}}}},9193:(Fe,he,R)=>{"use strict";R.d(he,{E:()=>K,c:()=>ce});var l=R(7574);const K=new l.y(se=>se.complete());function ce(se){return se?function(se){return new l.y(G=>se.schedule(()=>G.complete()))}(se):K}},4402:(Fe,he,R)=>{"use strict";R.d(he,{D:()=>pe});var l=R(7574),K=R(7444),ce=R(5319),oe=R(6554),te=R(4087),$=R(377),U=R(4072),O=R(9489);function pe(fe,Ne){return Ne?function(fe,Ne){if(null!=fe){if(function(fe){return fe&&"function"==typeof fe[oe.L]}(fe))return function(fe,Ne){return new l.y(me=>{const le=new ce.w;return le.add(Ne.schedule(()=>{const Pe=fe[oe.L]();le.add(Pe.subscribe({next(Qe){le.add(Ne.schedule(()=>me.next(Qe)))},error(Qe){le.add(Ne.schedule(()=>me.error(Qe)))},complete(){le.add(Ne.schedule(()=>me.complete()))}}))})),le})}(fe,Ne);if((0,U.t)(fe))return function(fe,Ne){return new l.y(me=>{const le=new ce.w;return le.add(Ne.schedule(()=>fe.then(Pe=>{le.add(Ne.schedule(()=>{me.next(Pe),le.add(Ne.schedule(()=>me.complete()))}))},Pe=>{le.add(Ne.schedule(()=>me.error(Pe)))}))),le})}(fe,Ne);if((0,O.z)(fe))return(0,te.r)(fe,Ne);if(function(fe){return fe&&"function"==typeof fe[$.hZ]}(fe)||"string"==typeof fe)return function(fe,Ne){if(!fe)throw new Error("Iterable cannot be null");return new l.y(me=>{const le=new ce.w;let Pe;return le.add(()=>{Pe&&"function"==typeof Pe.return&&Pe.return()}),le.add(Ne.schedule(()=>{Pe=fe[$.hZ](),le.add(Ne.schedule(function(){if(me.closed)return;let Qe,it;try{const Mt=Pe.next();Qe=Mt.value,it=Mt.done}catch(Mt){return void me.error(Mt)}it?me.complete():(me.next(Qe),this.schedule())}))})),le})}(fe,Ne)}throw new TypeError((null!==fe&&typeof fe||fe)+" is not observable")}(fe,Ne):fe instanceof l.y?fe:new l.y((0,K.s)(fe))}},6693:(Fe,he,R)=>{"use strict";R.d(he,{n:()=>oe});var l=R(7574),K=R(5015),ce=R(4087);function oe(se,G){return G?(0,ce.r)(se,G):new l.y((0,K.V)(se))}},6682:(Fe,he,R)=>{"use strict";R.d(he,{T:()=>se});var l=R(7574),K=R(4869),ce=R(3282),oe=R(6693);function se(...G){let te=Number.POSITIVE_INFINITY,$=null,V=G[G.length-1];return(0,K.K)(V)?($=G.pop(),G.length>1&&"number"==typeof G[G.length-1]&&(te=G.pop())):"number"==typeof V&&(te=G.pop()),null===$&&1===G.length&&G[0]instanceof l.y?G[0]:(0,ce.J)(te)((0,oe.n)(G,$))}},5917:(Fe,he,R)=>{"use strict";R.d(he,{of:()=>oe});var l=R(4869),K=R(6693),ce=R(4087);function oe(...se){let G=se[se.length-1];return(0,l.K)(G)?(se.pop(),(0,ce.r)(se,G)):(0,K.n)(se)}},8002:(Fe,he,R)=>{"use strict";R.d(he,{U:()=>K});var l=R(7393);function K(se,G){return function($){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return $.lift(new ce(se,G))}}class ce{constructor(G,te){this.project=G,this.thisArg=te}call(G,te){return te.subscribe(new oe(G,this.project,this.thisArg))}}class oe extends l.L{constructor(G,te,$){super(G),this.project=te,this.count=0,this.thisArg=$||this}_next(G){let te;try{te=this.project.call(this.thisArg,G,this.count++)}catch($){return void this.destination.error($)}this.destination.next(te)}}},3282:(Fe,he,R)=>{"use strict";R.d(he,{J:()=>ce});var l=R(9773),K=R(4487);function ce(oe=Number.POSITIVE_INFINITY){return(0,l.zg)(K.y,oe)}},9773:(Fe,he,R)=>{"use strict";R.d(he,{zg:()=>oe});var l=R(8002),K=R(4402),ce=R(5345);function oe($,V,x=Number.POSITIVE_INFINITY){return"function"==typeof V?U=>U.pipe(oe((O,H)=>(0,K.D)($(O,H)).pipe((0,l.U)((ae,pe)=>V(O,ae,H,pe))),x)):("number"==typeof V&&(x=V),U=>U.lift(new se($,x)))}class se{constructor(V,x=Number.POSITIVE_INFINITY){this.project=V,this.concurrent=x}call(V,x){return x.subscribe(new G(V,this.project,this.concurrent))}}class G extends ce.Ds{constructor(V,x,U=Number.POSITIVE_INFINITY){super(V),this.project=x,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(V){this.active<this.concurrent?this._tryNext(V):this.buffer.push(V)}_tryNext(V){let x;const U=this.index++;try{x=this.project(V,U)}catch(O){return void this.destination.error(O)}this.active++,this._innerSub(x)}_innerSub(V){const x=new ce.IY(this),U=this.destination;U.add(x);const O=(0,ce.ft)(V,x);O!==x&&U.add(O)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(V){this.destination.next(V)}notifyComplete(){const V=this.buffer;this.active--,V.length>0?this._next(V.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Fe,he,R)=>{"use strict";R.d(he,{QV:()=>ce,ht:()=>se});var l=R(7393),K=R(1593);function ce(te,$=0){return function(x){return x.lift(new oe(te,$))}}class oe{constructor($,V=0){this.scheduler=$,this.delay=V}call($,V){return V.subscribe(new se($,this.scheduler,this.delay))}}class se extends l.L{constructor($,V,x=0){super($),this.scheduler=V,this.delay=x}static dispatch($){const{notification:V,destination:x}=$;V.observe(x),this.unsubscribe()}scheduleMessage($){this.destination.add(this.scheduler.schedule(se.dispatch,this.delay,new G($,this.destination)))}_next($){this.scheduleMessage(K.P.createNext($))}_error($){this.scheduleMessage(K.P.createError($)),this.unsubscribe()}_complete(){this.scheduleMessage(K.P.createComplete()),this.unsubscribe()}}class G{constructor($,V){this.notification=$,this.destination=V}}},1307:(Fe,he,R)=>{"use strict";R.d(he,{x:()=>K});var l=R(7393);function K(){return function(G){return G.lift(new ce(G))}}class ce{constructor(G){this.connectable=G}call(G,te){const{connectable:$}=this;$._refCount++;const V=new oe(G,$),x=te.subscribe(V);return V.closed||(V.connection=$.connect()),x}}class oe extends l.L{constructor(G,te){super(G),this.connectable=te}_unsubscribe(){const{connectable:G}=this;if(!G)return void(this.connection=null);this.connectable=null;const te=G._refCount;if(te<=0)return void(this.connection=null);if(G._refCount=te-1,te>1)return void(this.connection=null);const{connection:$}=this,V=G._connection;this.connection=null,V&&(!$||V===$)&&V.unsubscribe()}}},8819:(Fe,he,R)=>{"use strict";R.d(he,{B:()=>te});var l=R(2441);var oe=R(1307),se=R(9765);function G(){return new se.xQ}function te(){return $=>(0,oe.x)()(function($,V){return function(U){let O;O="function"==typeof $?$:function(){return $};const H=Object.create(U,l.N);return H.source=U,H.subjectFactory=O,H}}(G)($))}},2639:(Fe,he,R)=>{"use strict";R.d(he,{R:()=>fe});var l=R(7574);let K=1;const ce=Promise.resolve(),oe={};function se(me){return me in oe&&(delete oe[me],!0)}const G={setImmediate(me){const le=K++;return oe[le]=!0,ce.then(()=>se(le)&&me()),le},clearImmediate(me){se(me)}};var $=R(6465),x=R(6102);const H=new class extends x.v{flush(le){this.active=!0,this.scheduled=void 0;const{actions:Pe}=this;let Qe,it=-1,Mt=Pe.length;le=le||Pe.shift();do{if(Qe=le.execute(le.state,le.delay))break}while(++it<Mt&&(le=Pe.shift()));if(this.active=!1,Qe){for(;++it<Mt&&(le=Pe.shift());)le.unsubscribe();throw Qe}}}(class extends $.o{constructor(le,Pe){super(le,Pe),this.scheduler=le,this.work=Pe}requestAsyncId(le,Pe,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(le,Pe,Qe):(le.actions.push(this),le.scheduled||(le.scheduled=G.setImmediate(le.flush.bind(le,null))))}recycleAsyncId(le,Pe,Qe=0){if(null!==Qe&&Qe>0||null===Qe&&this.delay>0)return super.recycleAsyncId(le,Pe,Qe);0===le.actions.length&&(G.clearImmediate(Pe),le.scheduled=void 0)}});var ae=R(6561);class pe extends l.y{constructor(le,Pe=0,Qe=H){super(),this.source=le,this.delayTime=Pe,this.scheduler=Qe,(!(0,ae.k)(Pe)||Pe<0)&&(this.delayTime=0),(!Qe||"function"!=typeof Qe.schedule)&&(this.scheduler=H)}static create(le,Pe=0,Qe=H){return new pe(le,Pe,Qe)}static dispatch(le){const{source:Pe,subscriber:Qe}=le;return this.add(Pe.subscribe(Qe))}_subscribe(le){return this.scheduler.schedule(pe.dispatch,this.delayTime,{source:this.source,subscriber:le})}}function fe(me,le=0){return function(Qe){return Qe.lift(new Ne(me,le))}}class Ne{constructor(le,Pe){this.scheduler=le,this.delay=Pe}call(le,Pe){return new pe(Pe,this.delay,this.scheduler).subscribe(le)}}},8307:(Fe,he,R)=>{"use strict";R.d(he,{b:()=>oe});var l=R(7393),K=R(8640),ce=R(9105);function oe(te,$,V){return function(U){return U.lift(new se(te,$,V))}}class se{constructor($,V,x){this.nextOrObserver=$,this.error=V,this.complete=x}call($,V){return V.subscribe(new G($,this.nextOrObserver,this.error,this.complete))}}class G extends l.L{constructor($,V,x,U){super($),this._tapNext=K.Z,this._tapError=K.Z,this._tapComplete=K.Z,this._tapError=x||K.Z,this._tapComplete=U||K.Z,(0,ce.m)(V)?(this._context=this,this._tapNext=V):V&&(this._context=V,this._tapNext=V.next||K.Z,this._tapError=V.error||K.Z,this._tapComplete=V.complete||K.Z)}_next($){try{this._tapNext.call(this._context,$)}catch(V){return void this.destination.error(V)}this.destination.next($)}_error($){try{this._tapError.call(this._context,$)}catch(V){return void this.destination.error(V)}this.destination.error($)}_complete(){try{this._tapComplete.call(this._context)}catch($){return void this.destination.error($)}return this.destination.complete()}}},4087:(Fe,he,R)=>{"use strict";R.d(he,{r:()=>ce});var l=R(7574),K=R(5319);function ce(oe,se){return new l.y(G=>{const te=new K.w;let $=0;return te.add(se.schedule(function(){$!==oe.length?(G.next(oe[$++]),G.closed||te.add(this.schedule())):G.complete()})),te})}},6465:(Fe,he,R)=>{"use strict";R.d(he,{o:()=>ce});var l=R(5319);class K extends l.w{constructor(se,G){super()}schedule(se,G=0){return this}}class ce extends K{constructor(se,G){super(se,G),this.scheduler=se,this.work=G,this.pending=!1}schedule(se,G=0){if(this.closed)return this;this.state=se;const te=this.id,$=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId($,te,G)),this.pending=!0,this.delay=G,this.id=this.id||this.requestAsyncId($,this.id,G),this}requestAsyncId(se,G,te=0){return setInterval(se.flush.bind(se,this),te)}recycleAsyncId(se,G,te=0){if(null!==te&&this.delay===te&&!1===this.pending)return G;clearInterval(G)}execute(se,G){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const te=this._execute(se,G);if(te)return te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,G){let $,te=!1;try{this.work(se)}catch(V){te=!0,$=!!V&&V||new Error(V)}if(te)return this.unsubscribe(),$}_unsubscribe(){const se=this.id,G=this.scheduler,te=G.actions,$=te.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==$&&te.splice($,1),null!=se&&(this.id=this.recycleAsyncId(G,se,null)),this.delay=null}}},6102:(Fe,he,R)=>{"use strict";R.d(he,{v:()=>K});let l=(()=>{class ce{constructor(se,G=ce.now){this.SchedulerAction=se,this.now=G}schedule(se,G=0,te){return new this.SchedulerAction(this,se).schedule(te,G)}}return ce.now=()=>Date.now(),ce})();class K extends l{constructor(oe,se=l.now){super(oe,()=>K.delegate&&K.delegate!==this?K.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,se=0,G){return K.delegate&&K.delegate!==this?K.delegate.schedule(oe,se,G):super.schedule(oe,se,G)}flush(oe){const{actions:se}=this;if(this.active)return void se.push(oe);let G;this.active=!0;do{if(G=oe.execute(oe.state,oe.delay))break}while(oe=se.shift());if(this.active=!1,G){for(;oe=se.shift();)oe.unsubscribe();throw G}}}},3637:(Fe,he,R)=>{"use strict";R.d(he,{z:()=>ce,P:()=>oe});var l=R(6465);const ce=new(R(6102).v)(l.o),oe=ce},7771:(Fe,he,R)=>{"use strict";R.d(he,{c:()=>G,N:()=>se});var l=R(6465),ce=R(6102);const se=new class extends ce.v{}(class extends l.o{constructor($,V){super($,V),this.scheduler=$,this.work=V}schedule($,V=0){return V>0?super.schedule($,V):(this.delay=V,this.state=$,this.scheduler.flush(this),this)}execute($,V){return V>0||this.closed?super.execute($,V):this._execute($,V)}requestAsyncId($,V,x=0){return null!==x&&x>0||null===x&&this.delay>0?super.requestAsyncId($,V,x):$.flush(this)}}),G=se},377:(Fe,he,R)=>{"use strict";R.d(he,{hZ:()=>K});const K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Fe,he,R)=>{"use strict";R.d(he,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Fe,he,R)=>{"use strict";R.d(he,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Fe,he,R)=>{"use strict";R.d(he,{N:()=>K});const K=(()=>{function ce(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ce.prototype=Object.create(Error.prototype),ce})()},4449:(Fe,he,R)=>{"use strict";function l(K){setTimeout(()=>{throw K},0)}R.d(he,{z:()=>l})},4487:(Fe,he,R)=>{"use strict";function l(K){return K}R.d(he,{y:()=>l})},9796:(Fe,he,R)=>{"use strict";R.d(he,{k:()=>l});const l=Array.isArray||(K=>K&&"number"==typeof K.length)},9489:(Fe,he,R)=>{"use strict";R.d(he,{z:()=>l});const l=K=>K&&"number"==typeof K.length&&"function"!=typeof K},9105:(Fe,he,R)=>{"use strict";function l(K){return"function"==typeof K}R.d(he,{m:()=>l})},6561:(Fe,he,R)=>{"use strict";R.d(he,{k:()=>K});var l=R(9796);function K(ce){return!(0,l.k)(ce)&&ce-parseFloat(ce)+1>=0}},1555:(Fe,he,R)=>{"use strict";function l(K){return null!==K&&"object"==typeof K}R.d(he,{K:()=>l})},4072:(Fe,he,R)=>{"use strict";function l(K){return!!K&&"function"!=typeof K.subscribe&&"function"==typeof K.then}R.d(he,{t:()=>l})},4869:(Fe,he,R)=>{"use strict";function l(K){return K&&"function"==typeof K.schedule}R.d(he,{K:()=>l})},8640:(Fe,he,R)=>{"use strict";function l(){}R.d(he,{Z:()=>l})},7444:(Fe,he,R)=>{"use strict";R.d(he,{s:()=>U});var l=R(5015),K=R(4449),oe=R(377),G=R(6554),$=R(9489),V=R(4072),x=R(1555);const U=O=>{if(O&&"function"==typeof O[G.L])return(O=>H=>{const ae=O[G.L]();if("function"!=typeof ae.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ae.subscribe(H)})(O);if((0,$.z)(O))return(0,l.V)(O);if((0,V.t)(O))return(O=>H=>(O.then(ae=>{H.closed||(H.next(ae),H.complete())},ae=>H.error(ae)).then(null,K.z),H))(O);if(O&&"function"==typeof O[oe.hZ])return(O=>H=>{const ae=O[oe.hZ]();for(;;){let pe;try{pe=ae.next()}catch(fe){return H.error(fe),H}if(pe.done){H.complete();break}if(H.next(pe.value),H.closed)break}return"function"==typeof ae.return&&H.add(()=>{ae.return&&ae.return()}),H})(O);{const ae=`You provided ${(0,x.K)(O)?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ae)}}},5015:(Fe,he,R)=>{"use strict";R.d(he,{V:()=>l});const l=K=>ce=>{for(let oe=0,se=K.length;oe<se&&!ce.closed;oe++)ce.next(K[oe]);ce.complete()}},9234:(Fe,he,R)=>{"use strict";var l=R(7716);let K=null;function ce(){return K}const te=new l.OlP("DocumentToken");let $=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,l.Yz7)({factory:V,token:t,providedIn:"platform"}),t})();function V(){return(0,l.LFG)(U)}const x=new l.OlP("Location Initialized");let U=(()=>{class t extends ${constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(e){const o=ce().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=ce().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,u){O()?this._history.pushState(e,o,u):this.location.hash=u}replaceState(e,o,u){O()?this._history.replaceState(e,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(te))},t.\u0275prov=(0,l.Yz7)({factory:H,token:t,providedIn:"platform"}),t})();function O(){return!!window.history.pushState}function H(){return new U((0,l.LFG)(te))}function ae(t,i){if(0==t.length)return i;if(0==i.length)return t;let e=0;return t.endsWith("/")&&e++,i.startsWith("/")&&e++,2==e?t+i.substring(1):1==e?t+i:t+"/"+i}function pe(t){const i=t.match(/#|\?|$/),e=i&&i.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function fe(t){return t&&"?"!==t[0]?"?"+t:t}let Ne=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,l.Yz7)({factory:me,token:t,providedIn:"root"}),t})();function me(t){const i=(0,l.LFG)(te).location;return new Pe((0,l.LFG)($),i&&i.origin||"")}const le=new l.OlP("appBaseHref");let Pe=(()=>{class t extends Ne{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ae(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+fe(this._platformLocation.search),u=this._platformLocation.hash;return u&&e?`${o}${u}`:o}pushState(e,o,u,d){const p=this.prepareExternalUrl(u+fe(d));this._platformLocation.pushState(e,o,p)}replaceState(e,o,u,d){const p=this.prepareExternalUrl(u+fe(d));this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG($),l.LFG(le,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Qe=(()=>{class t extends Ne{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=ae(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,u,d){let p=this.prepareExternalUrl(u+fe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,o,p)}replaceState(e,o,u,d){let p=this.prepareExternalUrl(u+fe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG($),l.LFG(le,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t{constructor(e,o){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=pe(Ut(u)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+fe(o))}normalize(e){return t.stripTrailingSlash(function(t,i){return t&&i.startsWith(t)?i.substring(t.length):i}(this._baseHref,Ut(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",u=null){this._platformStrategy.pushState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe(o)),u)}replaceState(e,o="",u=null){this._platformStrategy.replaceState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(u=>u(e,o))}subscribe(e,o,u){return this._subject.subscribe({next:e,error:o,complete:u})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Ne),l.LFG($))},t.normalizeQueryParams=fe,t.joinWithSlash=ae,t.stripTrailingSlash=pe,t.\u0275prov=(0,l.Yz7)({factory:Mt,token:t,providedIn:"root"}),t})();function Mt(){return new it((0,l.LFG)(Ne),(0,l.LFG)($))}function Ut(t){return t.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Percent=1]="Percent",W[W.Currency=2]="Currency",W[W.Scientific=3]="Scientific",W))(),Q=(()=>((Q=Q||{})[Q.Zero=0]="Zero",Q[Q.One=1]="One",Q[Q.Two=2]="Two",Q[Q.Few=3]="Few",Q[Q.Many=4]="Many",Q[Q.Other=5]="Other",Q))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function Cn(t,i){const e=(0,l.cg1)(t),o=e[l.wAp.NumberSymbols][i];if(void 0===o){if(i===X.CurrencyDecimal)return e[l.wAp.NumberSymbols][X.Decimal];if(i===X.CurrencyGroup)return e[l.wAp.NumberSymbols][X.Group]}return o}const _t=l.kL8,W_=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function rt(t){const i=parseInt(t);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+t);return i}class Ts{}let Cp=(()=>{class t extends Ts{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(_t(o||this.locale)(e)){case Q.Zero:return"zero";case Q.One:return"one";case Q.Two:return"two";case Q.Few:return"few";case Q.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.soG))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class Si{constructor(i,e,o,u){this.$implicit=i,this.ngForOf=e,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let st=(()=>{class t{constructor(e,o,u){this._viewContainer=e,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((u,d,p)=>{if(null==u.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Si(null,this._ngForOf,-1,-1),null===p?void 0:p),v=new J_(u,m);o.push(v)}else if(null==p)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const m=this._viewContainer.get(d);this._viewContainer.move(m,p);const v=new J_(u,m);o.push(v)}});for(let u=0;u<o.length;u++)this._perViewChange(o[u].view,o[u].record);for(let u=0,d=this._viewContainer.length;u<d;u++){const p=this._viewContainer.get(u);p.context.index=u,p.context.count=d,p.context.ngForOf=this._ngForOf}e.forEachIdentityChange(u=>{this._viewContainer.get(u.currentIndex).context.$implicit=u.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class J_{constructor(i,e){this.record=i,this.view=e}}let hn=(()=>{class t{constructor(e,o){this._viewContainer=e,this._context=new Dp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){La("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){La("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.s_b),l.Y36(l.Rgc))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Dp{constructor(){this.$implicit=null,this.ngIf=null}}function La(t,i){if(i&&!i.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,l.AaK)(i)}'.`)}let Tp=(()=>{class t{constructor(e){this._locale=e}transform(e,o,u){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;u=u||this._locale;try{return function(t,i,e){return function(t,i,e,o,u,d,p=!1){let m="",v=!1;if(isFinite(t)){let w=function(t){let o,u,d,p,m,i=Math.abs(t)+"",e=0;for((u=i.indexOf("."))>-1&&(i=i.replace(".","")),(d=i.search(/e/i))>0?(u<0&&(u=d),u+=+i.slice(d+1),i=i.substring(0,d)):u<0&&(u=i.length),d=0;"0"===i.charAt(d);d++);if(d===(m=i.length))o=[0],u=1;else{for(m--;"0"===i.charAt(m);)m--;for(u-=d,o=[],p=0;d<=m;d++,p++)o[p]=Number(i.charAt(d))}return u>22&&(o=o.splice(0,21),e=u-1,u=1),{digits:o,exponent:e,integerLen:u}}(t);p&&(w=function(t){if(0===t.digits[0])return t;const i=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===i?t.digits.push(0,0):1===i&&t.digits.push(0),t.integerLen+=2),t}(w));let D=i.minInt,T=i.minFrac,I=i.maxFrac;if(d){const we=d.match(W_);if(null===we)throw new Error(`${d} is not a valid digit info`);const Ee=we[1],ze=we[3],Oe=we[5];null!=Ee&&(D=rt(Ee)),null!=ze&&(T=rt(ze)),null!=Oe?I=rt(Oe):null!=ze&&T>I&&(I=T)}!function(t,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let o=t.digits,u=o.length-t.integerLen;const d=Math.min(Math.max(i,u),e);let p=d+t.integerLen,m=o[p];if(p>0){o.splice(Math.max(t.integerLen,p));for(let T=p;T<o.length;T++)o[T]=0}else{u=Math.max(0,u),t.integerLen=1,o.length=Math.max(1,p=d+1),o[0]=0;for(let T=1;T<p;T++)o[T]=0}if(m>=5)if(p-1<0){for(let T=0;T>p;T--)o.unshift(0),t.integerLen++;o.unshift(1),t.integerLen++}else o[p-1]++;for(;u<Math.max(0,d);u++)o.push(0);let v=0!==d;const w=i+t.integerLen,D=o.reduceRight(function(T,I,M,F){return F[M]=(I+=T)<10?I:I-10,v&&(0===F[M]&&M>=w?F.pop():v=!1),I>=10?1:0},0);D&&(o.unshift(D),t.integerLen++)}(w,T,I);let M=w.digits,F=w.integerLen;const j=w.exponent;let ie=[];for(v=M.every(we=>!we);F<D;F++)M.unshift(0);for(;F<0;F++)M.unshift(0);F>0?ie=M.splice(F,M.length):(ie=M,M=[0]);const de=[];for(M.length>=i.lgSize&&de.unshift(M.splice(-i.lgSize,M.length).join(""));M.length>i.gSize;)de.unshift(M.splice(-i.gSize,M.length).join(""));M.length&&de.unshift(M.join("")),m=de.join(Cn(e,o)),ie.length&&(m+=Cn(e,u)+ie.join("")),j&&(m+=Cn(e,X.Exponential)+"+"+j)}else m=Cn(e,X.Infinity);return m=t<0&&!v?i.negPre+m+i.negSuf:i.posPre+m+i.posSuf,m}(t,function(t,i="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=t.split(";"),u=o[0],d=o[1],p=-1!==u.indexOf(".")?u.split("."):[u.substring(0,u.lastIndexOf("0")+1),u.substring(u.lastIndexOf("0")+1)],m=p[0],v=p[1]||"";e.posPre=m.substr(0,m.indexOf("#"));for(let D=0;D<v.length;D++){const T=v.charAt(D);"0"===T?e.minFrac=e.maxFrac=D+1:"#"===T?e.maxFrac=D+1:e.posSuf+=T}const w=m.split(",");if(e.gSize=w[1]?w[1].length:0,e.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,d){const D=u.length-e.posPre.length-e.posSuf.length,T=d.indexOf("#");e.negPre=d.substr(0,T).replace(/'/g,""),e.negSuf=d.substr(T+D).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}(function(t,i){return(0,l.cg1)(t)[l.wAp.NumberFormats][i]}(i,W.Decimal),Cn(i,X.MinusSign)),i,X.Group,X.Decimal,e)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),u,o)}catch(d){throw function(t,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,l.AaK)(t)}'`)}(t,d.message)}}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.soG,16))},t.\u0275pipe=l.Yjl({name:"number",type:t,pure:!0}),t})();let ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[{provide:Ts,useClass:Cp}]}),t})();let Np=(()=>{class t{}return t.\u0275prov=(0,l.Yz7)({token:t,providedIn:"root",factory:()=>new rv((0,l.LFG)(te),window)}),t})();class rv{constructor(i,e){this.document=i,this.window=e,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const e=function(t,i){const e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const o=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const d=u.shadowRoot;if(d){const p=d.getElementById(i)||d.querySelector(`[name="${i}"]`);if(p)return p}u=o.nextNode()}}return null}(this.document,i);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=i)}}scrollToElement(i){const e=i.getBoundingClientRect(),o=e.left+this.window.pageXOffset,u=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],u-d[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=bd(this.window.history)||bd(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function bd(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ov extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new ov,K||(K=t)}onAndCancel(i,e,o){return i.addEventListener(e,o,!1),()=>{i.removeEventListener(e,o,!1)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,e){return(e=e||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return"window"===e?window:"document"===e?i:"body"===e?i.body:null}getBaseHref(i){const e=(Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null);return null==e?null:function(t){Zt=Zt||document.createElement("a"),Zt.setAttribute("href",t);const i=Zt.pathname;return"/"===i.charAt(0)?i:`/${i}`}(e)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(t,i){i=encodeURIComponent(i);for(const e of t.split(";")){const o=e.indexOf("="),[u,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(u.trim()===i)return decodeURIComponent(d)}return null}(document.cookie,i)}}let Zt,Ba=null;const MD=new l.OlP("TRANSITION_ID"),ai=[{provide:l.ip1,useFactory:function(t,i,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const o=ce(),u=i.querySelectorAll(`style[ng-transition="${t}"]`);for(let d=0;d<u.length;d++)o.remove(u[d])})}},deps:[MD,te,l.zs3],multi:!0}];class Sp{static init(){(0,l.VLi)(new Sp)}addToWindow(i){l.dqk.getAngularTestability=(o,u=!0)=>{const d=i.findTestabilityInTree(o,u);if(null==d)throw new Error("Could not find testability for element.");return d},l.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(o=>{const u=l.dqk.getAllAngularTestabilities();let d=u.length,p=!1;const m=function(v){p=p||v,d--,0==d&&o(p)};u.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(i,e,o){if(null==e)return null;const u=i.getTestability(e);return null!=u?u:o?ce().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null}}let Ap=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const dc=new l.OlP("EventManagerPlugins");let ge=(()=>{class t{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,u){return this._findPluginFor(o).addEventListener(e,o,u)}addGlobalEventListener(e,o,u){return this._findPluginFor(o).addGlobalEventListener(e,o,u)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const u=this._plugins;for(let d=0;d<u.length;d++){const p=u[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(dc),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class mt{constructor(i){this._doc=i}addGlobalEventListener(i,e,o){const u=ce().getGlobalEventTarget(this._doc,i);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,o)}}let xp=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Wt=(()=>{class t extends xp{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,u){e.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,u.push(o.appendChild(p))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Rp),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(e,u,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Rp))}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(te))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function Rp(t){ce().remove(t)}const As={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ui=/%COMP%/g;function Vn(t,i,e){for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?Vn(t,u,e):(u=u.replace(ui,t),e.push(u))}return e}function xi(t){return i=>{if("__ngUnwrap__"===i)return t;!1===t(i)&&(i.preventDefault(),i.returnValue=!1)}}let qo=(()=>{class t{constructor(e,o,u){this.eventManager=e,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Ri(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case l.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new UD(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(e),u}case 1:case l.ifc.ShadowDom:return new Op(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const u=Vn(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ge),l.LFG(Wt),l.LFG(l.AFp))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class Ri{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,e){return e?document.createElementNS(As[e]||e,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,e){i.appendChild(e)}insertBefore(i,e,o){i&&i.insertBefore(e,o)}removeChild(i,e){i&&i.removeChild(e)}selectRootElement(i,e){let o="string"==typeof i?document.querySelector(i):i;if(!o)throw new Error(`The selector "${i}" did not match any elements`);return e||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,o,u){if(u){e=u+":"+e;const d=As[u];d?i.setAttributeNS(d,e,o):i.setAttribute(e,o)}else i.setAttribute(e,o)}removeAttribute(i,e,o){if(o){const u=As[o];u?i.removeAttributeNS(u,e):i.removeAttribute(`${o}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,o,u){u&(l.JOm.DashCase|l.JOm.Important)?i.style.setProperty(e,o,u&l.JOm.Important?"important":""):i.style[e]=o}removeStyle(i,e,o){o&l.JOm.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,o){i[e]=o}setValue(i,e){i.nodeValue=e}listen(i,e,o){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,e,xi(o)):this.eventManager.addEventListener(i,e,xi(o))}}class UD extends Ri{constructor(i,e,o,u){super(i),this.component=o;const d=Vn(u+"-"+o.id,o.styles,[]);e.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(ui,u+"-"+o.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ui,t)}(u+"-"+o.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,e){const o=super.createElement(i,e);return super.setAttribute(o,this.contentAttr,""),o}}class Op extends Ri{constructor(i,e,o,u){super(i),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Vn(u.id,u.styles,[]);for(let p=0;p<d.length;p++){const m=document.createElement("style");m.textContent=d[p],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,o){return super.insertBefore(this.nodeOrShadowRoot(i),e,o)}removeChild(i,e){return super.removeChild(this.nodeOrShadowRoot(i),e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let kp=(()=>{class t extends mt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,u){return e.addEventListener(o,u,!1),()=>this.removeEventListener(e,o,u)}removeEventListener(e,o,u){return e.removeEventListener(o,u)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(te))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const hc=["alt","control","meta","shift"],$D={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qD={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let YD=(()=>{class t extends mt{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,o,u){const d=t.parseEventName(o),p=t.eventCallback(d.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ce().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const o=e.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const d=t._normalizeKey(o.pop());let p="";if(hc.forEach(v=>{const w=o.indexOf(v);w>-1&&(o.splice(w,1),p+=v+".")}),p+=d,0!=o.length||0===d.length)return null;const m={};return m.domEventName=u,m.fullKey=p,m}static getEventFullKey(e){let o="",u=function(t){let i=t.key;if(null==i){if(i=t.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===t.location&&cr.hasOwnProperty(i)&&(i=cr[i]))}return $D[i]||i}(e);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),hc.forEach(d=>{d!=u&&qD[d](e)&&(o+=d+".")}),o+=u,o}static eventCallback(e,o,u){return d=>{t.getEventFullKey(d)===e&&u.runGuarded(()=>o(d))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(te))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const pc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function(){ov.makeCurrent(),Sp.init()},multi:!0},{provide:te,useFactory:function(){return(0,l.RDi)(document),document},deps:[]}]),Lp=[[],{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function(){return new l.qLn},deps:[]},{provide:dc,useClass:kp,multi:!0,deps:[te,l.R0b,l.Lbi]},{provide:dc,useClass:YD,multi:!0,deps:[te]},[],{provide:qo,useClass:qo,deps:[ge,Wt,l.AFp]},{provide:l.FYo,useExisting:qo},{provide:xp,useExisting:Wt},{provide:Wt,useClass:Wt,deps:[te]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:ge,useClass:ge,deps:[dc,l.R0b]},{provide:class{},useClass:Ap,deps:[]},[]];let JD=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:l.AFp,useValue:e.appId},{provide:MD,useExisting:l.AFp},ai]}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(t,12))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:Lp,imports:[ur,l.hGG]}),t})();function Bp(t,i){if(1&t){var e=l.EpF();l.TgZ(0,"a",11),l.NdJ("keyup.enter",function(){return l.CHM(e),l.oxw(3),l.MAs(1).previous()})("click",function(){return l.CHM(e),l.oxw(3),l.MAs(1).previous()}),l._uU(1),l.TgZ(2,"span",12),l._uU(3),l.qZA(),l.qZA()}if(2&t){var o=l.oxw(3);l.uIk("aria-label",o.previousLabel+" "+o.screenReaderPageLabel),l.xp6(1),l.hij(" ",o.previousLabel," "),l.xp6(2),l.Oqu(o.screenReaderPageLabel)}}function kd(t,i){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.TgZ(2,"span",12),l._uU(3),l.qZA(),l.qZA()),2&t){var e=l.oxw(3);l.xp6(1),l.hij(" ",e.previousLabel," "),l.xp6(2),l.Oqu(e.screenReaderPageLabel)}}function Pd(t,i){if(1&t&&(l.TgZ(0,"li",8),l.YNc(1,Bp,4,3,"a",9),l.YNc(2,kd,4,2,"span",10),l.qZA()),2&t){l.oxw(2);var e=l.MAs(1);l.ekj("disabled",e.isFirstPage()),l.xp6(1),l.Q6J("ngIf",1<e.getCurrent()),l.xp6(1),l.Q6J("ngIf",e.isFirstPage())}}function KD(t,i){if(1&t){var e=l.EpF();l.TgZ(0,"a",11),l.NdJ("keyup.enter",function(){l.CHM(e);var p=l.oxw().$implicit;return l.oxw(2),l.MAs(1).setCurrent(p.value)})("click",function(){l.CHM(e);var p=l.oxw().$implicit;return l.oxw(2),l.MAs(1).setCurrent(p.value)}),l.TgZ(1,"span",12),l._uU(2),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.ALo(5,"number"),l.qZA(),l.qZA()}if(2&t){var o=l.oxw().$implicit,u=l.oxw(2);l.xp6(2),l.hij("",u.screenReaderPageLabel," "),l.xp6(2),l.Oqu("..."===o.label?o.label:l.xi3(5,2,o.label,""))}}function wv(t,i){if(1&t&&(l.ynx(0),l.TgZ(1,"span",12),l._uU(2),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.ALo(5,"number"),l.qZA(),l.BQk()),2&t){var e=l.oxw().$implicit,o=l.oxw(2);l.xp6(2),l.hij("",o.screenReaderCurrentLabel," "),l.xp6(2),l.Oqu("..."===e.label?e.label:l.xi3(5,2,e.label,""))}}function Cv(t,i){if(1&t&&(l.TgZ(0,"li"),l.YNc(1,KD,6,5,"a",9),l.YNc(2,wv,6,5,"ng-container",10),l.qZA()),2&t){var e=i.$implicit;l.oxw(2);var o=l.MAs(1);l.ekj("current",o.getCurrent()===e.value)("ellipsis","..."===e.label),l.xp6(1),l.Q6J("ngIf",o.getCurrent()!==e.value),l.xp6(1),l.Q6J("ngIf",o.getCurrent()===e.value)}}function Dv(t,i){if(1&t){var e=l.EpF();l.TgZ(0,"a",11),l.NdJ("keyup.enter",function(){return l.CHM(e),l.oxw(3),l.MAs(1).next()})("click",function(){return l.CHM(e),l.oxw(3),l.MAs(1).next()}),l._uU(1),l.TgZ(2,"span",12),l._uU(3),l.qZA(),l.qZA()}if(2&t){var o=l.oxw(3);l.uIk("aria-label",o.nextLabel+" "+o.screenReaderPageLabel),l.xp6(1),l.hij(" ",o.nextLabel," "),l.xp6(2),l.Oqu(o.screenReaderPageLabel)}}function Ev(t,i){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.TgZ(2,"span",12),l._uU(3),l.qZA(),l.qZA()),2&t){var e=l.oxw(3);l.xp6(1),l.hij(" ",e.nextLabel," "),l.xp6(2),l.Oqu(e.screenReaderPageLabel)}}function XD(t,i){if(1&t&&(l.TgZ(0,"li",13),l.YNc(1,Dv,4,3,"a",9),l.YNc(2,Ev,4,2,"span",10),l.qZA()),2&t){l.oxw(2);var e=l.MAs(1);l.ekj("disabled",e.isLastPage()),l.xp6(1),l.Q6J("ngIf",!e.isLastPage()),l.xp6(1),l.Q6J("ngIf",e.isLastPage())}}function eE(t,i){if(1&t&&(l.TgZ(0,"ul",3),l.YNc(1,Pd,3,4,"li",4),l.TgZ(2,"li",5),l._uU(3),l.qZA(),l.YNc(4,Cv,3,6,"li",6),l.YNc(5,XD,3,4,"li",7),l.qZA()),2&t){var e=l.oxw(),o=l.MAs(1);l.ekj("responsive",e.responsive),l.uIk("aria-label",e.screenReaderPaginationLabel),l.xp6(1),l.Q6J("ngIf",e.directionLinks),l.xp6(2),l.AsE(" ",o.getCurrent()," / ",o.getLastPage()," "),l.xp6(1),l.Q6J("ngForOf",o.pages)("ngForTrackBy",e.trackByIndex),l.xp6(1),l.Q6J("ngIf",e.directionLinks)}}"undefined"!=typeof window&&window;var zo=function(){function t(){this.change=new l.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(i){return null==i.id&&(i.id=this.DEFAULT_ID),this.instances[i.id]?this.updateInstance(i):(this.instances[i.id]=i,!0)},t.prototype.updateInstance=function(i){var e=!1;for(var o in this.instances[i.id])i[o]!==this.instances[i.id][o]&&(this.instances[i.id][o]=i[o],e=!0);return e},t.prototype.getCurrentPage=function(i){if(this.instances[i])return this.instances[i].currentPage},t.prototype.setCurrentPage=function(i,e){if(this.instances[i]){var o=this.instances[i];e<=Math.ceil(o.totalItems/o.itemsPerPage)&&1<=e&&(this.instances[i].currentPage=e,this.change.emit(i))}},t.prototype.setTotalItems=function(i,e){this.instances[i]&&0<=e&&(this.instances[i].totalItems=e,this.change.emit(i))},t.prototype.setItemsPerPage=function(i,e){this.instances[i]&&(this.instances[i].itemsPerPage=e,this.change.emit(i))},t.prototype.getInstance=function(i){return void 0===i&&(i=this.DEFAULT_ID),this.instances[i]?this.clone(this.instances[i]):{}},t.prototype.clone=function(i){var e={};for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:function(i){return t.\u0275fac(i)}}),t}(),tE=function(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)},Tv=Number.MAX_SAFE_INTEGER,Up=function(){function t(i){this.service=i,this.state={}}return t.prototype.transform=function(i,e){if(!(i instanceof Array)){var o=e.id||this.service.defaultId();return this.state[o]?this.state[o].slice:i}var m,v,u=e.totalItems&&e.totalItems!==i.length,d=this.createInstance(i,e),p=d.id,w=d.itemsPerPage,D=this.service.register(d);if(!u&&i instanceof Array){if(this.stateIsIdentical(p,i,m=(d.currentPage-1)*(w=+w||Tv),v=m+w))return this.state[p].slice;var I=i.slice(m,v);return this.saveState(p,i,I,m,v),this.service.change.emit(p),I}return D&&this.service.change.emit(p),this.saveState(p,i,i,m,v),i},t.prototype.createInstance=function(i,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||i.length}},t.prototype.checkConfig=function(i){var o=["itemsPerPage","currentPage"].filter(function(u){return!(u in i)});if(0<o.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+o.join(", "))},t.prototype.saveState=function(i,e,o,u,d){this.state[i]={collection:e,size:e.length,slice:o,start:u,end:d}},t.prototype.stateIsIdentical=function(i,e,o,u){var d=this.state[i];return!!d&&!(d.size!==e.length||d.start!==o||d.end!==u)&&d.slice.every(function(m,v){return m===e[o+v]})},(t=function(t,i,e,o){var p,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(t,i,e,o);else for(var m=t.length-1;m>=0;m--)(p=t[m])&&(d=(u<3?p(d):u>3?p(i,e,d):p(i,e))||d);return u>3&&d&&Object.defineProperty(i,e,d),d}([tE("design:paramtypes",[zo])],t)).\u0275fac=function(e){return new(e||t)(l.Y36(zo,16))},t.\u0275pipe=l.Yjl({name:"paginate",type:t,pure:!1}),t}(),Rr=function(t,i,e,o){var p,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(t,i,e,o);else for(var m=t.length-1;m>=0;m--)(p=t[m])&&(d=(u<3?p(d):u>3?p(i,e,d):p(i,e))||d);return u>3&&d&&Object.defineProperty(i,e,d),d},Qn=function(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)};function Zo(t){return!!t&&"false"!==t}var Rs=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new l.vpe,this.pageBoundsCorrection=new l.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(i){this._directionLinks=Zo(i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(i){this._autoHide=Zo(i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(i){this._responsive=Zo(i)},enumerable:!0,configurable:!0}),t.prototype.trackByIndex=function(i){return i},Rr([(0,l.IIB)(),Qn("design:type",String)],t.prototype,"id",void 0),Rr([(0,l.IIB)(),Qn("design:type",Number)],t.prototype,"maxSize",void 0),Rr([(0,l.IIB)(),Qn("design:type",Boolean),Qn("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),Rr([(0,l.IIB)(),Qn("design:type",Boolean),Qn("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),Rr([(0,l.IIB)(),Qn("design:type",Boolean),Qn("design:paramtypes",[Boolean])],t.prototype,"responsive",null),Rr([(0,l.IIB)(),Qn("design:type",String)],t.prototype,"previousLabel",void 0),Rr([(0,l.IIB)(),Qn("design:type",String)],t.prototype,"nextLabel",void 0),Rr([(0,l.IIB)(),Qn("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),Rr([(0,l.IIB)(),Qn("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),Rr([(0,l.IIB)(),Qn("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),Rr([(0,l.r_U)(),Qn("design:type",l.vpe)],t.prototype,"pageChange",void 0),Rr([(0,l.r_U)(),Qn("design:type",l.vpe)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(e,o){if(1&e&&(l.TgZ(0,"pagination-template",0,1),l.NdJ("pageChange",function(p){return o.pageChange.emit(p)})("pageBoundsCorrection",function(p){return o.pageBoundsCorrection.emit(p)}),l.YNc(2,eE,6,9,"ul",2),l.qZA()),2&e){var u=l.MAs(1);l.Q6J("id",o.id)("maxSize",o.maxSize),l.xp6(2),l.Q6J("ngIf",!(o.autoHide&&u.pages.length<=1))}},directives:function(){return[jp,hn,st]},pipes:function(){return[Tp]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),Ji=function(t,i,e,o){var p,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(t,i,e,o);else for(var m=t.length-1;m>=0;m--)(p=t[m])&&(d=(u<3?p(d):u>3?p(i,e,d):p(i,e))||d);return u>3&&d&&Object.defineProperty(i,e,d),d},So=function(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)},jp=function(){function t(i,e){var o=this;this.service=i,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new l.vpe,this.pageBoundsCorrection=new l.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(function(u){o.id===u&&(o.updatePageLinks(),o.changeDetectorRef.markForCheck(),o.changeDetectorRef.detectChanges())})}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(i){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(i){this.pageChange.emit(i)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var i=this.service.getInstance(this.id);return i.totalItems<1?1:Math.ceil(i.totalItems/i.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var i=this,e=this.service.getInstance(this.id),o=this.outOfBoundCorrection(e);o!==e.currentPage?setTimeout(function(){i.pageBoundsCorrection.emit(o),i.pages=i.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,i.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(i){var e=Math.ceil(i.totalItems/i.itemsPerPage);return e<i.currentPage&&0<e?e:i.currentPage<1?1:i.currentPage},t.prototype.createPageArray=function(i,e,o,u){u=+u;for(var d=[],p=Math.max(Math.ceil(o/e),1),m=Math.ceil(u/2),v=i<=m,w=p-m<i,D=!v&&!w,T=u<p,I=1;I<=p&&I<=u;){var F=this.calculatePageNumber(I,i,u,p);d.push({label:T&&(2===I&&(D||w)||I===u-1&&(D||v))?"...":F,value:F}),I++}return d},t.prototype.calculatePageNumber=function(i,e,o,u){var d=Math.ceil(o/2);return i===o?u:1===i?i:o<u?u-d<e?u-o+i:d<e?e-d+i:i:i},Ji([(0,l.IIB)(),So("design:type",String)],t.prototype,"id",void 0),Ji([(0,l.IIB)(),So("design:type",Number)],t.prototype,"maxSize",void 0),Ji([(0,l.r_U)(),So("design:type",l.vpe)],t.prototype,"pageChange",void 0),Ji([(0,l.r_U)(),So("design:type",l.vpe)],t.prototype,"pageBoundsCorrection",void 0),(t=Ji([So("design:paramtypes",[zo,l.sBO])],t)).\u0275fac=function(e){return new(e||t)(l.Y36(zo),l.Y36(l.sBO))},t.\u0275dir=l.lG2({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[l.TTD]}),t}(),Iv=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[zo],imports:[[ur]]}),t}(),ln=R(4402),Ge=R(5917),Gt=R(9765),Nv=R(7971);class ut extends Gt.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const e=super._subscribe(i);return e&&!e.closed&&i.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Nv.N;return this._value}next(i){super.next(this._value=i)}}var Fd=R(4869),Os=R(9796),Yr=R(7393);class Sv extends Yr.L{notifyNext(i,e,o,u,d){this.destination.next(e)}notifyError(i,e){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class fM extends Yr.L{constructor(i,e,o){super(),this.parent=i,this.outerValue=e,this.outerIndex=o,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var hM=R(7444),Or=R(7574);function Av(t,i,e,o,u=new fM(t,e,o)){if(!u.closed)return i instanceof Or.y?i.subscribe(u):(0,hM.s)(i)(u)}var Mv=R(6693);const rE={};class vc{constructor(i){this.resultSelector=i}call(i,e){return e.subscribe(new pM(i,this.resultSelector))}}class pM extends Sv{constructor(i,e){super(i),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(rE),this.observables.push(i)}_complete(){const i=this.observables,e=i.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(Av(this,i[o],void 0,o))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,e,o){const u=this.values,p=this.toRespond?u[o]===rE?--this.toRespond:this.toRespond:0;u[o]=e,0===p&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(i){let e;try{e=this.resultSelector.apply(this,i)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const ks=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ps=R(3282);function Ld(...t){return(0,Ps.J)(1)((0,Ge.of)(...t))}var pn=R(9193);function Oi(t){return new Or.y(i=>{let e;try{e=t()}catch(u){return void i.error(u)}return(e?(0,ln.D)(e):(0,pn.c)()).subscribe(i)})}var Vd=R(2441),Be=R(8002),En=R(5345);function gn(t,i){return"function"==typeof i?e=>e.pipe(gn((o,u)=>(0,ln.D)(t(o,u)).pipe((0,Be.U)((d,p)=>i(o,d,u,p))))):e=>e.lift(new iE(t))}class iE{constructor(i){this.project=i}call(i,e){return e.subscribe(new oE(i,this.project))}}class oE extends En.Ds{constructor(i,e){super(i),this.project=e,this.index=0}_next(i){let e;const o=this.index++;try{e=this.project(i,o)}catch(u){return void this.destination.error(u)}this._innerSub(e)}_innerSub(i){const e=this.innerSubscription;e&&e.unsubscribe();const o=new En.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,En.ft)(i,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}const sE=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function lr(t){return i=>0===t?(0,pn.c)():i.lift(new zr(t))}class zr{constructor(i){if(this.total=i,this.total<0)throw new sE}call(i,e){return e.subscribe(new Hp(i,this.total))}}class Hp extends Yr.L{constructor(i,e){super(i),this.total=e,this.count=0}_next(i){const e=this.total,o=++this.count;o<=e&&(this.destination.next(i),o===e&&(this.destination.complete(),this.unsubscribe()))}}function ci(...t){const i=t[t.length-1];return(0,Fd.K)(i)?(t.pop(),e=>Ld(t,e,i)):e=>Ld(t,e)}function Bd(t,i){let e=!1;return arguments.length>=2&&(e=!0),function(u){return u.lift(new Rv(t,i,e))}}class Rv{constructor(i,e,o=!1){this.accumulator=i,this.seed=e,this.hasSeed=o}call(i,e){return e.subscribe(new aE(i,this.accumulator,this.seed,this.hasSeed))}}class aE extends Yr.L{constructor(i,e,o,u){super(i),this.accumulator=e,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const e=this.index++;let o;try{o=this.accumulator(this.seed,i,e)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}function nn(t,i){return function(o){return o.lift(new uE(t,i))}}class uE{constructor(i,e){this.predicate=i,this.thisArg=e}call(i,e){return e.subscribe(new cE(i,this.predicate,this.thisArg))}}class cE extends Yr.L{constructor(i,e,o){super(i),this.predicate=e,this.thisArg=o,this.count=0}_next(i){let e;try{e=this.predicate.call(this.thisArg,i,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(i)}}function Fs(t){return function(e){const o=new bc(t),u=e.lift(o);return o.caught=u}}class bc{constructor(i){this.selector=i}call(i,e){return e.subscribe(new Gp(i,this.selector,this.caught))}}class Gp extends En.Ds{constructor(i,e,o){super(i),this.selector=e,this.caught=o}error(i){if(!this.isStopped){let e;try{e=this.selector(i,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const o=new En.IY(this);this.add(o);const u=(0,En.ft)(e,o);u!==o&&this.add(u)}}}var Tn=R(9773);function Ud(t,i){return(0,Tn.zg)(t,i,1)}function Ls(t){return function(e){return 0===t?(0,pn.c)():e.lift(new $p(t))}}class $p{constructor(i){if(this.total=i,this.total<0)throw new sE}call(i,e){return e.subscribe(new Ga(i,this.total))}}class Ga extends Yr.L{constructor(i,e){super(i),this.total=e,this.ring=new Array,this.count=0}_next(i){const e=this.ring,o=this.total,u=this.count++;e.length<o?e.push(i):e[u%o]=i}_complete(){const i=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let d=0;d<o;d++){const p=e++%o;i.next(u[p])}}i.complete()}}function Ov(t=qp){return i=>i.lift(new lE(t))}class lE{constructor(i){this.errorFactory=i}call(i,e){return e.subscribe(new dE(i,this.errorFactory))}}class dE extends Yr.L{constructor(i,e){super(i),this.errorFactory=e,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(e){i=e}this.destination.error(i)}}}function qp(){return new ks}function fE(t=null){return i=>i.lift(new Yp(t))}class Yp{constructor(i){this.defaultValue=i}call(i,e){return e.subscribe(new wc(i,this.defaultValue))}}class wc extends Yr.L{constructor(i,e){super(i),this.defaultValue=e,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Vs=R(4487);function Ft(t,i){const e=arguments.length>=2;return o=>o.pipe(t?nn((u,d)=>t(u,d,o)):Vs.y,lr(1),e?fE(i):Ov(()=>new ks))}var Un=R(8307),mM=R(1307),Wo=R(5319);class pE{constructor(i){this.callback=i}call(i,e){return e.subscribe(new kv(i,this.callback))}}class kv extends Yr.L{constructor(i,e){super(i),this.add(new Wo.w(e))}}class Qi{constructor(i,e){this.id=i,this.url=e}}class Pv extends Qi{constructor(i,e,o="imperative",u=null){super(i,e),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends Qi{constructor(i,e,o){super(i,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xi extends Qi{constructor(i,e,o){super(i,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jd extends Qi{constructor(i,e,o){super(i,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jo extends Qi{constructor(i,e,o,u){super(i,e),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gE extends Qi{constructor(i,e,o,u){super(i,e),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fv extends Qi{constructor(i,e,o,u,d){super(i,e),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zp extends Qi{constructor(i,e,o,u){super(i,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hd extends Qi{constructor(i,e,o,u){super(i,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zp{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lv{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mE{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $a{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dc{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yE{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _E{constructor(i,e,o){this.routerEvent=i,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const lt="primary";class vE{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ec(t){return new vE(t)}const Vv="ngNavigationCancelingError";function Wp(t){const i=Error("NavigationCancelingError: "+t);return i[Vv]=!0,i}function Gd(t,i,e){const o=e.path.split("/");if(o.length>t.length||"full"===e.pathMatch&&(i.hasChildren()||o.length<t.length))return null;const u={};for(let d=0;d<o.length;d++){const p=o[d],m=t[d];if(p.startsWith(":"))u[p.substring(1)]=m;else if(p!==m.path)return null}return{consumed:t.slice(0,o.length),posParams:u}}function vr(t,i){const e=t?Object.keys(t):void 0,o=i?Object.keys(i):void 0;if(!e||!o||e.length!=o.length)return!1;let u;for(let d=0;d<e.length;d++)if(u=e[d],!Bv(t[u],i[u]))return!1;return!0}function Bv(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const e=[...t].sort(),o=[...i].sort();return e.every((u,d)=>o[d]===u)}return t===i}function Uv(t){return Array.prototype.concat.apply([],t)}function wE(t){return t.length>0?t[t.length-1]:null}function In(t,i){for(const e in t)t.hasOwnProperty(e)&&i(t[e],e)}function ki(t){return(0,l.CqO)(t)?t:(0,l.QGY)(t)?(0,ln.D)(Promise.resolve(t)):(0,Ge.of)(t)}const Hv={exact:function $v(t,i,e){if(!Bs(t.segments,i.segments)||!Ao(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!t.children[o]||!$v(t.children[o],i.children[o],e))return!1;return!0},subset:qv},Qo={exact:function(t,i){return vr(t,i)},subset:function(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>Bv(t[e],i[e]))},ignored:()=>!0};function Gv(t,i,e){return Hv[e.paths](t.root,i.root,e.matrixParams)&&Qo[e.queryParams](t.queryParams,i.queryParams)&&!("exact"===e.fragment&&t.fragment!==i.fragment)}function qv(t,i,e){return eo(t,i,i.segments,e)}function eo(t,i,e,o){if(t.segments.length>e.length){const u=t.segments.slice(0,e.length);return!(!Bs(u,e)||i.hasChildren()||!Ao(u,e,o))}if(t.segments.length===e.length){if(!Bs(t.segments,e)||!Ao(t.segments,e,o))return!1;for(const u in i.children)if(!t.children[u]||!qv(t.children[u],i.children[u],o))return!1;return!0}{const u=e.slice(0,t.segments.length),d=e.slice(t.segments.length);return!!(Bs(t.segments,u)&&Ao(t.segments,u,o)&&t.children[lt])&&eo(t.children[lt],i,d,o)}}function Ao(t,i,e){return i.every((o,u)=>Qo[e](t[u].parameters,o.parameters))}class Ko{constructor(i,e,o){this.root=i,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ec(this.queryParams)),this._queryParamMap}toString(){return IE.serialize(this)}}class yt{constructor(i,e){this.segments=i,this.children=e,this.parent=null,In(e,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qd(this)}}class Tc{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ec(this.parameters)),this._parameterMap}toString(){return Kp(this)}}function Bs(t,i){return t.length===i.length&&t.every((e,o)=>e.path===i[o].path)}class $d{}class Yv{parse(i){const e=new vM(i);return new Ko(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){var t;return`${`/${Ic(i.root,!0)}`}${function(t){const i=Object.keys(t).map(e=>{const o=t[e];return Array.isArray(o)?o.map(u=>`${Yd(e)}=${Yd(u)}`).join("&"):`${Yd(e)}=${Yd(o)}`}).filter(e=>!!e);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${t=i.fragment,encodeURI(t)}`:""}`}}const IE=new Yv;function qd(t){return t.segments.map(i=>Kp(i)).join("/")}function Ic(t,i){if(!t.hasChildren())return qd(t);if(i){const e=t.children[lt]?Ic(t.children[lt],!1):"",o=[];return In(t.children,(u,d)=>{d!==lt&&o.push(`${d}:${Ic(u,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(t,i){let e=[];return In(t.children,(o,u)=>{u===lt&&(e=e.concat(i(o,u)))}),In(t.children,(o,u)=>{u!==lt&&(e=e.concat(i(o,u)))}),e}(t,(o,u)=>u===lt?[Ic(t.children[lt],!1)]:[`${u}:${Ic(o,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[lt]?`${qd(t)}/${e[0]}`:`${qd(t)}/(${e.join("//")})`}}function NE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(t){return NE(t).replace(/%3B/gi,";")}function zd(t){return NE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zr(t){return decodeURIComponent(t)}function qa(t){return Zr(t.replace(/\+/g,"%20"))}function Kp(t){return`${zd(t.path)}${function(t){return Object.keys(t).map(i=>`;${zd(i)}=${zd(t[i])}`).join("")}(t.parameters)}`}const yM=/^[^\/()?;=#]+/;function Xp(t){const i=t.match(yM);return i?i[0]:""}const _M=/^[^=?&#]+/,tg=/^[^?&#]+/;class vM{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(o[lt]=new yt(i,e)),o}parseSegment(){const i=Xp(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new Tc(Zr(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const e=Xp(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const u=Xp(this.remaining);u&&(o=u,this.capture(o))}i[Zr(e)]=Zr(o)}parseQueryParam(i){const e=function(t){const i=t.match(_M);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const p=function(t){const i=t.match(tg);return i?i[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const u=qa(e),d=qa(o);if(i.hasOwnProperty(u)){let p=i[u];Array.isArray(p)||(p=[p],i[u]=p),p.push(d)}else i[u]=d}parseParens(i){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Xp(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):i&&(d=lt);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[lt]:new yt([],p),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class SE{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){const e=Zd(i,this._root);return e?e.children.map(o=>o.value):[]}firstChild(i){const e=Zd(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){const e=rg(i,this._root);return e.length<2?[]:e[e.length-2].children.map(u=>u.value).filter(u=>u!==i)}pathFromRoot(i){return rg(i,this._root).map(e=>e.value)}}function Zd(t,i){if(t===i.value)return i;for(const e of i.children){const o=Zd(t,e);if(o)return o}return null}function rg(t,i){if(t===i.value)return[i];for(const e of i.children){const o=rg(t,e);if(o.length)return o.unshift(i),o}return[]}class Mo{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}}function Sc(t){const i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}class Wv extends SE{constructor(i,e){super(i),this.snapshot=e,og(this,i)}toString(){return this.snapshot.toString()}}function ig(t,i){const e=function(t,i){const p=new Vt([],{},{},"",{},lt,i,null,t.root,-1,{});return new Jv("",new Mo(p,[]))}(t,i),o=new ut([new Tc("",{})]),u=new ut({}),d=new ut({}),p=new ut({}),m=new ut(""),v=new Us(o,u,p,m,d,lt,i,e.root);return v.snapshot=e.root,new Wv(new Mo(v,[]),e)}class Us{constructor(i,e,o,u,d,p,m,v){this.url=i,this.params=e,this.queryParams=o,this.fragment=u,this.data=d,this.outlet=p,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(i=>Ec(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(i=>Ec(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jd(t,i="emptyOnly"){const e=t.pathFromRoot;let o=0;if("always"!==i)for(o=e.length-1;o>=1;){const u=e[o],d=e[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(d.component)break;o--}}return function(t){return t.reduce((i,e)=>({params:Object.assign(Object.assign({},i.params),e.params),data:Object.assign(Object.assign({},i.data),e.data),resolve:Object.assign(Object.assign({},i.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Vt{constructor(i,e,o,u,d,p,m,v,w,D,T){this.url=i,this.params=e,this.queryParams=o,this.fragment=u,this.data=d,this.outlet=p,this.component=m,this.routeConfig=v,this._urlSegment=w,this._lastPathIndex=D,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ec(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ec(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jv extends SE{constructor(i,e){super(e),this.url=i,og(this,e)}toString(){return Qd(this._root)}}function og(t,i){i.value._routerState=t,i.children.forEach(e=>og(t,e))}function Qd(t){const i=t.children.length>0?` { ${t.children.map(Qd).join(", ")} } `:"";return`${t.value}${i}`}function Kd(t){if(t.snapshot){const i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,vr(i.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),i.fragment!==e.fragment&&t.fragment.next(e.fragment),vr(i.params,e.params)||t.params.next(e.params),function(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!vr(t[e],i[e]))return!1;return!0}(i.url,e.url)||t.url.next(e.url),vr(i.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function sg(t,i){return vr(t.params,i.params)&&function(t,i){return Bs(t,i)&&t.every((e,o)=>vr(e.parameters,i[o].parameters))}(t.url,i.url)&&!(!t.parent!=!i.parent)&&(!t.parent||sg(t.parent,i.parent))}function Xd(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=i.value;const u=function(t,i,e){return i.children.map(o=>{for(const u of e.children)if(t.shouldReuseRoute(o.value,u.value.snapshot))return Xd(t,o,u);return Xd(t,o)})}(t,i,e);return new Mo(o,u)}{if(t.shouldAttach(i.value)){const d=t.retrieve(i.value);if(null!==d){const p=d.route;return Qv(i,p),p}}const o=function(t){return new Us(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}(i.value),u=i.children.map(d=>Xd(t,d));return new Mo(o,u)}}function Qv(t,i){if(t.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=t.value;for(let e=0;e<t.children.length;++e)Qv(t.children[e],i.children[e])}function Xo(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nn(t){return"object"==typeof t&&null!=t&&t.outlets}function Ac(t,i,e,o,u){let d={};return o&&In(o,(p,m)=>{d[m]=Array.isArray(p)?p.map(v=>`${v}`):`${p}`}),new Ko(e.root===t?i:ag(e.root,t,i),d,u)}function ag(t,i,e){const o={};return In(t.children,(u,d)=>{o[d]=u===i?e:ag(u,i,e)}),new yt(t.segments,o)}class ug{constructor(i,e,o){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=o,i&&o.length>0&&Xo(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(Nn);if(u&&u!==wE(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class js{constructor(i,e,o){this.segmentGroup=i,this.processChildren=e,this.index=o}}function lg(t,i,e){if(t||(t=new yt([],{})),0===t.segments.length&&t.hasChildren())return ef(t,i,e);const o=function(t,i,e){let o=0,u=i;const d={match:!1,pathIndex:0,commandIndex:0};for(;u<t.segments.length;){if(o>=e.length)return d;const p=t.segments[u],m=e[o];if(Nn(m))break;const v=`${m}`,w=o<e.length-1?e[o+1]:null;if(u>0&&void 0===v)break;if(v&&w&&"object"==typeof w&&void 0===w.outlets){if(!t0(v,w,p))return d;o+=2}else{if(!t0(v,{},p))return d;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(t,i,e),u=e.slice(o.commandIndex);if(o.match&&o.pathIndex<t.segments.length){const d=new yt(t.segments.slice(0,o.pathIndex),{});return d.children[lt]=new yt(t.segments.slice(o.pathIndex),t.children),ef(d,0,u)}return o.match&&0===u.length?new yt(t.segments,{}):o.match&&!t.hasChildren()?dg(t,i,e):o.match?ef(t,0,u):dg(t,i,e)}function ef(t,i,e){if(0===e.length)return new yt(t.segments,{});{const o=function(t){return Nn(t[0])?t[0].outlets:{[lt]:t}}(e),u={};return In(o,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(u[p]=lg(t.children[p],i,d))}),In(t.children,(d,p)=>{void 0===o[p]&&(u[p]=d)}),new yt(t.segments,u)}}function dg(t,i,e){const o=t.segments.slice(0,i);let u=0;for(;u<e.length;){const d=e[u];if(Nn(d)){const v=Xv(d.outlets);return new yt(o,v)}if(0===u&&Xo(e[0])){o.push(new Tc(t.segments[i].path,e0(e[0]))),u++;continue}const p=Nn(d)?d.outlets[lt]:`${d}`,m=u<e.length-1?e[u+1]:null;p&&m&&Xo(m)?(o.push(new Tc(p,e0(m))),u+=2):(o.push(new Tc(p,{})),u++)}return new yt(o,{})}function Xv(t){const i={};return In(t,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(i[o]=dg(new yt([],{}),0,e))}),i}function e0(t){const i={};return In(t,(e,o)=>i[o]=`${e}`),i}function t0(t,i,e){return t==e.path&&vr(i,e.parameters)}class n0{constructor(i,e,o,u){this.routeReuseStrategy=i,this.futureState=e,this.currState=o,this.forwardEvent=u}activate(i){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,i),Kd(this.futureState.root),this.activateChildRoutes(e,o,i)}deactivateChildRoutes(i,e,o){const u=Sc(e);i.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,u[p],o),delete u[p]}),In(u,(d,p)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(i,e,o){const u=i.value,d=e?e.value:null;if(u===d)if(u.component){const p=o.getContext(u.outlet);p&&this.deactivateChildRoutes(i,e,p.children)}else this.deactivateChildRoutes(i,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(i,e){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){const o=e.getContext(i.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),d=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:u,route:i,contexts:d})}}deactivateRouteAndOutlet(i,e){const o=e.getContext(i.value.outlet),u=o&&i.value.component?o.children:e,d=Sc(i);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(i,e,o){const u=Sc(e);i.children.forEach(d=>{this.activateRoutes(d,u[d.value.outlet],o),this.forwardEvent(new yE(d.value.snapshot))}),i.children.length&&this.forwardEvent(new $a(i.value.snapshot))}activateRoutes(i,e,o){const u=i.value,d=e?e.value:null;if(Kd(u),u===d)if(u.component){const p=o.getOrCreateContext(u.outlet);this.activateChildRoutes(i,e,p.children)}else this.activateChildRoutes(i,e,o);else if(u.component){const p=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const m=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),p.children.onOutletReAttached(m.contexts),p.attachRef=m.componentRef,p.route=m.route.value,p.outlet&&p.outlet.attach(m.componentRef,m.route.value),tf(m.route)}else{const m=function(t){for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(u.snapshot),v=m?m.module.componentFactoryResolver:null;p.attachRef=null,p.route=u,p.resolver=v,p.outlet&&p.outlet.activateWith(u,v),this.activateChildRoutes(i,null,p.children)}}else this.activateChildRoutes(i,null,o)}}function tf(t){Kd(t.value),t.children.forEach(tf)}class fg{constructor(i,e){this.routes=i,this.module=e}}function Hs(t){return"function"==typeof t}function to(t){return t instanceof Ko}const Mc=Symbol("INITIAL_VALUE");function xc(){return gn(t=>function(...t){let i,e;return(0,Fd.K)(t[t.length-1])&&(e=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&(0,Os.k)(t[0])&&(t=t[0]),(0,Mv.n)(t,e).lift(new vc(i))}(t.map(i=>i.pipe(lr(1),ci(Mc)))).pipe(Bd((i,e)=>{let o=!1;return e.reduce((u,d,p)=>u!==Mc?u:(d===Mc&&(o=!0),o||!1!==d&&p!==e.length-1&&!to(d)?u:d),i)},Mc),nn(i=>i!==Mc),(0,Be.U)(i=>to(i)?i:!0===i),lr(1)))}let o0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&l._UZ(0,"router-outlet")},directives:function(){return[I0]},encapsulation:2}),t})();function s0(t,i=""){for(let e=0;e<t.length;e++){const o=t[e];nf(o,li(i,o))}}function nf(t,i){t.children&&s0(t.children,i)}function li(t,i){return i?t||i.path?t&&!i.path?`${t}/`:!t&&i.path?i.path:`${t}/${i.path}`:"":t}function rf(t){const i=t.children&&t.children.map(rf),e=i?Object.assign(Object.assign({},t),{children:i}):Object.assign({},t);return!e.component&&(i||e.loadChildren)&&e.outlet&&e.outlet!==lt&&(e.component=o0),e}function di(t){return t.outlet||lt}function a0(t,i){const e=t.filter(o=>di(o)===i);return e.push(...t.filter(o=>di(o)!==i)),e}const hg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pg(t,i,e){var o;if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},hg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(i.matcher||Gd)(e,t,i);if(!d)return Object.assign({},hg);const p={};In(d.posParams,(v,w)=>{p[w]=v.path});const m=d.consumed.length>0?Object.assign(Object.assign({},p),d.consumed[d.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:m,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function Rc(t,i,e,o,u="corrected"){if(e.length>0&&function(t,i,e){return e.some(o=>Wr(t,i,o)&&di(o)!==lt)}(t,e,o)){const p=new yt(i,function(t,i,e,o){const u={};u[lt]=o,o._sourceSegment=t,o._segmentIndexShift=i.length;for(const d of e)if(""===d.path&&di(d)!==lt){const p=new yt([],{});p._sourceSegment=t,p._segmentIndexShift=i.length,u[di(d)]=p}return u}(t,i,o,new yt(e,t.children)));return p._sourceSegment=t,p._segmentIndexShift=i.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function(t,i,e){return e.some(o=>Wr(t,i,o))}(t,e,o)){const p=new yt(t.segments,function(t,i,e,o,u,d){const p={};for(const m of o)if(Wr(t,e,m)&&!u[di(m)]){const v=new yt([],{});v._sourceSegment=t,v._segmentIndexShift="legacy"===d?t.segments.length:i.length,p[di(m)]=v}return Object.assign(Object.assign({},u),p)}(t,i,e,o,t.children,u));return p._sourceSegment=t,p._segmentIndexShift=i.length,{segmentGroup:p,slicedSegments:e}}const d=new yt(t.segments,t.children);return d._sourceSegment=t,d._segmentIndexShift=i.length,{segmentGroup:d,slicedSegments:e}}function Wr(t,i,e){return(!(t.hasChildren()||i.length>0)||"full"!==e.pathMatch)&&""===e.path}function jE(t,i,e,o){return!!(di(t)===o||o!==lt&&Wr(i,e,t))&&("**"===t.path||pg(i,t,e).matched)}function HE(t,i,e){return 0===i.length&&!t.children[e]}class Za{constructor(i){this.segmentGroup=i||null}}class GE{constructor(i){this.urlTree=i}}function Jr(t){return new Or.y(i=>i.error(new Za(t)))}function of(t){return new Or.y(i=>i.error(new GE(t)))}function gg(t){return new Or.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Oc{constructor(i,e,o,u,d){this.configLoader=e,this.urlSerializer=o,this.urlTree=u,this.config=d,this.allowRedirects=!0,this.ngModule=i.get(l.h0i)}apply(){const i=Rc(this.urlTree.root,[],[],this.config).segmentGroup,e=new yt(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,e,lt).pipe((0,Be.U)(d=>this.createUrlTree(sf(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fs(d=>{if(d instanceof GE)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Za?this.noMatchError(d):d}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,lt).pipe((0,Be.U)(u=>this.createUrlTree(sf(u),i.queryParams,i.fragment))).pipe(Fs(u=>{throw u instanceof Za?this.noMatchError(u):u}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,e,o){const u=i.segments.length>0?new yt([],{[lt]:i}):i;return new Ko(u,e,o)}expandSegmentGroup(i,e,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(i,e,o).pipe((0,Be.U)(d=>new yt([],d))):this.expandSegment(i,o,e,o.segments,u,!0)}expandChildren(i,e,o){const u=[];for(const d of Object.keys(o.children))"primary"===d?u.unshift(d):u.push(d);return(0,ln.D)(u).pipe(Ud(d=>{const p=o.children[d],m=a0(e,d);return this.expandSegmentGroup(i,m,p,d).pipe((0,Be.U)(v=>({segment:v,outlet:d})))}),Bd((d,p)=>(d[p.outlet]=p.segment,d),{}),function(t,i){const e=arguments.length>=2;return o=>o.pipe(t?nn((u,d)=>t(u,d,o)):Vs.y,Ls(1),e?fE(i):Ov(()=>new ks))}())}expandSegment(i,e,o,u,d,p){return(0,ln.D)(o).pipe(Ud(m=>this.expandSegmentAgainstRoute(i,e,o,m,u,d,p).pipe(Fs(w=>{if(w instanceof Za)return(0,Ge.of)(null);throw w}))),Ft(m=>!!m),Fs((m,v)=>{if(m instanceof ks||"EmptyError"===m.name){if(HE(e,u,d))return(0,Ge.of)(new yt([],{}));throw new Za(e)}throw m}))}expandSegmentAgainstRoute(i,e,o,u,d,p,m){return jE(u,e,d,p)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(i,e,u,d,p):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,e,o,u,d,p):Jr(e):Jr(e)}expandSegmentAgainstRouteUsingRedirect(i,e,o,u,d,p){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,u,p):this.expandRegularSegmentAgainstRouteUsingRedirect(i,e,o,u,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,e,o,u){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?of(d):this.lineralizeSegments(o,d).pipe((0,Tn.zg)(p=>{const m=new yt(p,{});return this.expandSegment(i,m,e,p,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,e,o,u,d,p){const{matched:m,consumedSegments:v,lastChild:w,positionalParamSegments:D}=pg(e,u,d);if(!m)return Jr(e);const T=this.applyRedirectCommands(v,u.redirectTo,D);return u.redirectTo.startsWith("/")?of(T):this.lineralizeSegments(u,T).pipe((0,Tn.zg)(I=>this.expandSegment(i,e,o,I.concat(d.slice(w)),p,!1)))}matchSegmentAgainstRoute(i,e,o,u,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Ge.of)(o._loadedConfig):this.configLoader.load(i.injector,o)).pipe((0,Be.U)(I=>(o._loadedConfig=I,new yt(u,{})))):(0,Ge.of)(new yt(u,{}));const{matched:p,consumedSegments:m,lastChild:v}=pg(e,o,u);if(!p)return Jr(e);const w=u.slice(v);return this.getChildConfig(i,o,u).pipe((0,Tn.zg)(T=>{const I=T.module,M=T.routes,{segmentGroup:F,slicedSegments:j}=Rc(e,m,w,M),ie=new yt(F.segments,F.children);if(0===j.length&&ie.hasChildren())return this.expandChildren(I,M,ie).pipe((0,Be.U)(ze=>new yt(m,ze)));if(0===M.length&&0===j.length)return(0,Ge.of)(new yt(m,{}));const de=di(o)===d;return this.expandSegment(I,ie,M,j,de?lt:d,!0).pipe((0,Be.U)(Ee=>new yt(m.concat(Ee.segments),Ee.children)))}))}getChildConfig(i,e,o){return e.children?(0,Ge.of)(new fg(e.children,i)):e.loadChildren?void 0!==e._loadedConfig?(0,Ge.of)(e._loadedConfig):this.runCanLoadGuards(i.injector,e,o).pipe((0,Tn.zg)(u=>{return u?this.configLoader.load(i.injector,e).pipe((0,Be.U)(d=>(e._loadedConfig=d,d))):(t=e,new Or.y(i=>i.error(Wp(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):(0,Ge.of)(new fg([],i))}runCanLoadGuards(i,e,o){const u=e.canLoad;if(!u||0===u.length)return(0,Ge.of)(!0);const d=u.map(p=>{const m=i.get(p);let v;if((t=m)&&Hs(t.canLoad))v=m.canLoad(e,o);else{if(!Hs(m))throw new Error("Invalid CanLoad guard");v=m(e,o)}var t;return ki(v)});return(0,Ge.of)(d).pipe(xc(),(0,Un.b)(p=>{if(!to(p))return;const m=Wp(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw m.url=p,m}),(0,Be.U)(p=>!0===p))}lineralizeSegments(i,e){let o=[],u=e.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,Ge.of)(o);if(u.numberOfChildren>1||!u.children[lt])return gg(i.redirectTo);u=u.children[lt]}}applyRedirectCommands(i,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),i,o)}applyRedirectCreatreUrlTree(i,e,o,u){const d=this.createSegmentGroup(i,e.root,o,u);return new Ko(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){const o={};return In(i,(u,d)=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);o[d]=e[m]}else o[d]=u}),o}createSegmentGroup(i,e,o,u){const d=this.createSegments(i,e.segments,o,u);let p={};return In(e.children,(m,v)=>{p[v]=this.createSegmentGroup(i,m,o,u)}),new yt(d,p)}createSegments(i,e,o,u){return e.map(d=>d.path.startsWith(":")?this.findPosParam(i,d,u):this.findOrReturn(d,o))}findPosParam(i,e,o){const u=o[e.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${i}'. Cannot find '${e.path}'.`);return u}findOrReturn(i,e){let o=0;for(const u of e){if(u.path===i.path)return e.splice(o),u;o++}return i}}function sf(t){const i={};for(const o of Object.keys(t.children)){const d=sf(t.children[o]);(d.segments.length>0||d.hasChildren())&&(i[o]=d)}return function(t){if(1===t.numberOfChildren&&t.children[lt]){const i=t.children[lt];return new yt(t.segments.concat(i.segments),i.children)}return t}(new yt(t.segments,i))}class af{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class kc{constructor(i,e){this.component=i,this.route=e}}function CM(t,i,e){const o=t._root;return Pc(o,i?i._root:null,e,[o.value])}function Ja(t,i,e){const o=function(t){if(!t)return null;for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(i);return(o?o.module.injector:e).get(t)}function Pc(t,i,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=Sc(i);return t.children.forEach(p=>{(function(t,i,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=t.value,p=i?i.value:null,m=e?e.getContext(t.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const v=function(t,i,e){if("function"==typeof e)return e(t,i);switch(e){case"pathParamsChange":return!Bs(t.url,i.url);case"pathParamsOrQueryParamsChange":return!Bs(t.url,i.url)||!vr(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sg(t,i)||!vr(t.queryParams,i.queryParams);case"paramsChange":default:return!sg(t,i)}}(p,d,d.routeConfig.runGuardsAndResolvers);v?u.canActivateChecks.push(new af(o)):(d.data=p.data,d._resolvedData=p._resolvedData),Pc(t,i,d.component?m?m.children:null:e,o,u),v&&m&&m.outlet&&m.outlet.isActivated&&u.canDeactivateChecks.push(new kc(m.outlet.component,p))}else p&&Fc(i,m,u),u.canActivateChecks.push(new af(o)),Pc(t,null,d.component?m?m.children:null:e,o,u)})(p,d[p.value.outlet],e,o.concat([p.value]),u),delete d[p.value.outlet]}),In(d,(p,m)=>Fc(p,e.getContext(m),u)),u}function Fc(t,i,e){const o=Sc(t),u=t.value;In(o,(d,p)=>{Fc(d,u.component?i?i.children.getContext(p):null:i,e)}),e.canDeactivateChecks.push(new kc(u.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,u))}class JE{}function h0(t){return new Or.y(i=>i.error(t))}class g0{constructor(i,e,o,u,d,p){this.rootComponentType=i,this.config=e,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p}recognize(){const i=Rc(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,i,lt);if(null===e)return null;const o=new Vt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},lt,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new Mo(o,e),d=new Jv(this.url,u);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(i){const e=i.value,o=Jd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),i.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(i,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(i,e):this.processSegment(i,e,e.segments,o)}processChildren(i,e){const o=[];for(const d of Object.keys(e.children)){const p=e.children[d],m=a0(i,d),v=this.processSegmentGroup(m,p,d);if(null===v)return null;o.push(...v)}const u=_0(o);return u.sort((i,e)=>i.value.outlet===lt?-1:e.value.outlet===lt?1:i.value.outlet.localeCompare(e.value.outlet)),u}processSegment(i,e,o,u){for(const d of i){const p=this.processSegmentAgainstRoute(d,e,o,u);if(null!==p)return p}return HE(e,o,u)?[]:null}processSegmentAgainstRoute(i,e,o,u){if(i.redirectTo||!jE(i,e,o,u))return null;let d,p=[],m=[];if("**"===i.path){const M=o.length>0?wE(o).parameters:{};d=new Vt(o,M,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cg(i),di(i),i.component,i,v0(e),wg(e)+o.length,Dg(i))}else{const M=pg(e,i,o);if(!M.matched)return null;p=M.consumedSegments,m=o.slice(M.lastChild),d=new Vt(p,M.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cg(i),di(i),i.component,i,v0(e),wg(e)+p.length,Dg(i))}const v=(t=i).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:D}=Rc(e,p,m,v.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution);var t;if(0===D.length&&w.hasChildren()){const M=this.processChildren(v,w);return null===M?null:[new Mo(d,M)]}if(0===v.length&&0===D.length)return[new Mo(d,[])];const T=di(i)===u,I=this.processSegment(v,w,D,T?lt:u);return null===I?null:[new Mo(d,I)]}}function y0(t){const i=t.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function _0(t){const i=[],e=new Set;for(const o of t){if(!y0(o)){i.push(o);continue}const u=i.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==u?(u.children.push(...o.children),e.add(u)):i.push(o)}for(const o of e){const u=_0(o.children);i.push(new Mo(o.value,u))}return i.filter(o=>!e.has(o))}function v0(t){let i=t;for(;i._sourceSegment;)i=i._sourceSegment;return i}function wg(t){let i=t,e=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,e+=i._segmentIndexShift?i._segmentIndexShift:0;return e-1}function Cg(t){return t.data||{}}function Dg(t){return t.resolve||{}}function Lc(t){return gn(i=>{const e=t(i);return e?(0,ln.D)(e).pipe((0,Be.U)(()=>i)):(0,Ge.of)(i)})}class Vc extends class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}{}const Ig=new l.OlP("ROUTES");class Ng{constructor(i,e,o,u){this.loader=i,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=u}load(i,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const u=this.loadModuleFactory(e.loadChildren).pipe((0,Be.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=d.create(i);return new fg(Uv(p.injector.get(Ig,void 0,l.XFs.Self|l.XFs.Optional)).map(rf),p)}),Fs(d=>{throw e._loader$=void 0,d}));return e._loader$=new Vd.c(u,()=>new Gt.xQ).pipe((0,mM.x)()),e._loader$}loadModuleFactory(i){return"string"==typeof i?(0,ln.D)(this.loader.load(i)):ki(i()).pipe((0,Tn.zg)(e=>e instanceof l.YKP?(0,Ge.of)(e):(0,ln.D)(this.compiler.compileModuleAsync(e))))}}class QE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qa,this.attachRef=null}}class Qa{constructor(){this.contexts=new Map}onChildOutletCreated(i,e){const o=this.getOrCreateContext(i);o.outlet=e,this.contexts.set(i,o)}onChildOutletDestroyed(i){const e=this.getContext(i);e&&(e.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let e=this.getContext(i);return e||(e=new QE,this.contexts.set(i,e)),e}getContext(i){return this.contexts.get(i)||null}}class Sg{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,e){return i}}function E0(t){throw t}function DM(t,i,e){return i.parse("/")}function Ag(t,i){return(0,Ge.of)(null)}const KE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kr=(()=>{class t{constructor(e,o,u,d,p,m,v,w){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=u,this.location=d,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Gt.xQ,this.errorHandler=E0,this.malformedUriErrorHandler=DM,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ag,afterPreactivation:Ag},this.urlHandlingStrategy=new Sg,this.routeReuseStrategy=new Vc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(l.h0i),this.console=p.get(l.c2e);const I=p.get(l.R0b);this.isNgZoneEnabled=I instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new Ko(new yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ng(m,v,M=>this.triggerEvent(new Zp(M)),M=>this.triggerEvent(new Lv(M))),this.routerState=ig(this.currentUrlTree,this.rootComponentType),this.transitions=new ut({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(nn(u=>0!==u.id),(0,Be.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),gn(u=>{let d=!1,p=!1;return(0,Ge.of)(u).pipe((0,Un.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gn(m=>{const v=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString(),w=("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl);if(Pr(m.source)&&(this.browserUrlTree=m.rawUrl),w)return(0,Ge.of)(m).pipe(gn(D=>{const T=this.transitions.getValue();return o.next(new Pv(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),T!==this.transitions.getValue()?pn.E:Promise.resolve(D)}),function(t,i,e,o){return gn(u=>function(t,i,e,o,u){return new Oc(t,i,e,o,u).apply()}(t,i,e,u.extractedUrl,o).pipe((0,Be.U)(d=>Object.assign(Object.assign({},u),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Un.b)(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function(t,i,e,o,u){return(0,Tn.zg)(d=>function(t,i,e,o,u="emptyOnly",d="legacy"){try{const p=new g0(t,i,e,o,u,d).recognize();return null===p?h0(new JE):(0,Ge.of)(p)}catch(p){return h0(p)}}(t,i,d.urlAfterRedirects,e(d.urlAfterRedirects),o,u).pipe((0,Be.U)(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Un.b)(D=>{"eager"===this.urlUpdateStrategy&&(D.extras.skipLocationChange||this.setBrowserUrl(D.urlAfterRedirects,D),this.browserUrlTree=D.urlAfterRedirects);const T=new Jo(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);o.next(T)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:T,extractedUrl:I,source:M,restoredState:F,extras:j}=m,ie=new Pv(T,this.serializeUrl(I),M,F);o.next(ie);const de=ig(I,this.rootComponentType).snapshot;return(0,Ge.of)(Object.assign(Object.assign({},m),{targetSnapshot:de,urlAfterRedirects:I,extras:Object.assign(Object.assign({},j),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),pn.E}),Lc(m=>{const{targetSnapshot:v,id:w,extractedUrl:D,rawUrl:T,extras:{skipLocationChange:I,replaceUrl:M}}=m;return this.hooks.beforePreactivation(v,{navigationId:w,appliedUrlTree:D,rawUrlTree:T,skipLocationChange:!!I,replaceUrl:!!M})}),(0,Un.b)(m=>{const v=new gE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,Be.U)(m=>Object.assign(Object.assign({},m),{guards:CM(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(t,i){return(0,Tn.zg)(e=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?(0,Ge.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(t,i,e,o){return(0,ln.D)(t).pipe((0,Tn.zg)(u=>function(t,i,e,o,u){const d=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Ge.of)(!0);const p=d.map(m=>{const v=Ja(m,i,u);let w;if(function(t){return t&&Hs(t.canDeactivate)}(v))w=ki(v.canDeactivate(t,i,e,o));else{if(!Hs(v))throw new Error("Invalid CanDeactivate guard");w=ki(v(t,i,e,o))}return w.pipe(Ft())});return(0,Ge.of)(p).pipe(xc())}(u.component,u.route,e,i,o)),Ft(u=>!0!==u,!0))}(p,o,u,t).pipe((0,Tn.zg)(m=>m&&function(t){return"boolean"==typeof t}(m)?function(t,i,e,o){return(0,ln.D)(i).pipe(Ud(u=>Ld(function(t,i){return null!==t&&i&&i(new mE(t)),(0,Ge.of)(!0)}(u.route.parent,o),function(t,i){return null!==t&&i&&i(new Dc(t)),(0,Ge.of)(!0)}(u.route,o),function(t,i,e){const o=i[i.length-1],d=i.slice(0,i.length-1).reverse().map(p=>function(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(p)).filter(p=>null!==p).map(p=>Oi(()=>{const m=p.guards.map(v=>{const w=Ja(v,p.node,e);let D;if(function(t){return t&&Hs(t.canActivateChild)}(w))D=ki(w.canActivateChild(o,t));else{if(!Hs(w))throw new Error("Invalid CanActivateChild guard");D=ki(w(o,t))}return D.pipe(Ft())});return(0,Ge.of)(m).pipe(xc())}));return(0,Ge.of)(d).pipe(xc())}(t,u.path,e),function(t,i,e){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Ge.of)(!0);const u=o.map(d=>Oi(()=>{const p=Ja(d,i,e);let m;if(function(t){return t&&Hs(t.canActivate)}(p))m=ki(p.canActivate(i,t));else{if(!Hs(p))throw new Error("Invalid CanActivate guard");m=ki(p(i,t))}return m.pipe(Ft())}));return(0,Ge.of)(u).pipe(xc())}(t,u.route,e))),Ft(u=>!0!==u,!0))}(o,d,t,i):(0,Ge.of)(m)),(0,Be.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Un.b)(m=>{if(to(m.guardsResult)){const w=Wp(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw w.url=m.guardsResult,w}const v=new Fv(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),nn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Lc(m=>{if(m.guards.canActivateChecks.length)return(0,Ge.of)(m).pipe((0,Un.b)(v=>{const w=new zp(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),gn(v=>{let w=!1;return(0,Ge.of)(v).pipe(function(t,i){return(0,Tn.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=e;if(!u.length)return(0,Ge.of)(e);let d=0;return(0,ln.D)(u).pipe(Ud(p=>function(t,i,e,o){return function(t,i,e,o){const u=Object.keys(t);if(0===u.length)return(0,Ge.of)({});const d={};return(0,ln.D)(u).pipe((0,Tn.zg)(p=>function(t,i,e,o){const u=Ja(t,i,o);return ki(u.resolve?u.resolve(i,e):u(i,e))}(t[p],i,e,o).pipe((0,Un.b)(m=>{d[p]=m}))),Ls(1),(0,Tn.zg)(()=>Object.keys(d).length===u.length?(0,Ge.of)(d):pn.E))}(t._resolve,t,i,o).pipe((0,Be.U)(d=>(t._resolvedData=d,t.data=Object.assign(Object.assign({},t.data),Jd(t,e).resolve),null)))}(p.route,o,t,i)),(0,Un.b)(()=>d++),Ls(1),(0,Tn.zg)(p=>d===u.length?(0,Ge.of)(e):pn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Un.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Un.b)(v=>{const w=new Hd(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}))}),Lc(m=>{const{targetSnapshot:v,id:w,extractedUrl:D,rawUrl:T,extras:{skipLocationChange:I,replaceUrl:M}}=m;return this.hooks.afterPreactivation(v,{navigationId:w,appliedUrlTree:D,rawUrlTree:T,skipLocationChange:!!I,replaceUrl:!!M})}),(0,Be.U)(m=>{const v=function(t,i,e){const o=Xd(t,i._root,e?e._root:void 0);return new Wv(o,i)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,Un.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((t,i,e)=>(0,Be.U)(o=>(new n0(i,o.targetRouterState,o.currentRouterState,e).activate(t),o)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Un.b)({next(){d=!0},complete(){d=!0}}),function(t){return i=>i.lift(new pE(t))}(()=>{if(!d&&!p){const m=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,m)):this.cancelNavigationTransition(u,m)}this.currentNavigation=null}),Fs(m=>{if(p=!0,function(t){return t&&t[Vv]}(m)){const v=to(m.url);v||(this.navigated=!0,this.restoreHistory(u,!0));const w=new Xi(u.id,this.serializeUrl(u.extractedUrl),m.message);o.next(w),v?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),T={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pr(u.source)};this.scheduleNavigation(D,"imperative",null,T,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const v=new jd(u.id,this.serializeUrl(u.extractedUrl),m);o.next(v);try{u.resolve(this.errorHandler(m))}catch(w){u.reject(w)}}return pn.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:d,urlTree:p}=o,m={replaceUrl:!0};if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(m.state=v)}this.scheduleNavigation(p,u,d,m)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const u=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!u||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){s0(e),this.config=e.map(rf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:u,queryParams:d,fragment:p,queryParamsHandling:m,preserveFragment:v}=o,w=u||this.routerState.root,D=v?this.currentUrlTree.fragment:p;let T=null;switch(m){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=d||null}return null!==T&&(T=this.removeEmptyProps(T)),function(t,i,e,o,u){if(0===e.length)return Ac(i.root,i.root,i,o,u);const d=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ug(!0,0,t);let i=0,e=!1;const o=t.reduce((u,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const m={};return In(d.outlets,(v,w)=>{m[w]="string"==typeof v?v.split("/"):v}),[...u,{outlets:m}]}if(d.segmentPath)return[...u,d.segmentPath]}return"string"!=typeof d?[...u,d]:0===p?(d.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?e=!0:".."===m?i++:""!=m&&u.push(m))}),u):[...u,d]},[]);return new ug(e,i,o)}(e);if(d.toRoot())return Ac(i.root,new yt([],{}),i,o,u);const p=function(t,i,e){if(t.isAbsolute)return new js(i.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new js(d,d===i.root,0)}const o=Xo(t.commands[0])?0:1;return function(t,i,e){let o=t,u=i,d=e;for(;d>u;){if(d-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new js(o,!1,u-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,t.numberOfDoubleDots)}(d,i,t),m=p.processChildren?ef(p.segmentGroup,p.index,d.commands):lg(p.segmentGroup,p.index,d.commands);return Ac(p.segmentGroup,m,i,o,u)}(w,this.currentUrlTree,e,T,null!=D?D:null)}navigateByUrl(e,o={skipLocationChange:!1}){const u=to(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(t){for(let i=0;i<t.length;i++){const e=t[i];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${i}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,e)}return o}isActive(e,o){let u;if(u=!0===o?Object.assign({},KE):!1===o?Object.assign({},T0):o,to(e))return Gv(this.currentUrlTree,e,u);const d=this.parseUrl(e);return Gv(this.currentUrlTree,d,u)}removeEmptyProps(e){return Object.keys(e).reduce((o,u)=>{const d=e[u];return null!=d&&(o[u]=d),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ki(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,u,d,p){var m,v;if(this.disposed)return Promise.resolve(!1);const w=this.getTransition(),D=Pr(o)&&w&&!Pr(w.source),M=(this.lastSuccessfulId===w.id||this.currentNavigation?w.rawUrl:w.urlAfterRedirects).toString()===e.toString();if(D&&M)return Promise.resolve(!0);let F,j,ie;p?(F=p.resolve,j=p.reject,ie=p.promise):ie=new Promise((Ee,ze)=>{F=Ee,j=ze});const de=++this.navigationId;let we;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),we=u&&u.\u0275routerPageId?u.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):we=0,this.setTransition({id:de,targetPageId:we,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:F,reject:j,promise:ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ie.catch(Ee=>Promise.reject(Ee))}setBrowserUrl(e,o){const u=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",d):this.location.go(u,"",d)}restoreHistory(e,o=!1){var u,d;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===p?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const u=new Xi(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(u),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.DyG),l.LFG($d),l.LFG(Qa),l.LFG(it),l.LFG(l.zs3),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(void 0))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function Pr(t){return"imperative"!==t}let I0=(()=>{class t{constructor(e,o,u,d,p){this.parentContexts=e,this.location=o,this.resolver=u,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.name=d||lt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new N0(e,m,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(Qa),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},t.\u0275dir=l.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class N0{constructor(i,e,o){this.route=i,this.childContexts=e,this.parent=o}get(i,e){return i===Us?this.route:i===Qa?this.childContexts:this.parent.get(i,e)}}class S0{}class A0{preload(i,e){return(0,Ge.of)(null)}}let Xe=(()=>{class t{constructor(e,o,u,d,p){this.router=e,this.injector=d,this.preloadingStrategy=p,this.loader=new Ng(o,u,w=>e.triggerEvent(new Zp(w)),w=>e.triggerEvent(new Lv(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(nn(e=>e instanceof Ki),Ud(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const u=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const p=d._loadedConfig;u.push(this.processRoutes(p.module,p.routes))}else d.loadChildren&&!d.canLoad?u.push(this.preloadConfig(e,d)):d.children&&u.push(this.processRoutes(e,d.children));return(0,ln.D)(u).pipe((0,Ps.J)(),(0,Be.U)(d=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Ge.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,Tn.zg)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(kr),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(S0))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),df=(()=>{class t{constructor(e,o,u={}){this.router=e,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Pv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ki&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _E&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new _E(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(kr),l.LFG(Np),l.LFG(void 0))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const no=new l.OlP("ROUTER_CONFIGURATION"),fi=new l.OlP("ROUTER_FORROOT_GUARD"),iT=[it,{provide:$d,useClass:Yv},{provide:kr,useFactory:function(t,i,e,o,u,d,p,m={},v,w){const D=new kr(null,t,i,e,o,u,d,Uv(p));return v&&(D.urlHandlingStrategy=v),w&&(D.routeReuseStrategy=w),function(t,i){t.errorHandler&&(i.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(i.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(i.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(i.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(i.urlUpdateStrategy=t.urlUpdateStrategy)}(m,D),m.enableTracing&&D.events.subscribe(T=>{var I,M;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(M=console.groupEnd)||void 0===M||M.call(console)}),D},deps:[$d,Qa,it,l.zs3,l.v3s,l.Sil,Ig,no,[class{},new l.FiY],[class{},new l.FiY]]},Qa,{provide:Us,useFactory:function(t){return t.routerState.root},deps:[kr]},{provide:l.v3s,useClass:l.EAV},Xe,A0,class{preload(i,e){return e().pipe(Fs(()=>(0,Ge.of)(null)))}},{provide:no,useValue:{enableTracing:!1}}];function xg(){return new l.PXZ("Router",kr)}let ro=(()=>{class t{constructor(e,o){}static forRoot(e,o){return{ngModule:t,providers:[iT,oT(e),{provide:fi,useFactory:Og,deps:[[kr,new l.FiY,new l.tp0]]},{provide:no,useValue:o||{}},{provide:Ne,useFactory:x0,deps:[$,[new l.tBr(le),new l.FiY],no]},{provide:df,useFactory:Rg,deps:[kr,Np,no]},{provide:S0,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:A0},{provide:l.PXZ,multi:!0,useFactory:xg},[Xa,{provide:l.ip1,multi:!0,useFactory:ff,deps:[Xa]},{provide:sT,useFactory:kg,deps:[Xa]},{provide:l.tb,multi:!0,useExisting:sT}]]}}static forChild(e){return{ngModule:t,providers:[oT(e)]}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(fi,8),l.LFG(kr,8))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();function Rg(t,i,e){return e.scrollOffset&&i.setOffset(e.scrollOffset),new df(t,i,e)}function x0(t,i,e={}){return e.useHash?new Qe(t,i):new Pe(t,i)}function Og(t){return"guarded"}function oT(t){return[{provide:l.deG,multi:!0,useValue:t},{provide:Ig,multi:!0,useValue:t}]}let Xa=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Gt.xQ}appInitializer(){return this.injector.get(x,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(m=>o=m),d=this.injector.get(kr),p=this.injector.get(no);return"disabled"===p.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Ge.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),u})}bootstrapListener(e){const o=this.injector.get(no),u=this.injector.get(Xe),d=this.injector.get(df),p=this.injector.get(kr),m=this.injector.get(l.z2F);e===m.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&p.initialNavigation(),u.setUpPreloading(),d.init(),p.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.zs3))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function ff(t){return t.appInitializer.bind(t)}function kg(t){return t.bootstrapListener.bind(t)}const sT=new l.OlP("Router Initializer"),TM=[];let cT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ro.forRoot(TM)],ro]}),t})();var IM=R(9105);function jn(t,i,e,o){return(0,IM.m)(e)&&(o=e,e=void 0),o?jn(t,i,e).pipe((0,Be.U)(u=>(0,Os.k)(u)?o(...u):o(u))):new Or.y(u=>{O0(t,i,function(p){u.next(arguments.length>1?Array.prototype.slice.call(arguments):p)},u,e)})}function O0(t,i,e,o,u){let d;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const p=t;t.addEventListener(i,e,u),d=()=>p.removeEventListener(i,e,u)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const p=t;t.on(i,e),d=()=>p.off(i,e)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const p=t;t.addListener(i,e),d=()=>p.removeListener(i,e)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let p=0,m=t.length;p<m;p++)O0(t[p],i,e,o,u)}o.add(d)}var k0=R(3637),dT=R(6561);function AM(t){const{index:i,period:e,subscriber:o}=t;if(o.next(i),!o.closed){if(-1===e)return o.complete();t.index=i+1,this.schedule(t,e)}}class MM{call(i,e){return e.subscribe(new xM(i))}}class xM extends Sv{constructor(i){super(i),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(i){this.observables.push(i)}_complete(){const i=this.observables,e=i.length;if(0===e)this.destination.complete();else{for(let o=0;o<e&&!this.hasFirst;o++){const d=Av(this,i[o],void 0,o);this.subscriptions&&this.subscriptions.push(d),this.add(d)}this.observables=null}}notifyNext(i,e,o){if(!this.hasFirst){this.hasFirst=!0;for(let u=0;u<this.subscriptions.length;u++)if(u!==o){let d=this.subscriptions[u];d.unsubscribe(),this.remove(d)}this.subscriptions=null}this.destination.next(e)}}var RM=R(8640);new Or.y(RM.Z);var eu=R(377);function hf(...t){const i=t[t.length-1];return"function"==typeof i&&t.pop(),(0,Mv.n)(t,void 0).lift(new P0(i))}class P0{constructor(i){this.resultSelector=i}call(i,e){return e.subscribe(new Fg(i,this.resultSelector))}}class Fg extends Yr.L{constructor(i,e,o=Object.create(null)){super(i),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(i){const e=this.iterators;(0,Os.k)(i)?e.push(new Lg(i)):e.push("function"==typeof i[eu.hZ]?new F0(i[eu.hZ]()):new gT(this.destination,this,i))}_complete(){const i=this.iterators,e=i.length;if(this.unsubscribe(),0!==e){this.active=e;for(let o=0;o<e;o++){let u=i[o];u.stillUnsubscribed?this.destination.add(u.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const i=this.iterators,e=i.length,o=this.destination;for(let p=0;p<e;p++){let m=i[p];if("function"==typeof m.hasValue&&!m.hasValue())return}let u=!1;const d=[];for(let p=0;p<e;p++){let m=i[p],v=m.next();if(m.hasCompleted()&&(u=!0),v.done)return void o.complete();d.push(v.value)}this.resultSelector?this._tryresultSelector(d):o.next(d),u&&o.complete()}_tryresultSelector(i){let e;try{e=this.resultSelector.apply(this,i)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class F0{constructor(i){this.iterator=i,this.nextResult=i.next()}hasValue(){return!0}next(){const i=this.nextResult;return this.nextResult=this.iterator.next(),i}hasCompleted(){const i=this.nextResult;return Boolean(i&&i.done)}}class Lg{constructor(i){this.array=i,this.index=0,this.length=0,this.length=i.length}[eu.hZ](){return this}next(i){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class gT extends En.Ds{constructor(i,e,o){super(i),this.parent=e,this.observable=o,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[eu.hZ](){return this}next(){const i=this.buffer;return 0===i.length&&this.isComplete?{value:null,done:!0}:{value:i.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(i){this.buffer.push(i),this.parent.checkIterators()}subscribe(){return(0,En.ft)(this.observable,new En.IY(this))}}function rn(t){return i=>i.lift(new OM(t))}R(6682);class OM{constructor(i){this.notifier=i}call(i,e){const o=new Vg(i),u=(0,En.ft)(this.notifier,new En.IY(o));return u&&!o.seenValue?(o.add(u),e.subscribe(o)):o}}class Vg extends En.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class V0{constructor(i,e){this.compare=i,this.keySelector=e}call(i,e){return e.subscribe(new mT(i,this.compare,this.keySelector))}}class mT extends Yr.L{constructor(i,e,o){super(i),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(i,e){return i===e}_next(i){let e;try{const{keySelector:u}=this;e=u?u(i):i}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,e)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=e,this.destination.next(i))}}function Bg(...t){return i=>{let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),i.lift(new Bc(t,e))}}class Bc{constructor(i,e){this.observables=i,this.project=e}call(i,e){return e.subscribe(new tu(i,this.observables,this.project))}}class tu extends Sv{constructor(i,e,o){super(i),this.observables=e,this.project=o,this.toRespond=[];const u=e.length;this.values=new Array(u);for(let d=0;d<u;d++)this.toRespond.push(d);for(let d=0;d<u;d++)this.add(Av(this,e[d],void 0,d))}notifyNext(i,e,o){this.values[o]=e;const u=this.toRespond;if(u.length>0){const d=u.indexOf(o);-1!==d&&u.splice(d,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const e=[i,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(i){let e;try{e=this.project.apply(this,i)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}R(1593),R(8819);var gf=R(1555);function Uc(t,i){return new Or.y(e=>{const o=t.length;if(0===o)return void e.complete();const u=new Array(o);let d=0,p=0;for(let m=0;m<o;m++){const v=(0,ln.D)(t[m]);let w=!1;e.add(v.subscribe({next:D=>{w||(w=!0,p++),u[m]=D},error:D=>e.error(D),complete:()=>{d++,(d===o||!w)&&(p===o&&e.next(i?i.reduce((D,T,I)=>(D[T]=u[I],D),{}):u),e.complete())}}))}})}let _T=(()=>{class t{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Qsj),l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t}),t})(),es=(()=>{class t extends _T{}return t.\u0275fac=function(){let i;return function(o){return(i||(i=l.n5z(t)))(o||t)}}(),t.\u0275dir=l.lG2({type:t,features:[l.qOj]}),t})();const Hn=new l.OlP("NgValueAccessor"),bT={provide:Hn,useExisting:(0,l.Gpc)(()=>iu),multi:!0},Qr=new l.OlP("CompositionEventMode");let iu=(()=>{class t extends _T{constructor(e,o,u){super(e,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ce()?ce().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Qr,8))},t.\u0275dir=l.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&l.NdJ("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[l._Bn([bT]),l.qOj]}),t})();function ts(t){return null==t||0===t.length}function CT(t){return null!=t&&"number"==typeof t.length}const fr=new l.OlP("NgValidators"),Ro=new l.OlP("NgAsyncValidators"),kM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oo{static min(i){return function(t){return i=>{if(ts(i.value)||ts(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}(i)}static max(i){return function(t){return i=>{if(ts(i.value)||ts(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}(i)}static required(i){return function(t){return ts(t.value)?{required:!0}:null}(i)}static requiredTrue(i){return function(t){return!0===t.value?null:{required:!0}}(i)}static email(i){return function(t){return ts(t.value)||kM.test(t.value)?null:{email:!0}}(i)}static minLength(i){return function(t){return i=>ts(i.value)||!CT(i.value)?null:i.value.length<t?{minlength:{requiredLength:t,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function(t){return i=>CT(i.value)&&i.value.length>t?{maxlength:{requiredLength:t,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(t){if(!t)return ns;let i,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),o=>{if(ts(o.value))return null;const u=o.value;return i.test(u)?null:{pattern:{requiredPattern:e,actualValue:u}}}}(i)}static nullValidator(i){return null}static compose(i){return Z0(i)}static composeAsync(i){return DT(i)}}function ns(t){return null}function Y0(t){return null!=t}function Zg(t){const i=(0,l.QGY)(t)?(0,ln.D)(t):t;return(0,l.CqO)(i),i}function Wg(t){let i={};return t.forEach(e=>{i=null!=e?Object.assign(Object.assign({},i),e):i}),0===Object.keys(i).length?null:i}function z0(t,i){return i.map(e=>e(t))}function yf(t){return t.map(i=>function(t){return!t.validate}(i)?i:e=>i.validate(e))}function Z0(t){if(!t)return null;const i=t.filter(Y0);return 0==i.length?null:function(e){return Wg(z0(e,i))}}function Jg(t){return null!=t?Z0(yf(t)):null}function DT(t){if(!t)return null;const i=t.filter(Y0);return 0==i.length?null:function(e){return function(...t){if(1===t.length){const i=t[0];if((0,Os.k)(i))return Uc(i,null);if((0,gf.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const e=Object.keys(i);return Uc(e.map(o=>i[o]),e)}}if("function"==typeof t[t.length-1]){const i=t.pop();return Uc(t=1===t.length&&(0,Os.k)(t[0])?t[0]:t,null).pipe((0,Be.U)(e=>i(...e)))}return Uc(t,null)}(z0(e,i).map(Zg)).pipe((0,Be.U)(Wg))}}function _f(t){return null!=t?DT(yf(t)):null}function W0(t,i){return null===t?[i]:Array.isArray(t)?[...t,i]:[t,i]}function J0(t){return t._rawValidators}function Q0(t){return t._rawAsyncValidators}function jc(t){return t?Array.isArray(t)?t:[t]:[]}function vf(t,i){return Array.isArray(t)?t.includes(i):t===i}function K0(t,i){const e=jc(i);return jc(t).forEach(u=>{vf(e,u)||e.push(u)}),e}function Hc(t,i){return jc(i).filter(e=>!vf(t,e))}let bf=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_f(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t}),t})(),br=(()=>{class t extends bf{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let i;return function(o){return(i||(i=l.n5z(t)))(o||t)}}(),t.\u0275dir=l.lG2({type:t,features:[l.qOj]}),t})();class so extends bf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wf{constructor(i){this._cd=i}is(i){var e,o,u;return"submitted"===i?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[i])}}let Cf=(()=>{class t extends wf{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(so,2))},t.\u0275dir=l.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&l.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[l.qOj]}),t})(),ou=(()=>{class t extends wf{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(br,10))},t.\u0275dir=l.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&l.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[l.qOj]}),t})();function su(t,i){Fi(t,i),i.valueAccessor.writeValue(t.value),function(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ST(t,i)})}(t,i),function(t,i){const e=(o,u)=>{i.valueAccessor.writeValue(o),u&&i.viewToModelUpdate(o)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,i),function(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ST(t,i),"submit"!==t.updateOn&&t.markAsTouched()})}(t,i),function(t,i){if(i.valueAccessor.setDisabledState){const e=o=>{i.valueAccessor.setDisabledState(o)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,i)}function $c(t,i,e=!0){const o=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(o),i.valueAccessor.registerOnTouched(o)),Ys(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function qc(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function Fi(t,i){const e=J0(t);null!==i.validator?t.setValidators(W0(e,i.validator)):"function"==typeof e&&t.setValidators([e]);const o=Q0(t);null!==i.asyncValidator?t.setAsyncValidators(W0(o,i.asyncValidator)):"function"==typeof o&&t.setAsyncValidators([o]);const u=()=>t.updateValueAndValidity();qc(i._rawValidators,u),qc(i._rawAsyncValidators,u)}function Ys(t,i){let e=!1;if(null!==t){if(null!==i.validator){const u=J0(t);if(Array.isArray(u)&&u.length>0){const d=u.filter(p=>p!==i.validator);d.length!==u.length&&(e=!0,t.setValidators(d))}}if(null!==i.asyncValidator){const u=Q0(t);if(Array.isArray(u)&&u.length>0){const d=u.filter(p=>p!==i.asyncValidator);d.length!==u.length&&(e=!0,t.setAsyncValidators(d))}}}const o=()=>{};return qc(i._rawValidators,o),qc(i._rawAsyncValidators,o),e}function ST(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Qg(t,i){Fi(t,i)}function tb(t,i){t._syncPendingControls(),i.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function Tf(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}const Zc="VALID",If="INVALID",zs="PENDING",ao="DISABLED";function Kg(t){return(Xg(t)?t.validators:t)||null}function ib(t){return Array.isArray(t)?Jg(t):t||null}function rs(t,i){return(Xg(i)?i.asyncValidators:t)||null}function ob(t){return Array.isArray(t)?_f(t):t||null}function Xg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class em{constructor(i,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=e,this._composedValidatorFn=ib(this._rawValidators),this._composedAsyncValidatorFn=ob(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Zc}get invalid(){return this.status===If}get pending(){return this.status==zs}get disabled(){return this.status===ao}get enabled(){return this.status!==ao}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=ib(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=ob(i)}addValidators(i){this.setValidators(K0(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(K0(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Hc(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Hc(i,this._rawAsyncValidators))}hasValidator(i){return vf(this._rawValidators,i)}hasAsyncValidator(i){return vf(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=zs,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=ao,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=Zc,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zc||this.status===zs)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ao:Zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=zs,this._hasOwnPendingAsyncValidator=!0;const e=Zg(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(!1!==e.emitEvent)}get(i){return function(t,i,e){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let o=t;return i.forEach(u=>{o=o instanceof Nf?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof tm&&o.at(u)||null}),o}(this,i)}getError(i,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ao:this.errors?If:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zs)?zs:this._anyControlsHaveStatus(If)?If:Zc}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Xg(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class uu extends em{constructor(i=null,e,o){super(Kg(e),rs(o,e)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=null,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Tf(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Tf(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class Nf extends em{constructor(i,e,o){super(Kg(e),rs(o,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,o={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,o={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(i[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(Object.keys(i).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(i[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((o,u)=>{o.reset(i[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,o)=>(i[o]=e instanceof uu?e.value:e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&i(o,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&i(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,e,o)=>((e.enabled||this.disabled)&&(i[o]=e.value),i))}_reduceChildren(i,e){let o=i;return this._forEachChild((u,d)=>{o=e(o,u,d)}),o}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((e,o)=>{if(void 0===i[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class tm extends em{constructor(i,e,o){super(Kg(e),rs(o,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,o={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,o={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){this._checkAllValuesPresent(i),i.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(i.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((o,u)=>{o.reset(i[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i instanceof uu?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((e,o)=>{i(e,o)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((e,o)=>{if(void 0===i[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const sb={provide:br,useExisting:(0,l.Gpc)(()=>Wc)},Zs=(()=>Promise.resolve(null))();let Wc=(()=>{class t extends br{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.vpe,this.form=new Nf({},Jg(e),_f(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Zs.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),su(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Zs.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),Tf(this._directives,e)})}addFormGroup(e){Zs.then(()=>{const o=this._findContainer(e.path),u=new Nf({});Qg(u,e),o.registerControl(e.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Zs.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){Zs.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,tb(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(fr,10),l.Y36(Ro,10))},t.\u0275dir=l.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&l.NdJ("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([sb]),l.qOj]}),t})(),Jc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const ub={provide:Hn,useExisting:(0,l.Gpc)(()=>Qc),multi:!0};let Qc=(()=>{class t extends es{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}}return t.\u0275fac=function(){let i;return function(o){return(i||(i=l.n5z(t)))(o||t)}}(),t.\u0275dir=l.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,o){1&e&&l.NdJ("input",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},features:[l._Bn([ub]),l.qOj]}),t})(),Af=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();const am=new l.OlP("NgModelWithFormControlWarning"),kT={provide:br,useExisting:(0,l.Gpc)(()=>Ws)};let Ws=(()=>{class t extends br{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ys(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return su(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){$c(e.control||null,e,!1),Tf(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,tb(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,u=this.form.get(e.path);o!==u&&($c(o||null,e),u instanceof uu&&(su(u,e),e.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);Qg(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(t,i){return Ys(t,i)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fi(this.form,this),this._oldForm&&Ys(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(fr,10),l.Y36(Ro,10))},t.\u0275dir=l.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&l.NdJ("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([kT]),l.qOj,l.TTD]}),t})();const VM={provide:so,useExisting:(0,l.Gpc)(()=>Js)};let Js=(()=>{class t extends so{constructor(e,o,u,d,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function(t,i){if(!i)return null;let e,o,u;return Array.isArray(i),i.forEach(d=>{d.constructor===iu?e=d:function(t){return Object.getPrototypeOf(t.constructor)===es}(d)?o=d:u=d}),u||o||e||null}(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(t,i){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(i,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(t,i){return[...i.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(br,13),l.Y36(fr,10),l.Y36(Ro,10),l.Y36(Hn,10),l.Y36(am,8))},t.\u0275dir=l.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([VM]),l.qOj,l.TTD]}),t._ngModelWarningSentOnce=!1,t})(),cu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[Af]]}),t})(),Kn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[cu]}),t})(),is=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:am,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[cu]}),t})(),Fr=(()=>{class t{group(e,o=null){const u=this._reduceControls(e);let m,d=null,p=null;return null!=o&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(o)?(d=null!=o.validators?o.validators:null,p=null!=o.asyncValidators?o.asyncValidators:null,m=null!=o.updateOn?o.updateOn:void 0):(d=null!=o.validator?o.validator:null,p=null!=o.asyncValidator?o.asyncValidator:null)),new Nf(u,{asyncValidators:p,updateOn:m,validators:d})}control(e,o,u){return new uu(e,o,u)}array(e,o,u){const d=e.map(p=>this._createControl(p));return new tm(d,o,u)}_reduceControls(e){const o={};return Object.keys(e).forEach(u=>{o[u]=this._createControl(e[u])}),o}_createControl(e){return e instanceof uu||e instanceof Nf||e instanceof tm?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,l.Yz7)({factory:function(){return new t},token:t,providedIn:is}),t})();const Li=["*"],hm=["dialog"];function Ks(t){return null!=t}function qt(t){return(t||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(t))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null});const n1={animation:!0,transitionTimerDelayMs:5};let Sn=(()=>{class t{constructor(){this.animation=n1.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const i1=()=>{},{transitionTimerDelayMs:EI}=n1,rl=new Map,mn=(t,i,e,o)=>{let u=o.context||{};const d=rl.get(i);if(d)switch(o.runningTransition){case"continue":return pn.E;case"stop":t.run(()=>d.transition$.complete()),u=Object.assign(d.context,u),rl.delete(i)}const p=e(i,o.animation,u)||i1;if(!o.animation||"none"===window.getComputedStyle(i).transitionProperty)return t.run(()=>p()),(0,Ge.of)(void 0).pipe(function(t){return i=>new Or.y(e=>i.subscribe(p=>t.run(()=>e.next(p)),p=>t.run(()=>e.error(p)),()=>t.run(()=>e.complete())))}(t));const m=new Gt.xQ,v=new Gt.xQ,w=m.pipe(function(...t){return i=>Ld(i,(0,Ge.of)(...t))}(!0));rl.set(i,{transition$:m,complete:()=>{v.next(),v.complete()},context:u});const D=function(t){const{transitionDelay:i,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(i)+parseFloat(e))}(i);return t.runOutsideAngular(()=>{const T=jn(i,"transitionend").pipe(rn(w),nn(({target:M})=>M===i));(function(...t){if(1===t.length){if(!(0,Os.k)(t[0]))return t[0];t=t[0]}return(0,Mv.n)(t,void 0).lift(new MM)})(function(t=0,i,e){let o=-1;return(0,dT.k)(i)?o=Number(i)<1?1:Number(i):(0,Fd.K)(i)&&(e=i),(0,Fd.K)(e)||(e=k0.P),new Or.y(u=>{const d=(0,dT.k)(t)?t:+t-e.now();return e.schedule(AM,d,{index:0,period:o,subscriber:u})})}(D+EI).pipe(rn(w)),T,v).pipe(rn(w)).subscribe(()=>{rl.delete(i),t.run(()=>{p(),m.next(),m.complete()})})}),m.asObservable()};let Am=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),c1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),Rm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),b1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),km=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();var at=(()=>{return(t=at||(at={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",at;var t})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Qt=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function BI(t){const i=Array.from(t.querySelectorAll(Qt)).filter(e=>-1!==e.tabIndex);return[i[0],i[i.length-1]]}new class{getAllStyles(i){return window.getComputedStyle(i)}getStyle(i,e){return this.getAllStyles(i)[e]}isStaticPositioned(i){return"static"===(this.getStyle(i,"position")||"static")}offsetParent(i){let e=i.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(i,e=!0){let o,u={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(i,"position"))o=i.getBoundingClientRect(),o={top:o.top,bottom:o.bottom,left:o.left,right:o.right,height:o.height,width:o.width};else{const d=this.offsetParent(i);o=this.offset(i,!1),d!==document.documentElement&&(u=this.offset(d,!1)),u.top+=d.clientTop,u.left+=d.clientLeft}return o.top-=u.top,o.bottom-=u.top,o.left-=u.left,o.right-=u.left,e&&(o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}offset(i,e=!0){const o=i.getBoundingClientRect(),u_top=window.pageYOffset-document.documentElement.clientTop,u_left=window.pageXOffset-document.documentElement.clientLeft;let d={height:o.height||i.offsetHeight,width:o.width||i.offsetWidth,top:o.top+u_top,bottom:o.bottom+u_top,left:o.left+u_left,right:o.right+u_left};return e&&(d.height=Math.round(d.height),d.width=Math.round(d.width),d.top=Math.round(d.top),d.bottom=Math.round(d.bottom),d.left=Math.round(d.left),d.right=Math.round(d.right)),d}positionElements(i,e,o,u){const[d="top",p="center"]=o.split("-"),m=u?this.offset(i,!1):this.position(i,!1),v=this.getAllStyles(e),w=parseFloat(v.marginTop),D=parseFloat(v.marginBottom),T=parseFloat(v.marginLeft),I=parseFloat(v.marginRight);let M=0,F=0;switch(d){case"top":M=m.top-(e.offsetHeight+w+D);break;case"bottom":M=m.top+m.height;break;case"left":F=m.left-(e.offsetWidth+T+I);break;case"right":F=m.left+m.width}switch(p){case"top":M=m.top;break;case"bottom":M=m.top+m.height-e.offsetHeight;break;case"left":F=m.left;break;case"right":F=m.left+m.width-e.offsetWidth;break;case"center":"top"===d||"bottom"===d?F=m.left+m.width/2-e.offsetWidth/2:M=m.top+m.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(F)}px, ${Math.round(M)}px)`;const j=e.getBoundingClientRect(),ie=document.documentElement,de=window.innerHeight||ie.clientHeight,we=window.innerWidth||ie.clientWidth;return j.left>=0&&j.top>=0&&j.right<=we&&j.bottom<=de}},new Date(1882,10,12),new Date(2174,10,25);let H1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur,Kn]]}),t})(),G1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),Qf=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Sn))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(Sn))},token:t,providedIn:"root"}),t})();class Po{constructor(i,e,o){this.nodes=i,this.viewRef=e,this.componentRef=o}}const Jm=()=>{};let $1=(()=>{class t{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Jm}_adjustBody(e){const o=this._document.body,u=o.style.paddingRight,d=parseFloat(window.getComputedStyle(o)["padding-right"]);return o.style["padding-right"]=`${d+e}px`,()=>o.style["padding-right"]=u}_isPresent(e){const o=this._document.body.getBoundingClientRect();return window.innerWidth-(o.left+o.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const o=this._document.body;o.appendChild(e);const u=e.getBoundingClientRect().width-e.clientWidth;return o.removeChild(e),u}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(te))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(te))},token:t,providedIn:"root"}),t})(),Qm=(()=>{class t{constructor(e,o){this._el=e,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe(lr(1)).subscribe(()=>{mn(this._zone,this._el.nativeElement,(e,o)=>{o&&qt(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return mn(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,o){2&e&&(l.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),l.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),t})();class q1{close(i){}dismiss(i){}}class Y1{constructor(i,e,o,u){this._windowCmptRef=i,this._contentRef=e,this._backdropCmptRef=o,this._beforeDismiss=u,this._closed=new Gt.xQ,this._dismissed=new Gt.xQ,this._hidden=new Gt.xQ,i.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,p)=>{this._resolve=d,this._reject=p}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(rn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(rn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(o=>{!1!==o&&this._dismiss(i)},()=>{}):!1!==e&&this._dismiss(i)}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ge.of)(void 0);i.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),hf(i,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ji=(()=>{return(t=ji||(ji={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",ji;var t})();let z1=(()=>{class t{constructor(e,o,u){this._document=e,this._elRef=o,this._zone=u,this._closed$=new Gt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Gt.xQ,this.hidden=new Gt.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(lr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,o={animation:this.animation,runningTransition:"stop"},p=hf(mn(this._zone,e,()=>e.classList.remove("show"),o),mn(this._zone,this._dialogEl.nativeElement,()=>{},o));return p.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),p}_show(){const e={animation:this.animation,runningTransition:"continue"};hf(mn(this._zone,this._elRef.nativeElement,(d,p)=>{p&&qt(d),d.classList.add("show")},e),mn(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{jn(e,"keydown").pipe(rn(this._closed$),nn(u=>u.which===at.Escape)).subscribe(u=>{this.keyboard?requestAnimationFrame(()=>{u.defaultPrevented||this._zone.run(()=>this.dismiss(ji.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;jn(this._dialogEl.nativeElement,"mousedown").pipe(rn(this._closed$),(0,Un.b)(()=>o=!1),gn(()=>jn(e,"mouseup").pipe(rn(this._closed$),lr(1))),nn(({target:u})=>e===u)).subscribe(()=>{o=!0}),jn(e,"click").pipe(rn(this._closed$)).subscribe(({target:u})=>{e===u&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(ji.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const o=e.querySelector("[ngbAutofocus]"),u=BI(e)[0];(o||u||e).focus()}}_restoreFocus(){const e=this._document.body,o=this._elWithFocus;let u;u=o&&o.focus&&e.contains(o)?o:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>u.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&mn(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(te),l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,o){if(1&e&&l.Gf(hm,7),2&e){let u;l.iGM(u=l.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,o){2&e&&(l.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),l.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),l.ekj("fade",o.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Li,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,o){1&e&&(l.F$t(),l.TgZ(0,"div",0,1),l.TgZ(2,"div",2),l.Hsn(3),l.qZA(),l.qZA()),2&e&&l.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Km=(()=>{class t{constructor(e,o,u,d,p,m){this._applicationRef=e,this._injector=o,this._document=u,this._scrollBar=d,this._rendererFactory=p,this._ngZone=m,this._activeWindowCmptHasChanged=new Gt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((t,i,e,o=!1)=>{t.runOutsideAngular(()=>{const u=jn(i,"focusin").pipe(rn(e),(0,Be.U)(d=>d.target));jn(i,"keydown").pipe(rn(e),nn(d=>d.which===at.Tab),Bg(u)).subscribe(([d,p])=>{const[m,v]=BI(i);(p===m||p===i)&&d.shiftKey&&(v.focus(),d.preventDefault()),p===v&&!d.shiftKey&&(m.focus(),d.preventDefault())}),o&&jn(i,"click").pipe(rn(e),Bg(u),(0,Be.U)(d=>d[1])).subscribe(d=>d.focus())})})(this._ngZone,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}open(e,o,u,d){const p=d.container instanceof HTMLElement?d.container:Ks(d.container)?this._document.querySelector(d.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),v=this._scrollBar.compensate(),w=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!p)throw new Error(`The specified modal container "${d.container||"body"}" was not found in the DOM.`);const D=new q1,T=this._getContentRef(e,d.injector||o,u,D,d);let I=!1!==d.backdrop?this._attachBackdrop(e,p):void 0,M=this._attachWindowComponent(e,p,T),F=new Y1(M,T,I,d.beforeDismiss);return this._registerModalRef(F),this._registerWindowCmpt(M),F.result.then(v,v),F.result.then(w,w),D.close=j=>{F.close(j)},D.dismiss=j=>{F.dismiss(j)},this._applyWindowOptions(M.instance,d),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,d),I.changeDetectorRef.detectChanges()),M.changeDetectorRef.detectChanges(),F}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(o=>o.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,o){let d=e.resolveComponentFactory(Qm).create(this._injector);return this._applicationRef.attachView(d.hostView),o.appendChild(d.location.nativeElement),d}_attachWindowComponent(e,o,u){let p=e.resolveComponentFactory(z1).create(this._injector,u.nodes);return this._applicationRef.attachView(p.hostView),o.appendChild(p.location.nativeElement),p}_applyWindowOptions(e,o){this._windowAttributes.forEach(u=>{Ks(o[u])&&(e[u]=o[u])})}_applyBackdropOptions(e,o){this._backdropAttributes.forEach(u=>{Ks(o[u])&&(e[u]=o[u])})}_getContentRef(e,o,u,d,p){return u?u instanceof l.Rgc?this._createFromTemplateRef(u,d):function(t){return"string"==typeof t}(u)?this._createFromString(u):this._createFromComponent(e,o,u,d,p):new Po([])}_createFromTemplateRef(e,o){const d=e.createEmbeddedView({$implicit:o,close(p){o.close(p)},dismiss(p){o.dismiss(p)}});return this._applicationRef.attachView(d),new Po([d.rootNodes],d)}_createFromString(e){const o=this._document.createTextNode(`${e}`);return new Po([[o]])}_createFromComponent(e,o,u,d,p){const m=e.resolveComponentFactory(u),v=l.zs3.create({providers:[{provide:q1,useValue:d}],parent:o}),w=m.create(v),D=w.location.nativeElement;return p.scrollable&&D.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new Po([[D]],w.hostView,w)}_setAriaHidden(e){const o=e.parentElement;o&&e!==this._document.body&&(Array.from(o.children).forEach(u=>{u!==e&&"SCRIPT"!==u.nodeName&&(this._ariaHiddenValues.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,o)=>{e?o.setAttribute("aria-hidden",e):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const o=()=>{const u=this._modalRefs.indexOf(e);u>-1&&(this._modalRefs.splice(u,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(o,o)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const o=this._windowCmpts.indexOf(e);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(te),l.LFG($1),l.LFG(l.FYo),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(l.z2F),l.LFG(l.gxx),l.LFG(te),l.LFG($1),l.LFG(l.FYo),l.LFG(l.R0b))},token:t,providedIn:"root"}),t})(),hl=(()=>{class t{constructor(e,o,u,d){this._moduleCFR=e,this._injector=o,this._modalStack=u,this._config=d}open(e,o={}){const u=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._moduleCFR,this._injector,e,u)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(Km),l.LFG(Qf))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(l._Vd),l.LFG(l.gxx),l.LFG(Km),l.LFG(Qf))},token:t,providedIn:"root"}),t})(),nN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[hl]}),t})(),gl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),ew=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),iy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),Su=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),pN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),aw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),fs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})(),yl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();new l.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let uy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[ur]]}),t})();const SN=[Am,c1,Rm,b1,km,H1,G1,nN,gl,ew,iy,Su,pN,aw,fs,yl,uy];let fw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[SN,Am,c1,Rm,b1,km,H1,G1,nN,gl,ew,iy,Su,pN,aw,fs,yl,uy]}),t})();function Au(){return t=>t.lift(new rh)}class rh{call(i,e){return e.subscribe(new Vx(i))}}class Vx extends Yr.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let e;this.hasPrev?e=[this.prev,i]:this.hasPrev=!0,this.prev=i,e&&this.destination.next(e)}}var yi=R(9746),Ze=R(57),hs=R(2329),Mu=R(9759),A=R(4762),Tt=R(4685),Ye=R(300),Lr=function(t,i){return(Lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(e[u]=o[u])})(t,i)};function ps(t){var i="function"==typeof Symbol&&Symbol.iterator,e=i&&t[i],o=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var Re,Bx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ih=ih||{},tt=Bx||self;function oh(){}function ly(t){var i=typeof t;return"array"==(i="object"!=i?i:t?Array.isArray(t)?"array":i:"null")||"object"==i&&"number"==typeof t.length}function hr(t){var i=typeof t;return"object"==i&&null!=t||"function"==i}var Kr="closure_uid_"+(1e9*Math.random()>>>0),hw=0;function AN(t,i,e){return t.call.apply(t.bind,arguments)}function pw(t,i,e){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),t.apply(i,u)}}return function(){return t.apply(i,arguments)}}function Mn(t,i,e){return(Mn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?AN:pw).apply(null,arguments)}function Fo(t,i){var e=Array.prototype.slice.call(arguments,1);return function(){var o=e.slice();return o.push.apply(o,arguments),t.apply(this,o)}}function dn(t,i){function e(){}e.prototype=i.prototype,t.Z=i.prototype,t.prototype=new e,t.prototype.constructor=t,t.Vb=function(o,u,d){for(var p=Array(arguments.length-2),m=2;m<arguments.length;m++)p[m-2]=arguments[m];return i.prototype[u].apply(o,p)}}function gs(){this.s=this.s,this.o=this.o}var MN={};gs.prototype.s=!1,gs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Kr)&&t[Kr]||(t[Kr]=++hw)}(this);delete MN[t]}},gs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dy=Array.prototype.indexOf?function(t,i){return Array.prototype.indexOf.call(t,i,void 0)}:function(t,i){if("string"==typeof t)return"string"!=typeof i||1!=i.length?-1:t.indexOf(i,0);for(var e=0;e<t.length;e++)if(e in t&&t[e]===i)return e;return-1},sh=Array.prototype.forEach?function(t,i,e){Array.prototype.forEach.call(t,i,e)}:function(t,i,e){for(var o=t.length,u="string"==typeof t?t.split(""):t,d=0;d<o;d++)d in u&&i.call(e,u[d],d,t)};function ah(t){return Array.prototype.concat.apply([],arguments)}function uh(t){var i=t.length;if(0<i){for(var e=Array(i),o=0;o<i;o++)e[o]=t[o];return e}return[]}function Lo(t){return/^[\s\xa0]*$/.test(t)}var pr,gw=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $n(t,i){return-1!=t.indexOf(i)}function ch(t,i){return t<i?-1:t>i?1:0}e:{var fy=tt.navigator;if(fy){var vl=fy.userAgent;if(vl){pr=vl;break e}}pr=""}function hy(t,i,e){for(var o in t)i.call(e,t[o],o,t)}function lh(t){var i={};for(var e in t)i[e]=t[e];return i}var dh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xN(t,i){for(var e,o,u=1;u<arguments.length;u++){for(e in o=arguments[u])t[e]=o[e];for(var d=0;d<dh.length;d++)e=dh[d],Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}}function mw(t){return mw[" "](t),t}mw[" "]=oh;var fh,t,Ux=$n(pr,"Opera"),fo=$n(pr,"Trident")||$n(pr,"MSIE"),yw=$n(pr,"Edge"),py=yw||fo,_w=$n(pr,"Gecko")&&!($n(pr.toLowerCase(),"webkit")&&!$n(pr,"Edge"))&&!($n(pr,"Trident")||$n(pr,"MSIE"))&&!$n(pr,"Edge"),jx=$n(pr.toLowerCase(),"webkit")&&!$n(pr,"Edge");function RN(){var t=tt.document;return t?t.documentMode:void 0}e:{var qn="",gy=(t=pr,_w?/rv:([^\);]+)(\)|;)/.exec(t):yw?/Edge\/([\d\.]+)/.exec(t):fo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):jx?/WebKit\/(\S+)/.exec(t):Ux?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(gy&&(qn=gy?gy[1]:""),fo){var my=RN();if(null!=my&&my>parseFloat(qn)){fh=String(my);break e}}fh=qn}var yy={};function ON(){return i=yy,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var t=0,i=gw(String(fh)).split("."),e=gw("9").split("."),o=Math.max(i.length,e.length),u=0;0==t&&u<o;u++){var d=i[u]||"",p=e[u]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==d[0].length&&0==p[0].length)break;t=ch(0==d[1].length?0:parseInt(d[1],10),0==p[1].length?0:parseInt(p[1],10))||ch(0==d[2].length,0==p[2].length)||ch(d[2],p[2]),d=d[3],p=p[3]}while(0==t)}return 0<=t}();var i}var kN=tt.document&&fo&&(RN()||parseInt(fh,10))||void 0,PN=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var t=!1,i=Object.defineProperty({},"passive",{get:function(){t=!0}});try{tt.addEventListener("test",oh,i),tt.removeEventListener("test",oh,i)}catch(e){}return t}();function gr(t,i){this.type=t,this.g=this.target=i,this.defaultPrevented=!1}function ra(t,i){if(gr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var e=this.type=t.type,o=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=i,i=t.relatedTarget){if(_w){e:{try{mw(i.nodeName);var u=!0;break e}catch(d){}u=!1}u||(i=null)}}else"mouseover"==e?i=t.fromElement:"mouseout"==e&&(i=t.toElement);this.relatedTarget=i,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:FN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ra.Z.h.call(this)}}gr.prototype.h=function(){this.defaultPrevented=!0},dn(ra,gr);var FN={2:"touch",3:"pen",4:"mouse"};ra.prototype.h=function(){ra.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bl="closure_listenable_"+(1e6*Math.random()|0),bw=0;function vy(t,i,e,o,u){this.listener=t,this.proxy=null,this.src=i,this.type=e,this.capture=!!o,this.ia=u,this.key=++bw,this.ca=this.fa=!1}function hh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function by(t){this.src=t,this.g={},this.h=0}function wy(t,i){var e=i.type;if(e in t.g){var d,o=t.g[e],u=dy(o,i);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(hh(i),0==t.g[e].length&&(delete t.g[e],t.h--))}}function Cy(t,i,e,o){for(var u=0;u<t.length;++u){var d=t[u];if(!d.ca&&d.listener==i&&d.capture==!!e&&d.ia==o)return u}return-1}by.prototype.add=function(t,i,e,o,u){var d=t.toString();(t=this.g[d])||(t=this.g[d]=[],this.h++);var p=Cy(t,i,o,u);return-1<p?(i=t[p],e||(i.fa=!1)):((i=new vy(i,this.src,d,!!o,u)).fa=e,t.push(i)),i};var Dy="closure_lm_"+(1e6*Math.random()|0),Ey={};function ww(t,i,e,o,u){if(o&&o.once)return Dw(t,i,e,o,u);if(Array.isArray(i)){for(var d=0;d<i.length;d++)ww(t,i[d],e,o,u);return null}return e=Iy(e),t&&t[bl]?t.N(i,e,hr(o)?!!o.capture:!!o,u):Cw(t,i,e,!1,o,u)}function Cw(t,i,e,o,u,d){if(!i)throw Error("Invalid event type");var p=hr(u)?!!u.capture:!!u,m=gh(t);if(m||(t[Dy]=m=new by(t)),(e=m.add(i,e,o,p,d)).proxy)return e;if(o=function(){var i=Hx;return function t(e){return i.call(t.src,t.listener,e)}}(),e.proxy=o,o.src=t,o.listener=e,t.addEventListener)PN||(u=p),void 0===u&&(u=!1),t.addEventListener(i.toString(),o,u);else if(t.attachEvent)t.attachEvent(xu(i.toString()),o);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(o)}return e}function Dw(t,i,e,o,u){if(Array.isArray(i)){for(var d=0;d<i.length;d++)Dw(t,i[d],e,o,u);return null}return e=Iy(e),t&&t[bl]?t.O(i,e,hr(o)?!!o.capture:!!o,u):Cw(t,i,e,!0,o,u)}function Ew(t,i,e,o,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)Ew(t,i[d],e,o,u);else o=hr(o)?!!o.capture:!!o,e=Iy(e),t&&t[bl]?(t=t.i,(i=String(i).toString())in t.g&&-1<(e=Cy(d=t.g[i],e,o,u))&&(hh(d[e]),Array.prototype.splice.call(d,e,1),0==d.length&&(delete t.g[i],t.h--))):t&&(t=gh(t))&&(i=t.g[i.toString()],t=-1,i&&(t=Cy(i,e,o,u)),(e=-1<t?i[t]:null)&&ph(e))}function ph(t){if("number"!=typeof t&&t&&!t.ca){var i=t.src;if(i&&i[bl])wy(i.i,t);else{var e=t.type,o=t.proxy;i.removeEventListener?i.removeEventListener(e,o,t.capture):i.detachEvent?i.detachEvent(xu(e),o):i.addListener&&i.removeListener&&i.removeListener(o),(e=gh(i))?(wy(e,t),0==e.h&&(e.src=null,i[Dy]=null)):hh(t)}}}function xu(t){return t in Ey?Ey[t]:Ey[t]="on"+t}function Hx(t,i){if(t.ca)t=!0;else{i=new ra(i,this);var e=t.listener,o=t.ia||t.src;t.fa&&ph(t),t=e.call(o,i)}return t}function gh(t){return(t=t[Dy])instanceof by?t:null}var Ty="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iy(t){return"function"==typeof t?t:(t[Ty]||(t[Ty]=function(i){return t.handleEvent(i)}),t[Ty])}function Yn(){gs.call(this),this.i=new by(this),this.P=this,this.I=null}function Xn(t,i){var e,o=t.I;if(o)for(e=[];o;o=o.I)e.push(o);if(t=t.P,o=i.type||i,"string"==typeof i)i=new gr(i,t);else if(i instanceof gr)i.target=i.target||t;else{var u=i;xN(i=new gr(o,t),u)}if(u=!0,e)for(var d=e.length-1;0<=d;d--){var p=i.g=e[d];u=mh(p,o,!0,i)&&u}if(u=mh(p=i.g=t,o,!0,i)&&u,u=mh(p,o,!1,i)&&u,e)for(d=0;d<e.length;d++)u=mh(p=i.g=e[d],o,!1,i)&&u}function mh(t,i,e,o){if(!(i=t.i.g[String(i)]))return!0;i=i.concat();for(var u=!0,d=0;d<i.length;++d){var p=i[d];if(p&&!p.ca&&p.capture==e){var m=p.listener,v=p.ia||p.src;p.fa&&wy(t.i,p),u=!1!==m.call(v,o)&&u}}return u&&!o.defaultPrevented}dn(Yn,gs),Yn.prototype[bl]=!0,Yn.prototype.removeEventListener=function(t,i,e,o){Ew(this,t,i,e,o)},Yn.prototype.M=function(){if(Yn.Z.M.call(this),this.i){var i,t=this.i;for(i in t.g){for(var e=t.g[i],o=0;o<e.length;o++)hh(e[o]);delete t.g[i],t.h--}}this.I=null},Yn.prototype.N=function(t,i,e,o){return this.i.add(String(t),i,!1,e,o)},Yn.prototype.O=function(t,i,e,o){return this.i.add(String(t),i,!0,e,o)};var yh=tt.JSON.stringify;function LN(){var t=Tw,i=null;return t.g&&(i=t.g,t.g=t.g.next,t.g||(t.h=null),i.next=null),i}var Ny,VN=function(){function t(){this.h=this.g=null}return t.prototype.add=function(i,e){var o=BN.get();o.set(i,e),this.h?this.h.next=o:this.g=o,this.h=o},t}(),BN=new(function(){function t(i,e){this.i=i,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},t}())(function(){return new Gx},function(t){return t.reset()}),Gx=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(i,e){this.h=i,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function $x(t){tt.setTimeout(function(){throw t},0)}function Cl(t,i){Ny||function(){var t=tt.Promise.resolve(void 0);Ny=function(){t.then(jN)}}(),Sy||(Ny(),Sy=!0),Tw.add(t,i)}var Sy=!1,Tw=new VN;function jN(){for(var t;t=LN();){try{t.h.call(t.g)}catch(e){$x(e)}var i=BN;i.j(t),100>i.h&&(i.h++,t.next=i.g,i.g=t)}Sy=!1}function _h(t,i){Yn.call(this),this.h=t||1,this.g=i||tt,this.j=Mn(this.kb,this),this.l=Date.now()}function vh(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Dl(t,i,e){if("function"==typeof t)e&&(t=Mn(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Mn(t.handleEvent,t)}return 2147483647<Number(i)?-1:tt.setTimeout(t,i||0)}function Iw(t){t.g=Dl(function(){t.g=null,t.i&&(t.i=!1,Iw(t))},t.j);var i=t.h;t.h=null,t.m.apply(null,i)}dn(_h,Yn),(Re=_h.prototype).da=!1,Re.S=null,Re.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xn(this,"tick"),this.da&&(vh(this),this.start()))}},Re.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Re.M=function(){_h.Z.M.call(this),vh(this),delete this.g};var Ru=function(t){function i(e,o){var u=t.call(this)||this;return u.m=e,u.j=o,u.h=null,u.i=!1,u.g=null,u}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}Lr(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,t),i.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Iw(this)},i.prototype.M=function(){t.prototype.M.call(this),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(gs);function yn(t){gs.call(this),this.h=t,this.g={}}dn(yn,gs);var Ay=[];function _i(t,i,e,o){Array.isArray(e)||(e&&(Ay[0]=e.toString()),e=Ay);for(var u=0;u<e.length;u++){var d=ww(i,e[u],o||t.handleEvent,!1,t.h||t);if(!d)break;t.g[d.key]=d}}function bh(t){hy(t.g,function(i,e){this.g.hasOwnProperty(e)&&ph(i)},t),t.g={}}function wh(){this.g=!0}function ia(t,i,e,o){t.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(t,i){if(!t.g)return i;if(!i)return null;try{var e=JSON.parse(i);if(e)for(t=0;t<e.length;t++)if(Array.isArray(e[t])){var o=e[t];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<u.length;p++)u[p]=""}}}return yh(e)}catch(m){return i}}(t,e)+(o?" "+o:"")})}yn.prototype.M=function(){yn.Z.M.call(this),bh(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wh.prototype.Aa=function(){this.g=!1},wh.prototype.info=function(){};var oa={},My=null;function Ch(){return My=My||new Yn}function $N(t){gr.call(this,oa.Ma,t)}function El(t){var i=Ch();Xn(i,new $N(i,t))}function Aw(t,i){gr.call(this,oa.STAT_EVENT,t),this.stat=i}function _n(t){var i=Ch();Xn(i,new Aw(i,t))}function qN(t,i){gr.call(this,oa.Na,t),this.size=i}function Ou(t,i){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){t()},i)}oa.Ma="serverreachability",dn($N,gr),oa.STAT_EVENT="statevent",dn(Aw,gr),oa.Na="timingevent",dn(qN,gr);var Dh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},YN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Eh(){}function Th(){}Eh.prototype.h=null;var Sh,Tl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ih(){gr.call(this,"d")}function Nh(){gr.call(this,"c")}function Ah(){}function Il(t,i,e,o){this.l=t,this.j=i,this.m=e,this.X=o||1,this.V=new yn(this),this.P=zN,this.W=new _h(t=py?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xw}function xw(){this.i=null,this.g="",this.h=!1}dn(Ih,gr),dn(Nh,gr),dn(Ah,Eh),Ah.prototype.g=function(){return new XMLHttpRequest},Ah.prototype.i=function(){return{}},Sh=new Ah;var zN=45e3,xy={},Mh={};function sa(t,i,e){t.K=1,t.v=Nl(vi(i)),t.s=e,t.U=!0,Ry(t,null)}function Ry(t,i){t.F=Date.now(),ku(t),t.A=vi(t.v);var e=t.A,o=t.X;Array.isArray(o)||(o=[String(o)]),Gy(e.h,"t",o),t.C=0,e=t.l.H,t.h=new xw,t.g=oS(t.l,e?i:null,!t.s),0<t.O&&(t.L=new Ru(Mn(t.Ia,t,t.g),t.O)),_i(t.V,t.g,"readystatechange",t.gb),i=t.H?lh(t.H):{},t.s?(t.u||(t.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,i)):(t.u="GET",t.g.ea(t.A,t.u,null,i)),El(1),function(t,i,e,o,u,d){t.info(function(){if(t.g)if(d)for(var p="",m=d.split("&"),v=0;v<m.length;v++){var w=m[v].split("=");if(1<w.length){var D=w[0];w=w[1];var T=D.split("_");p=2<=T.length&&"type"==T[1]?p+(D+"=")+w+"&":p+(D+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+i+"\n"+e+"\n"+p})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Oy(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ky(t,i,e){for(var u,o=!0;!t.I&&t.C<e.length;){if((u=Rw(t,e))==Mh){4==i&&(t.o=4,_n(14),o=!1),ia(t.j,t.m,null,"[Incomplete Response]");break}if(u==xy){t.o=4,_n(15),ia(t.j,t.m,e,"[Invalid Chunk]"),o=!1;break}ia(t.j,t.m,u,null),Fy(t,u)}Oy(t)&&u!=Mh&&u!=xy&&(t.h.g="",t.C=0),4!=i||0!=e.length||t.h.h||(t.o=1,_n(16),o=!1),t.i=t.i&&o,o?0<e.length&&!t.aa&&(t.aa=!0,(i=t.l).g==t&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),tC(i),i.L=!0,_n(11))):(ia(t.j,t.m,e,"[Invalid Chunked Response]"),ms(t),Pu(t))}function Rw(t,i){var e=t.C,o=i.indexOf("\n",e);return-1==o?Mh:(e=Number(i.substring(e,o)),isNaN(e)?xy:(o+=1)+e>i.length?Mh:(i=i.substr(o,e),t.C=o+e,i))}function ku(t){t.Y=Date.now()+t.P,Py(t,t.P)}function Py(t,i){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ou(Mn(t.eb,t),i)}function xh(t){t.B&&(tt.clearTimeout(t.B),t.B=null)}function Pu(t){0==t.l.G||t.I||tS(t.l,t)}function ms(t){xh(t);var i=t.L;i&&"function"==typeof i.na&&i.na(),t.L=null,vh(t.W),bh(t.V),t.g&&(i=t.g,t.g=null,i.abort(),i.na())}function Fy(t,i){try{var e=t.l;if(0!=e.G&&(e.g==t||$y(e.i,t)))if(e.I=t.N,!t.J&&$y(e.i,t)&&3==e.G){try{var o=e.Ca.g.parse(i)}catch(ie){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(e.u)e.ta=u[1],0<e.ta-e.U&&37500>u[2]&&e.N&&0==e.A&&!e.v&&(e.v=Ou(Mn(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<t.F))break e;Jy(e),Gh(e)}eC(e),_n(18)}if(1>=Uw(e.i)&&e.ka){try{e.ka()}catch(ie){}e.ka=void 0}}else Bu(e,11)}else if((t.J||e.g==t)&&Jy(e),!Lo(i))for(u=e.Ca.g.parse(i),i=0;i<u.length;i++){var d=u[i];if(e.U=d[0],d=d[1],2==e.G)if("c"==d[0]){e.J=d[1],e.la=d[2];var p=d[3];null!=p&&(e.ma=p,e.h.info("VER="+e.ma));var m=d[4];null!=m&&(e.za=m,e.h.info("SVER="+e.za));var v=d[5];null!=v&&"number"==typeof v&&0<v&&(e.K=o=1.5*v,e.h.info("backChannelRequestTimeoutMs_="+o)),o=e;var w=t.g;if(w){var D=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var T=o.i;!T.g&&($n(D,"spdy")||$n(D,"quic")||$n(D,"h2"))&&(T.j=T.l,T.g=new Set,T.h&&(jw(T,T.h),T.h=null))}if(o.D){var I=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(o.sa=I,Lt(o.F,o.D,I))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-t.F,e.h.info("Handshake RTT: "+e.O+"ms"));var M=t;if((o=e).oa=iS(o,o.H?o.la:null,o.W),M.J){Vu(o.i,M);var F=M,j=o.K;j&&F.setTimeout(j),F.B&&(xh(F),ku(F)),o.g=M}else Wy(o);0<e.l.length&&Pl(e)}else"stop"!=d[0]&&"close"!=d[0]||Bu(e,7);else 3==e.G&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Bu(e,7):Hh(e):"noop"!=d[0]&&e.j&&e.j.wa(d),e.A=0)}El(4)}catch(ie){}}function Ly(t,i){if(t.forEach&&"function"==typeof t.forEach)t.forEach(i,void 0);else if(ly(t)||"string"==typeof t)sh(t,i,void 0);else{if(t.T&&"function"==typeof t.T)var e=t.T();else if(t.R&&"function"==typeof t.R)e=void 0;else if(ly(t)||"string"==typeof t){e=[];for(var o=t.length,u=0;u<o;u++)e.push(u)}else for(u in e=[],o=0,t)e[o++]=u;u=(o=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(ly(t)){for(var i=[],e=t.length,o=0;o<e;o++)i.push(t[o]);return i}for(o in i=[],e=0,t)i[e++]=t[o];return i}(t)).length;for(var d=0;d<u;d++)i.call(void 0,o[d],e&&e[d],t)}}function ho(t,i){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var o=0;o<e;o+=2)this.set(arguments[o],arguments[o+1])}else if(t)if(t instanceof ho)for(e=t.T(),o=0;o<e.length;o++)this.set(e[o],t.get(e[o]));else for(o in t)this.set(o,t[o])}function aa(t){if(t.i!=t.g.length){for(var i=0,e=0;i<t.g.length;){var o=t.g[i];ua(t.h,o)&&(t.g[e++]=o),i++}t.g.length=e}if(t.i!=t.g.length){var u={};for(e=i=0;i<t.g.length;)ua(u,o=t.g[i])||(t.g[e++]=o,u[o]=1),i++;t.g.length=e}}function ua(t,i){return Object.prototype.hasOwnProperty.call(t,i)}(Re=Il.prototype).setTimeout=function(t){this.P=t},Re.gb=function(t){t=t.target;var i=this.L;i&&3==go(t)?i.l():this.Ia(t)},Re.Ia=function(t){try{if(t==this.g)e:{var i=go(this.g),e=this.g.Da(),o=this.g.ba();if(!(3>i)&&(3!=i||py||this.g&&(this.h.h||this.g.ga()||Zw(this.g)))){this.I||4!=i||7==e||El(8==e||0>=o?3:2),xh(this);var u=this.g.ba();this.N=u;t:if(Oy(this)){var d=Zw(this.g);t="";var p=d.length,m=4==go(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ms(this),Pu(this);var v="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<p;e++)this.h.h=!0,t+=this.h.i.decode(d[e],{stream:m&&e==p-1});d.splice(0,p),this.h.g+=t,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==u,function(t,i,e,o,u,d,p){t.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+i+"\n"+e+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.X,i,u),this.i){if(this.$&&!this.J){t:{if(this.g){var w,D=this.g;if((w=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lo(w)){var T=w;break t}}T=null}if(!(u=T)){this.i=!1,this.o=3,_n(12),ms(this),Pu(this);break e}ia(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fy(this,u)}this.U?(ky(this,i,v),py&&this.i&&3==i&&(_i(this.V,this.W,"tick",this.fb),this.W.start())):(ia(this.j,this.m,v,null),Fy(this,v)),4==i&&ms(this),this.i&&!this.I&&(4==i?tS(this.l,this):(this.i=!1,ku(this)))}else 400==u&&0<v.indexOf("Unknown SID")?(this.o=3,_n(12)):(this.o=0,_n(13)),ms(this),Pu(this)}}}catch(I){}},Re.fb=function(){if(this.g){var t=go(this.g),i=this.g.ga();this.C<i.length&&(xh(this),ky(this,t,i),this.i&&4!=t&&ku(this))}},Re.cancel=function(){this.I=!0,ms(this)},Re.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,i){t.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(El(3),_n(17)),ms(this),this.o=2,Pu(this)):Py(this,this.Y-t)},(Re=ho.prototype).R=function(){aa(this);for(var t=[],i=0;i<this.g.length;i++)t.push(this.h[this.g[i]]);return t},Re.T=function(){return aa(this),this.g.concat()},Re.get=function(t,i){return ua(this.h,t)?this.h[t]:i},Re.set=function(t,i){ua(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=i},Re.forEach=function(t,i){for(var e=this.T(),o=0;o<e.length;o++){var u=e[o],d=this.get(u);t.call(i,d,u,this)}};var Rh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ca(t,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ca){this.g=void 0!==i?i:t.g,Oh(this,t.j),this.s=t.s,kh(this,t.i),Vy(this,t.m),this.l=t.l,i=t.h;var e=new Fu;e.i=i.i,i.g&&(e.g=new ho(i.g),e.h=i.h),Ph(this,e),this.o=t.o}else t&&(e=String(t).match(Rh))?(this.g=!!i,Oh(this,e[1]||"",!0),this.s=Sl(e[2]||""),kh(this,e[3]||"",!0),Vy(this,e[4]),this.l=Sl(e[5]||"",!0),Ph(this,e[6]||"",!0),this.o=Sl(e[7]||"")):(this.g=!!i,this.h=new Fu(null,this.g))}function vi(t){return new ca(t)}function Oh(t,i,e){t.j=e?Sl(i,!0):i,t.j&&(t.j=t.j.replace(/:$/,""))}function kh(t,i,e){t.i=e?Sl(i,!0):i}function Vy(t,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);t.m=i}else t.m=null}function Ph(t,i,e){i instanceof Fu?(t.h=i,function(t,i){i&&!t.j&&(Vo(t),t.i=null,t.g.forEach(function(e,o){var u=o.toLowerCase();o!=u&&(Lw(this,o),Gy(this,u,e))},t)),t.j=i}(t.h,t.g)):(e||(i=Al(i,Pw)),t.h=new Fu(i,t.g))}function Lt(t,i,e){t.h.set(i,e)}function Nl(t){return Lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Sl(t,i){return t?i?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Al(t,i,e){return"string"==typeof t?(t=encodeURI(t).replace(i,WN),e&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function WN(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ca.prototype.toString=function(){var t=[],i=this.j;i&&t.push(Al(i,Ow,!0),":");var e=this.i;return(e||"file"==i)&&(t.push("//"),(i=this.s)&&t.push(Al(i,Ow,!0),"@"),t.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&t.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&t.push("/"),t.push(Al(e,"/"==e.charAt(0)?jy:kw,!0))),(e=this.h.toString())&&t.push("?",e),(e=this.o)&&t.push("#",Al(e,Fw)),t.join("")};var Ow=/[#\/\?@]/g,kw=/[#\?:]/g,jy=/[#\?]/g,Pw=/[#\?@]/g,Fw=/#/g;function Fu(t,i){this.h=this.g=null,this.i=t||null,this.j=!!i}function Vo(t){t.g||(t.g=new ho,t.h=0,t.i&&function(t,i){if(t){t=t.split("&");for(var e=0;e<t.length;e++){var o=t[e].indexOf("="),u=null;if(0<=o){var d=t[e].substring(0,o);u=t[e].substring(o+1)}else d=t[e];i(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(t.i,function(i,e){t.add(decodeURIComponent(i.replace(/\+/g," ")),e)}))}function Lw(t,i){Vo(t),i=Lu(t,i),ua(t.g.h,i)&&(t.i=null,t.h-=t.g.get(i).length,ua((t=t.g).h,i)&&(delete t.h[i],t.i--,t.g.length>2*t.i&&aa(t)))}function Hy(t,i){return Vo(t),i=Lu(t,i),ua(t.g.h,i)}function Gy(t,i,e){Lw(t,i),0<e.length&&(t.i=null,t.g.set(Lu(t,i),uh(e)),t.h+=e.length)}function Lu(t,i){return i=String(i),t.j&&(i=i.toLowerCase()),i}(Re=Fu.prototype).add=function(t,i){Vo(this),this.i=null,t=Lu(this,t);var e=this.g.get(t);return e||this.g.set(t,e=[]),e.push(i),this.h+=1,this},Re.forEach=function(t,i){Vo(this),this.g.forEach(function(e,o){sh(e,function(u){t.call(i,u,o,this)},this)},this)},Re.T=function(){Vo(this);for(var t=this.g.R(),i=this.g.T(),e=[],o=0;o<i.length;o++)for(var u=t[o],d=0;d<u.length;d++)e.push(i[o]);return e},Re.R=function(t){Vo(this);var i=[];if("string"==typeof t)Hy(this,t)&&(i=ah(i,this.g.get(Lu(this,t))));else{t=this.g.R();for(var e=0;e<t.length;e++)i=ah(i,t[e])}return i},Re.set=function(t,i){return Vo(this),this.i=null,Hy(this,t=Lu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[i]),this.h+=1,this},Re.get=function(t,i){return t&&0<(t=this.R(t)).length?String(t[0]):i},Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],i=this.g.T(),e=0;e<i.length;e++){var o=i[e],u=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var p=u;""!==o[d]&&(p+="="+encodeURIComponent(String(o[d]))),t.push(p)}}return this.i=t.join("&")};var Bw=function(i,e){this.h=i,this.g=e};function JN(t){this.l=t||wr,t=tt.PerformanceNavigationTiming?0<(t=tt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(tt.g&&tt.g.Ea&&tt.g.Ea()&&tt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wr=10;function la(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Uw(t){return t.h?1:t.g?t.g.size:0}function $y(t,i){return t.h?t.h==i:!!t.g&&t.g.has(i)}function jw(t,i){t.g?t.g.add(i):t.h=i}function Vu(t,i){t.h&&t.h==i?t.h=null:t.g&&t.g.has(i)&&t.g.delete(i)}function Hw(t){var i,e;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var o=t.i;try{for(var u=ps(t.g.values()),d=u.next();!d.done;d=u.next())o=o.concat(d.value.D)}catch(m){i={error:m}}finally{try{d&&!d.done&&(e=u.return)&&e.call(u)}finally{if(i)throw i.error}}return o}return uh(t.i)}function Ml(){}function QN(){this.g=new Ml}function Gw(t,i,e){var o=e||"";try{Ly(t,function(u,d){var p=u;hr(u)&&(p=yh(u)),i.push(o+d+"="+encodeURIComponent(p))})}catch(u){throw i.push(o+"type="+encodeURIComponent("_badmap")),u}}function Fh(t,i,e,o,u){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,u(o)}catch(d){}}function da(t){this.l=t.$b||null,this.j=t.ib||!1}function xl(t,i){Yn.call(this),this.D=t,this.u=i,this.m=void 0,this.readyState=Lh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}JN.prototype.cancel=function(){var t,i;if(this.i=Hw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=ps(this.g.values()),o=e.next();!o.done;o=e.next())o.value.cancel()}catch(d){t={error:d}}finally{try{o&&!o.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}this.g.clear()}},Ml.prototype.stringify=function(t){return tt.JSON.stringify(t,void 0)},Ml.prototype.parse=function(t){return tt.JSON.parse(t,void 0)},dn(da,Eh),da.prototype.g=function(){return new xl(this.l,this.j)},da.prototype.i=function(t){return function(){return t}}({}),dn(xl,Yn);var Lh=0;function Rl(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function fa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vh(t)}function Vh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Re=xl.prototype).open=function(t,i){if(this.readyState!=Lh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=i,this.readyState=1,Vh(this)},Re.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(i.body=t),(this.D||tt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fa(this)),this.readyState=Lh},Re.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vh(this)),this.g&&(this.readyState=3,Vh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==tt.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rl(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Re.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var i=t.value?t.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!t.done}))&&(this.response=this.responseText+=i)}t.done?fa(this):Vh(this),3==this.readyState&&Rl(this)}},Re.Ua=function(t){this.g&&(this.response=this.responseText=t,fa(this))},Re.Ta=function(t){this.g&&(this.response=t,fa(this))},Re.ha=function(){this.g&&fa(this)},Re.setRequestHeader=function(t,i){this.v.append(t,i)},Re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Re.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],i=this.h.entries(),e=i.next();!e.done;)t.push((e=e.value)[0]+": "+e[1]),e=i.next();return t.join("\r\n")},Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var $w=tt.JSON.parse;function vn(t){Yn.call(this),this.headers=new ho,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qy,this.K=this.L=!1}dn(vn,Yn);var qy="",Bh=/^https?$/i,qw=["POST","PUT"];function Yy(t){return"content-type"==t.toLowerCase()}function Uh(t,i){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=i,t.m=5,Yw(t),Ol(t)}function Yw(t){t.D||(t.D=!0,Xn(t,"complete"),Xn(t,"error"))}function zw(t){if(t.h&&void 0!==ih&&(!t.C[1]||4!=go(t)||2!=t.ba()))if(t.v&&4==go(t))Dl(t.Fa,0,t);else if(Xn(t,"readystatechange"),4==go(t)){t.h=!1;try{var o,i=t.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(o=e)){var u;if(u=0===i){var d=String(t.H).match(Rh)[1]||null;if(!d&&tt.self&&tt.self.location){var p=tt.self.location.protocol;d=p.substr(0,p.length-1)}u=!Bh.test(d?d.toLowerCase():"")}o=u}if(o)Xn(t,"complete"),Xn(t,"success");else{t.m=6;try{var m=2<go(t)?t.g.statusText:""}catch(v){m=""}t.j=m+" ["+t.ba()+"]",Yw(t)}}finally{Ol(t)}}}function Ol(t,i){if(t.g){zy(t);var e=t.g,o=t.C[0]?oh:null;t.g=null,t.C=null,i||Xn(t,"ready");try{e.onreadystatechange=o}catch(u){}}}function zy(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(tt.clearTimeout(t.A),t.A=null)}function go(t){return t.g?t.g.readyState:0}function Zw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qy:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(i){return null}}function jh(t,i,e){e:{for(o in e){var o=!1;break e}o=!0}o||(e=function(t){var i="";return hy(t,function(e,o){i+=o,i+=":",i+=e,i+="\r\n"}),i}(e),"string"==typeof t?null!=e&&encodeURIComponent(String(e)):Lt(t,i,e))}function kl(t,i,e){return e&&e.internalChannelParams&&e.internalChannelParams[t]||i}function Jw(t){this.za=0,this.l=[],this.h=new wh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kl("baseRetryDelayMs",5e3,t),this.$a=kl("retryDelaySeedMs",1e4,t),this.Ya=kl("forwardChannelMaxRetries",2,t),this.ra=kl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new JN(t&&t.concurrentRequestLimit),this.Ca=new QN,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Hh(t){if(Zy(t),3==t.G){var i=t.V++,e=vi(t.F);Lt(e,"SID",t.J),Lt(e,"RID",i),Lt(e,"TYPE","terminate"),Fl(t,e),(i=new Il(t,t.h,i,void 0)).K=2,i.v=Nl(vi(e)),e=!1,tt.navigator&&tt.navigator.sendBeacon&&(e=tt.navigator.sendBeacon(i.v.toString(),"")),!e&&tt.Image&&((new Image).src=i.v,e=!0),e||(i.g=oS(i.l,null),i.g.ea(i.v)),i.F=Date.now(),ku(i)}rS(t)}function Gh(t){t.g&&(tC(t),t.g.cancel(),t.g=null)}function Zy(t){Gh(t),t.u&&(tt.clearTimeout(t.u),t.u=null),Jy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&tt.clearTimeout(t.m),t.m=null)}function $h(t,i){t.l.push(new Bw(t.Za++,i)),3==t.G&&Pl(t)}function Pl(t){la(t.i)||t.m||(t.m=!0,Cl(t.Ha,t),t.C=0)}function Kw(t,i){var e;e=i?i.m:t.V++;var o=vi(t.F);Lt(o,"SID",t.J),Lt(o,"RID",e),Lt(o,"AID",t.U),Fl(t,o),t.o&&t.s&&jh(o,t.o,t.s),e=new Il(t,t.h,e,t.C+1),null===t.o&&(e.H=t.s),i&&(t.l=i.D.concat(t.l)),i=Xw(t,e,1e3),e.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),jw(t.i,e),sa(e,o,i)}function Fl(t,i){t.j&&Ly({},function(e,o){Lt(i,o,e)})}function Xw(t,i,e){e=Math.min(t.l.length,e);var o=t.j?Mn(t.j.Oa,t.j,t):null;e:for(var u=t.l,d=-1;;){var p=["count="+e];-1==d?0<e?p.push("ofs="+(d=u[0].h)):d=0:p.push("ofs="+d);for(var m=!0,v=0;v<e;v++){var w=u[v].h,D=u[v].g;if(0>(w-=d))d=Math.max(0,u[v].h-100),m=!1;else try{Gw(D,p,"req"+w+"_")}catch(T){o&&o(D)}}if(m){o=p.join("&");break e}}return t=t.l.splice(0,e),i.D=t,o}function Wy(t){t.g||t.u||(t.Y=1,Cl(t.Ga,t),t.A=0)}function eC(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Ou(Mn(t.Ga,t),nS(t,t.A)),t.A++,0))}function tC(t){null!=t.B&&(tt.clearTimeout(t.B),t.B=null)}function eS(t){t.g=new Il(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var i=vi(t.oa);Lt(i,"RID","rpc"),Lt(i,"SID",t.J),Lt(i,"CI",t.N?"0":"1"),Lt(i,"AID",t.U),Fl(t,i),Lt(i,"TYPE","xmlhttp"),t.o&&t.s&&jh(i,t.o,t.s),t.K&&t.g.setTimeout(t.K);var e=t.g;t=t.la,e.K=1,e.v=Nl(vi(i)),e.s=null,e.U=!0,Ry(e,t)}function Jy(t){null!=t.v&&(tt.clearTimeout(t.v),t.v=null)}function tS(t,i){var e=null;if(t.g==i){Jy(t),tC(t),t.g=null;var o=2}else{if(!$y(t.i,i))return;e=i.D,Vu(t.i,i),o=1}if(t.I=i.N,0!=t.G)if(i.i)if(1==o){e=i.s?i.s.length:0,i=Date.now()-i.F;var u=t.C;Xn(o=Ch(),new qN(o,e,i,u)),Pl(t)}else Wy(t);else if(3==(u=i.o)||0==u&&0<t.I||!(1==o&&function(t,i){return!(Uw(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=i.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ou(Mn(t.Ha,t,i),nS(t,t.C)),t.C++,0)))}(t,i)||2==o&&eC(t)))switch(e&&0<e.length&&(i=t.i,i.i=i.i.concat(e)),u){case 1:Bu(t,5);break;case 4:Bu(t,10);break;case 3:Bu(t,6);break;default:Bu(t,2)}}function nS(t,i){var e=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(e*=2),e*i}function Bu(t,i){if(t.h.info("Error code "+i),2==i){var e=null;t.j&&(e=null);var o=Mn(t.jb,t);e||(e=new ca("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||Oh(e,"https"),Nl(e)),function(t,i){var e=new wh;if(tt.Image){var o=new Image;o.onload=Fo(Fh,e,o,"TestLoadImage: loaded",!0,i),o.onerror=Fo(Fh,e,o,"TestLoadImage: error",!1,i),o.onabort=Fo(Fh,e,o,"TestLoadImage: abort",!1,i),o.ontimeout=Fo(Fh,e,o,"TestLoadImage: timeout",!1,i),tt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=t}else i(!1)}(e.toString(),o)}else _n(2);t.G=0,t.j&&t.j.va(i),rS(t),Zy(t)}function rS(t){t.G=0,t.I=-1,t.j&&((0!=Hw(t.i).length||0!=t.l.length)&&(t.i.i.length=0,uh(t.l),t.l.length=0),t.j.ua())}function iS(t,i,e){var o=function(t){return t instanceof ca?vi(t):new ca(t,void 0)}(e);if(""!=o.i)i&&kh(o,i+"."+o.i),Vy(o,o.m);else{var u=tt.location;o=function(t,i,e,o){var u=new ca(null,void 0);return t&&Oh(u,t),i&&kh(u,i),e&&Vy(u,e),o&&(u.l=o),u}(u.protocol,i?i+"."+u.hostname:u.hostname,+u.port,e)}return t.aa&&hy(t.aa,function(d,p){Lt(o,p,d)}),e=t.sa,(i=t.D)&&e&&Lt(o,i,e),Lt(o,"VER",t.ma),Fl(t,o),o}function oS(t,i,e){if(i&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new vn(e&&t.Ba&&!t.qa?new da({ib:!0}):t.qa)).L=t.H,i}function nC(){}function Qy(){if(fo&&!(10<=Number(kN)))throw Error("Environmental error: no available transport.")}function Xr(t,i){Yn.call(this),this.g=new Jw(i),this.l=t,this.h=i&&i.messageUrlParams||null,t=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(t?t["X-WebChannel-Content-Type"]=i.messageContentType:t={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(t?t["X-WebChannel-Client-Profile"]=i.ya:t={"X-WebChannel-Client-Profile":i.ya}),this.g.P=t,(t=i&&i.httpHeadersOverwriteParam)&&!Lo(t)&&(this.g.o=t),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Lo(i)&&(this.g.D=i,null!==(t=this.h)&&i in t&&i in(t=this.h)&&delete t[i]),this.j=new Ll(this)}function sS(t){Ih.call(this);var i=t.__sm__;if(i){e:{for(var e in i){t=e;break e}t=void 0}(this.i=t)&&(t=this.i,i=null!==i&&t in i?i[t]:void 0),this.data=i}else this.data=t}function aS(){Nh.call(this),this.status=1}function Ll(t){this.g=t}(Re=vn.prototype).ea=function(t,i,e,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);i=i?i.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sh.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Sh),this.g.onreadystatechange=Mn(this.Fa,this);try{this.F=!0,this.g.open(i,String(t),!0),this.F=!1}catch(d){return void Uh(this,d)}t=e||"";var u=new ho(this.headers);o&&Ly(o,function(d,p){u.set(p,d)}),o=function(t){e:{for(var i=Yy,e=t.length,o="string"==typeof t?t.split(""):t,u=0;u<e;u++)if(u in o&&i.call(void 0,o[u],u,t)){i=u;break e}i=-1}return 0>i?null:"string"==typeof t?t.charAt(i):t[i]}(u.T()),e=tt.FormData&&t instanceof tt.FormData,!(0<=dy(qw,i))||o||e||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(d,p){this.g.setRequestHeader(p,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zy(this),0<this.B&&((this.K=function(t){return fo&&ON()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mn(this.pa,this)):this.A=Dl(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(d){Uh(this,d)}},Re.pa=function(){void 0!==ih&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xn(this,"timeout"),this.abort(8))},Re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xn(this,"complete"),Xn(this,"abort"),Ol(this))},Re.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ol(this,!0)),vn.Z.M.call(this)},Re.Fa=function(){this.s||(this.F||this.v||this.l?zw(this):this.cb())},Re.cb=function(){zw(this)},Re.ba=function(){try{return 2<go(this)?this.g.status:-1}catch(t){return-1}},Re.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},Re.Qa=function(t){if(this.g){var i=this.g.responseText;return t&&0==i.indexOf(t)&&(i=i.substring(t.length)),$w(i)}},Re.Da=function(){return this.m},Re.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Re=Jw.prototype).ma=8,Re.G=1,Re.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(i){}},Re.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var i=new Il(this,this.h,t,void 0),e=this.s;if(this.P&&(e?xN(e=lh(e),this.P):e=this.P),null===this.o&&(i.H=e),this.ja)e:{for(var o=0,u=0;u<this.l.length;u++){var d=this.l[u];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(o+=d)){o=u;break e}if(4096===o||u===this.l.length-1){o=u+1;break e}}o=1e3}else o=1e3;o=Xw(this,i,o),Lt(u=vi(this.F),"RID",t),Lt(u,"CVER",22),this.D&&Lt(u,"X-HTTP-Session-Id",this.D),Fl(this,u),this.o&&e&&jh(u,this.o,e),jw(this.i,i),this.Ra&&Lt(u,"TYPE","init"),this.ja?(Lt(u,"$req",o),Lt(u,"SID","null"),i.$=!0,sa(i,u,null)):sa(i,u,o),this.G=2}}else 3==this.G&&(t?Kw(this,t):0==this.l.length||la(this.i)||Kw(this))},Re.Ga=function(){if(this.u=null,eS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ou(Mn(this.bb,this),t)}},Re.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_n(10),Gh(this),eS(this))},Re.ab=function(){null!=this.v&&(this.v=null,Gh(this),eC(this),_n(19))},Re.jb=function(t){t?(this.h.info("Successfully pinged google.com"),_n(2)):(this.h.info("Failed to ping google.com"),_n(1))},(Re=nC.prototype).xa=function(){},Re.wa=function(){},Re.va=function(){},Re.ua=function(){},Re.Oa=function(){},Qy.prototype.g=function(t,i){return new Xr(t,i)},dn(Xr,Yn),Xr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,i=this.l,e=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Cl(Mn(t.hb,t,i))),_n(0),t.W=i,t.aa=e||{},t.N=t.X,t.F=iS(t,null,t.W),Pl(t)},Xr.prototype.close=function(){Hh(this.g)},Xr.prototype.u=function(t){if("string"==typeof t){var i={};i.__data__=t,$h(this.g,i)}else this.v?((i={}).__data__=yh(t),$h(this.g,i)):$h(this.g,t)},Xr.prototype.M=function(){this.g.j=null,delete this.j,Hh(this.g),delete this.g,Xr.Z.M.call(this)},dn(sS,Ih),dn(aS,Nh),dn(Ll,nC),Ll.prototype.xa=function(){Xn(this.g,"a")},Ll.prototype.wa=function(t){Xn(this.g,new sS(t))},Ll.prototype.va=function(t){Xn(this.g,new aS(t))},Ll.prototype.ua=function(){Xn(this.g,"b")},Qy.prototype.createWebChannel=Qy.prototype.g,Xr.prototype.send=Xr.prototype.u,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,Dh.NO_ERROR=0,Dh.TIMEOUT=8,Dh.HTTP_ERROR=6,YN.COMPLETE="complete",Th.EventType=Tl,Tl.OPEN="a",Tl.CLOSE="b",Tl.ERROR="c",Tl.MESSAGE="d",Yn.prototype.listen=Yn.prototype.N,vn.prototype.listenOnce=vn.prototype.O,vn.prototype.getLastError=vn.prototype.La,vn.prototype.getLastErrorCode=vn.prototype.Da,vn.prototype.getStatus=vn.prototype.ba,vn.prototype.getResponseJson=vn.prototype.Qa,vn.prototype.getResponseText=vn.prototype.ga,vn.prototype.send=vn.prototype.ea;var qh=Dh,iC=YN,cS=oa,oC_PROXY=10,oC_NOPROXY=11,lS=da,Vl=Th,sC=vn,bi=function(){function t(i,e){var o=this;this.previousValue=i,e&&(e.sequenceNumberHandler=function(u){return o.t(u)},this.i=function(u){return e.writeSequenceNumber(u)})}return t.prototype.t=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},t.prototype.next=function(){var i=++this.previousValue;return this.i&&this.i(i),i},t}();bi.o=-1;var re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ye=function(t){function i(e,o){var u=this;return(u=t.call(this,o)||this).code=e,u.message=o,u.name="FirebaseError",u.toString=function(){return u.name+": [code="+u.code+"]: "+u.message},u}return(0,A.ZT)(i,t),i}(Error),Hi=new Ye.Yd("@firebase/firestore");function aC(){return Hi.logLevel}function Ce(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(Hi.logLevel<=Ye.in.DEBUG){var o=i.map(Yh);Hi.debug.apply(Hi,(0,A.ev)(["Firestore (8.10.0): "+t],o))}}function on(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(Hi.logLevel<=Ye.in.ERROR){var o=i.map(Yh);Hi.error.apply(Hi,(0,A.ev)(["Firestore (8.10.0): "+t],o))}}function mo(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(Hi.logLevel<=Ye.in.WARN){var o=i.map(Yh);Hi.warn.apply(Hi,(0,A.ev)(["Firestore (8.10.0): "+t],o))}}function Yh(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Le(t){void 0===t&&(t="Unexpected state");var i="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw on(i),new Error(i)}function Je(t,i){t||Le()}function De(t,i){return t}function uC(t){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(e);else for(var o=0;o<t;o++)e[o]=Math.floor(256*Math.random());return e}var Ky=function(){function t(){}return t.u=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/i.length)*i.length,o="";o.length<20;)for(var u=uC(40),d=0;d<u.length;++d)o.length<20&&u[d]<e&&(o+=i.charAt(u[d]%i.length));return o},t}();function pt(t,i){return t<i?-1:t>i?1:0}function Bl(t,i,e){return t.length===i.length&&t.every(function(o,u){return e(o,i[u])})}function Xy(t){return t+"\0"}var er=function(){function t(i,e){if(this.seconds=i,this.nanoseconds=e,e<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(i<-62135596800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(i){return t.fromMillis(i.getTime())},t.fromMillis=function(i){var e=Math.floor(i/1e3);return new t(e,Math.floor(1e6*(i-1e3*e)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(i){return this.seconds===i.seconds?pt(this.nanoseconds,i.nanoseconds):pt(this.seconds,i.seconds)},t.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ct=function(){function t(i){this.timestamp=i}return t.fromTimestamp=function(i){return new t(i)},t.min=function(){return new t(new er(0,0))},t.prototype.compareTo=function(i){return this.timestamp._compareTo(i.timestamp)},t.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function dS(t){var i=0;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i++;return i}function Uu(t,i){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i(e,t[e])}function fS(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}var cC=function(){function t(i,e,o){void 0===e?e=0:e>i.length&&Le(),void 0===o?o=i.length-e:o>i.length-e&&Le(),this.segments=i,this.offset=e,this.len=o}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return 0===t.comparator(this,i)},t.prototype.child=function(i){var e=this.segments.slice(this.offset,this.limit());return i instanceof t?i.forEach(function(o){e.push(o)}):e.push(i),this.construct(e)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(i){return this.segments[this.offset+i]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(i){if(i.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(i){if(this.length+1!==i.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0},t.prototype.forEach=function(i){for(var e=this.offset,o=this.limit();e<o;e++)i(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(i,e){for(var o=Math.min(i.length,e.length),u=0;u<o;u++){var d=i.get(u),p=e.get(u);if(d<p)return-1;if(d>p)return 1}return i.length<e.length?-1:i.length>e.length?1:0},t}(),Et=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(i,t),i.prototype.construct=function(e,o,u){return new i(e,o,u)},i.prototype.canonicalString=function(){return this.toArray().join("/")},i.prototype.toString=function(){return this.canonicalString()},i.fromString=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];for(var u=[],d=0,p=e;d<p.length;d++){var m=p[d];if(m.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,"Invalid segment ("+m+"). Paths must not contain // in them.");u.push.apply(u,m.split("/").filter(function(v){return v.length>0}))}return new i(u)},i.emptyPath=function(){return new i([])},i}(cC),zh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gi=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(i,t),i.prototype.construct=function(e,o,u){return new i(e,o,u)},i.isValidIdentifier=function(e){return zh.test(e)},i.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},i.prototype.toString=function(){return this.canonicalString()},i.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},i.keyField=function(){return new i(["__name__"])},i.fromServerFormat=function(e){for(var o=[],u="",d=0,p=function(){if(0===u.length)throw new ye(re.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(u),u=""},m=!1;d<e.length;){var v=e[d];if("\\"===v){if(d+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var w=e[d+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);u+=w,d+=2}else"`"===v?(m=!m,d++):"."!==v||m?(u+=v,d++):(p(),d++)}if(p(),m)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new i(o)},i.emptyPath=function(){return new i([])},i}(cC),Ul=function(){function t(i){this.fields=i,i.sort(Gi.comparator)}return t.prototype.covers=function(i){for(var e=0,o=this.fields;e<o.length;e++)if(o[e].isPrefixOf(i))return!0;return!1},t.prototype.isEqual=function(i){return Bl(this.fields,i.fields,function(e,o){return e.isEqual(o)})},t}(),Vr=function(){function t(i){this.binaryString=i}return t.fromBase64String=function(i){return new t(atob(i))},t.fromUint8Array=function(i){return new t(function(e){for(var o="",u=0;u<e.length;++u)o+=String.fromCharCode(e[u]);return o}(i))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(i){for(var e=new Uint8Array(i.length),o=0;o<i.length;o++)e[o]=i.charCodeAt(o);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(i){return pt(this.binaryString,i.binaryString)},t.prototype.isEqual=function(i){return this.binaryString===i.binaryString},t}();Vr.EMPTY_BYTE_STRING=new Vr("");var e_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(Je(!!t),"string"==typeof t){var i=0,e=e_.exec(t);if(Je(!!e),e[1]){var o=e[1];o=(o+"000000000").substr(0,9),i=Number(o)}var u=new Date(t);return{seconds:Math.floor(u.getTime()/1e3),nanos:i}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function jl(t){return"string"==typeof t?Vr.fromBase64String(t):Vr.fromUint8Array(t)}function t_(t){var i,e;return"server_timestamp"===(null===(e=((null===(i=null==t?void 0:t.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function hS(t){var i=t.mapValue.fields.__previous_value__;return t_(i)?hS(i):i}function ju(t){var i=ys(t.mapValue.fields.__local_write_time__.timestampValue);return new er(i.seconds,i.nanos)}function ha(t){return null==t}function n_(t){return 0===t&&1/t==-1/0}function pS(t){return"number"==typeof t&&Number.isInteger(t)&&!n_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ue=function(){function t(i){this.path=i}return t.fromPath=function(i){return new t(Et.fromString(i))},t.fromName=function(i){return new t(Et.fromString(i).popFirst(5))},t.prototype.hasCollectionId=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},t.prototype.isEqual=function(i){return null!==i&&0===Et.comparator(this.path,i.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(i,e){return Et.comparator(i.path,e.path)},t.isDocumentKey=function(i){return i.length%2==0},t.fromSegments=function(i){return new t(new Et(i.slice()))},t}();function $i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?t_(t)?4:10:Le()}function yo(t,i){var u,e=$i(t);if(e!==$i(i))return!1;switch(e){case 0:return!0;case 1:return t.booleanValue===i.booleanValue;case 4:return ju(t).isEqual(ju(i));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;var d=ys(o.timestampValue),p=ys(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(t,i);case 5:return t.stringValue===i.stringValue;case 6:return u=i,jl(t.bytesValue).isEqual(jl(u.bytesValue));case 7:return t.referenceValue===i.referenceValue;case 8:return function(o,u){return xn(o.geoPointValue.latitude)===xn(u.geoPointValue.latitude)&&xn(o.geoPointValue.longitude)===xn(u.geoPointValue.longitude)}(t,i);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return xn(o.integerValue)===xn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){var d=xn(o.doubleValue),p=xn(u.doubleValue);return d===p?n_(d)===n_(p):isNaN(d)&&isNaN(p)}return!1}(t,i);case 9:return Bl(t.arrayValue.values||[],i.arrayValue.values||[],yo);case 10:return function(o,u){var d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(dS(d)!==dS(p))return!1;for(var m in d)if(d.hasOwnProperty(m)&&(void 0===p[m]||!yo(d[m],p[m])))return!1;return!0}(t,i);default:return Le()}}function Hl(t,i){return void 0!==(t.values||[]).find(function(e){return yo(e,i)})}function Hu(t,i){var u,d,p,m,e=$i(t),o=$i(i);if(e!==o)return pt(e,o);switch(e){case 0:return 0;case 1:return pt(t.booleanValue,i.booleanValue);case 2:return d=i,(p=xn((u=t).integerValue||u.doubleValue))<(m=xn(d.integerValue||d.doubleValue))?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1;case 3:return Zh(t.timestampValue,i.timestampValue);case 4:return Zh(ju(t),ju(i));case 5:return pt(t.stringValue,i.stringValue);case 6:return function(u,d){var p=jl(u),m=jl(d);return p.compareTo(m)}(t.bytesValue,i.bytesValue);case 7:return function(u,d){for(var p=u.split("/"),m=d.split("/"),v=0;v<p.length&&v<m.length;v++){var w=pt(p[v],m[v]);if(0!==w)return w}return pt(p.length,m.length)}(t.referenceValue,i.referenceValue);case 8:return function(u,d){var p=pt(xn(u.latitude),xn(d.latitude));return 0!==p?p:pt(xn(u.longitude),xn(d.longitude))}(t.geoPointValue,i.geoPointValue);case 9:return function(u,d){for(var p=u.values||[],m=d.values||[],v=0;v<p.length&&v<m.length;++v){var w=Hu(p[v],m[v]);if(w)return w}return pt(p.length,m.length)}(t.arrayValue,i.arrayValue);case 10:return function(u,d){var p=u.fields||{},m=Object.keys(p),v=d.fields||{},w=Object.keys(v);m.sort(),w.sort();for(var D=0;D<m.length&&D<w.length;++D){var T=pt(m[D],w[D]);if(0!==T)return T;var I=Hu(p[m[D]],v[w[D]]);if(0!==I)return I}return pt(m.length,w.length)}(t.mapValue,i.mapValue);default:throw Le()}}function Zh(t,i){if("string"==typeof t&&"string"==typeof i&&t.length===i.length)return pt(t,i);var e=ys(t),o=ys(i),u=pt(e.seconds,o.seconds);return 0!==u?u:pt(e.nanos,o.nanos)}function r_(t){return Cr(t)}function Cr(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(u=ys(t.timestampValue)).seconds+","+u.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?jl(t.bytesValue).toBase64():"referenceValue"in t?Ue.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(i=t.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in t?function(o){for(var u="[",d=!0,p=0,m=o.values||[];p<m.length;p++)d?d=!1:u+=",",u+=Cr(m[p]);return u+"]"}(t.arrayValue):"mapValue"in t?function(o){for(var u="{",d=!0,p=0,m=Object.keys(o.fields||{}).sort();p<m.length;p++){var v=m[p];d?d=!1:u+=",",u+=v+":"+Cr(o.fields[v])}return u+"}"}(t.mapValue):Le();var u,i}function Wh(t,i){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+i.path.canonicalString()}}function Gl(t){return!!t&&"integerValue"in t}function i_(t){return!!t&&"arrayValue"in t}function lC(t){return!!t&&"nullValue"in t}function Jh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $l(t){return!!t&&"mapValue"in t}function Gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var i={mapValue:{fields:{}}};return Uu(t.mapValue.fields,function(u,d){return i.mapValue.fields[u]=Gu(d)}),i}if(t.arrayValue){for(var e={arrayValue:{values:[]}},o=0;o<(t.arrayValue.values||[]).length;++o)e.arrayValue.values[o]=Gu(t.arrayValue.values[o]);return e}return Object.assign({},t)}var ei=function(){function t(i){this.value=i}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(i){if(i.isEmpty())return this.value;for(var e=this.value,o=0;o<i.length-1;++o)if(!$l(e=(e.mapValue.fields||{})[i.get(o)]))return null;return(e=(e.mapValue.fields||{})[i.lastSegment()])||null},t.prototype.set=function(i,e){this.getFieldsMap(i.popLast())[i.lastSegment()]=Gu(e)},t.prototype.setAll=function(i){var e=this,o=Gi.emptyPath(),u={},d=[];i.forEach(function(m,v){if(!o.isImmediateParentOf(v)){var w=e.getFieldsMap(o);e.applyChanges(w,u,d),u={},d=[],o=v.popLast()}m?u[v.lastSegment()]=Gu(m):d.push(v.lastSegment())});var p=this.getFieldsMap(o);this.applyChanges(p,u,d)},t.prototype.delete=function(i){var e=this.field(i.popLast());$l(e)&&e.mapValue.fields&&delete e.mapValue.fields[i.lastSegment()]},t.prototype.isEqual=function(i){return yo(this.value,i.value)},t.prototype.getFieldsMap=function(i){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var o=0;o<i.length;++o){var u=e.mapValue.fields[i.get(o)];$l(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},e.mapValue.fields[i.get(o)]=u),e=u}return e.mapValue.fields},t.prototype.applyChanges=function(i,e,o){Uu(e,function(m,v){return i[m]=v});for(var u=0,d=o;u<d.length;u++)delete i[d[u]]},t.prototype.clone=function(){return new t(Gu(this.value))},t}();function o_(t){var i=[];return Uu(t.fields,function(e,o){var u=new Gi([e]);if($l(o)){var d=o_(o.mapValue).fields;if(0===d.length)i.push(u);else for(var p=0,m=d;p<m.length;p++)i.push(u.child(m[p]))}else i.push(u)}),new Ul(i)}var zn=function(){function t(i,e,o,u,d){this.key=i,this.documentType=e,this.version=o,this.data=u,this.documentState=d}return t.newInvalidDocument=function(i){return new t(i,0,ct.min(),ei.empty(),0)},t.newFoundDocument=function(i,e,o){return new t(i,1,e,o,0)},t.newNoDocument=function(i,e){return new t(i,2,e,ei.empty(),0)},t.newUnknownDocument=function(i,e){return new t(i,3,e,ei.empty(),2)},t.prototype.convertToFoundDocument=function(i,e){return this.version=i,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(i){return this.version=i,this.documentType=2,this.data=ei.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(i){return this.version=i,this.documentType=3,this.data=ei.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(i){return i instanceof t&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),gS=function(t,i,e,o,u,d,p){void 0===i&&(i=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===d&&(d=null),void 0===p&&(p=null),this.path=t,this.collectionGroup=i,this.orderBy=e,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.h=null};function dC(t,i,e,o,u,d,p){return void 0===i&&(i=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===d&&(d=null),void 0===p&&(p=null),new gS(t,i,e,o,u,d,p)}function pa(t){var i=De(t);if(null===i.h){var e=i.path.canonicalString();null!==i.collectionGroup&&(e+="|cg:"+i.collectionGroup),e+="|f:",e+=i.filters.map(function(o){return(u=o).field.canonicalString()+u.op.toString()+r_(u.value);var u}).join(","),e+="|ob:",e+=i.orderBy.map(function(o){return(u=o).field.canonicalString()+u.dir;var u}).join(","),ha(i.limit)||(e+="|l:",e+=i.limit),i.startAt&&(e+="|lb:",e+=s_(i.startAt)),i.endAt&&(e+="|ub:",e+=s_(i.endAt)),i.h=e}return i.h}function ql(t,i){if(t.limit!==i.limit||t.orderBy.length!==i.orderBy.length)return!1;for(var e=0;e<t.orderBy.length;e++)if(!fC(t.orderBy[e],i.orderBy[e]))return!1;if(t.filters.length!==i.filters.length)return!1;for(var o=0;o<t.filters.length;o++)if((u=t.filters[o]).op!==(d=i.filters[o]).op||!u.field.isEqual(d.field)||!yo(u.value,d.value))return!1;var u,d;return t.collectionGroup===i.collectionGroup&&!!t.path.isEqual(i.path)&&!!pC(t.startAt,i.startAt)&&pC(t.endAt,i.endAt)}function Yl(t){return Ue.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Dr=function(t){function i(e,o,u){var d=this;return(d=t.call(this)||this).field=e,d.op=o,d.value=u,d}return(0,A.ZT)(i,t),i.create=function(e,o,u){return e.isKeyField()?"in"===o||"not-in"===o?this.l(e,o,u):new mS(e,o,u):"array-contains"===o?new vS(e,u):"in"===o?new Yx(e,u):"not-in"===o?new bS(e,u):"array-contains-any"===o?new wS(e,u):new i(e,o,u)},i.l=function(e,o,u){return"in"===o?new qi(e,u):new yS(e,u)},i.prototype.matches=function(e){var o=e.data.field(this.field);return"!="===this.op?null!==o&&this.m(Hu(o,this.value)):null!==o&&$i(this.value)===$i(o)&&this.m(Hu(o,this.value))},i.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Le()}},i.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),mS=function(t){function i(e,o,u){var d=this;return(d=t.call(this,e,o,u)||this).key=Ue.fromName(u.referenceValue),d}return(0,A.ZT)(i,t),i.prototype.matches=function(e){var o=Ue.comparator(e.key,this.key);return this.m(o)},i}(Dr),qi=function(t){function i(e,o){var u=this;return(u=t.call(this,e,"in",o)||this).keys=_S(0,o),u}return(0,A.ZT)(i,t),i.prototype.matches=function(e){return this.keys.some(function(o){return o.isEqual(e.key)})},i}(Dr),yS=function(t){function i(e,o){var u=this;return(u=t.call(this,e,"not-in",o)||this).keys=_S(0,o),u}return(0,A.ZT)(i,t),i.prototype.matches=function(e){return!this.keys.some(function(o){return o.isEqual(e.key)})},i}(Dr);function _S(t,i){var e;return((null===(e=i.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(o){return Ue.fromName(o.referenceValue)})}var vS=function(t){function i(e,o){return t.call(this,e,"array-contains",o)||this}return(0,A.ZT)(i,t),i.prototype.matches=function(e){var o=e.data.field(this.field);return i_(o)&&Hl(o.arrayValue,this.value)},i}(Dr),Yx=function(t){function i(e,o){return t.call(this,e,"in",o)||this}return(0,A.ZT)(i,t),i.prototype.matches=function(e){var o=e.data.field(this.field);return null!==o&&Hl(this.value.arrayValue,o)},i}(Dr),bS=function(t){function i(e,o){return t.call(this,e,"not-in",o)||this}return(0,A.ZT)(i,t),i.prototype.matches=function(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=e.data.field(this.field);return null!==o&&!Hl(this.value.arrayValue,o)},i}(Dr),wS=function(t){function i(e,o){return t.call(this,e,"array-contains-any",o)||this}return(0,A.ZT)(i,t),i.prototype.matches=function(e){var o=this,u=e.data.field(this.field);return!(!i_(u)||!u.arrayValue.values)&&u.arrayValue.values.some(function(d){return Hl(o.value.arrayValue,d)})},i}(Dr),zl=function(t,i){this.position=t,this.before=i};function s_(t){return(t.before?"b":"a")+":"+t.position.map(function(i){return r_(i)}).join(",")}var $u=function(t,i){void 0===i&&(i="asc"),this.field=t,this.dir=i};function fC(t,i){return t.dir===i.dir&&t.field.isEqual(i.field)}function hC(t,i,e){for(var o=0,u=0;u<t.position.length;u++){var d=i[u],p=t.position[u];if(o=d.field.isKeyField()?Ue.comparator(Ue.fromName(p.referenceValue),e.key):Hu(p,e.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return t.before?o<=0:o<0}function pC(t,i){if(null===t)return null===i;if(null===i||t.before!==i.before||t.position.length!==i.position.length)return!1;for(var e=0;e<t.position.length;e++)if(!yo(t.position[e],i.position[e]))return!1;return!0}var _o=function(t,i,e,o,u,d,p,m){void 0===i&&(i=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===d&&(d="F"),void 0===p&&(p=null),void 0===m&&(m=null),this.path=t,this.collectionGroup=i,this.explicitOrderBy=e,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=m,this.p=null,this.T=null};function gC(t,i,e,o,u,d,p,m){return new _o(t,i,e,o,u,d,p,m)}function Zl(t){return new _o(t)}function Wl(t){return!ha(t.limit)&&"F"===t.limitType}function Jl(t){return!ha(t.limit)&&"L"===t.limitType}function a_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function u_(t){for(var i=0,e=t.filters;i<e.length;i++){var o=e[i];if(o.g())return o.field}return null}function Qh(t){return null!==t.collectionGroup}function vo(t){var i=De(t);if(null===i.p){i.p=[];var e=u_(i),o=a_(i);if(null!==e&&null===o)e.isKeyField()||i.p.push(new $u(e)),i.p.push(new $u(Gi.keyField(),"asc"));else{for(var u=!1,d=0,p=i.explicitOrderBy;d<p.length;d++){var m=p[d];i.p.push(m),m.field.isKeyField()&&(u=!0)}if(!u){var v=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.p.push(new $u(Gi.keyField(),v))}}}return i.p}function Br(t){var i=De(t);if(!i.T)if("F"===i.limitType)i.T=dC(i.path,i.collectionGroup,vo(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var e=[],o=0,u=vo(i);o<u.length;o++){var d=u[o];e.push(new $u(d.field,"desc"===d.dir?"asc":"desc"))}var m=i.endAt?new zl(i.endAt.position,!i.endAt.before):null,v=i.startAt?new zl(i.startAt.position,!i.startAt.before):null;i.T=dC(i.path,i.collectionGroup,e,i.filters,i.limit,m,v)}return i.T}function c_(t,i,e){return new _o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),i,e,t.startAt,t.endAt)}function Ql(t,i){return ql(Br(t),Br(i))&&t.limitType===i.limitType}function mC(t){return pa(Br(t))+"|lt:"+t.limitType}function yC(t){return"Query(target="+(e=(i=Br(t)).path.canonicalString(),null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=", filters: ["+i.filters.map(function(o){return(u=o).field.canonicalString()+" "+u.op+" "+r_(u.value);var u}).join(", ")+"]"),ha(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=", orderBy: ["+i.orderBy.map(function(o){return(u=o).field.canonicalString()+" ("+u.dir+")";var u}).join(", ")+"]"),i.startAt&&(e+=", startAt: "+s_(i.startAt)),i.endAt&&(e+=", endAt: "+s_(i.endAt)),"Target("+e+"); limitType=")+t.limitType+")";var i,e}function Kh(t,i){return i.isFoundDocument()&&(u=(o=i).key.path,null!==(e=t).collectionGroup?o.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(u):Ue.isDocumentKey(e.path)?e.path.isEqual(u):e.path.isImmediateParentOf(u))&&function(e,o){for(var u=0,d=e.explicitOrderBy;u<d.length;u++){var p=d[u];if(!p.field.isKeyField()&&null===o.data.field(p.field))return!1}return!0}(t,i)&&function(e,o){for(var u=0,d=e.filters;u<d.length;u++)if(!d[u].matches(o))return!1;return!0}(t,i)&&function(e,o){return!(e.startAt&&!hC(e.startAt,vo(e),o)||e.endAt&&hC(e.endAt,vo(e),o))}(t,i);var e,o,u}function CS(t){return function(i,e){for(var o=!1,u=0,d=vo(t);u<d.length;u++){var p=d[u],m=_C(p,i,e);if(0!==m)return m;o=o||p.field.isKeyField()}return 0}}function _C(t,i,e){var u,p,m,v,o=t.field.isKeyField()?Ue.comparator(i.key,e.key):(p=e,m=i.data.field(u=t.field),v=p.data.field(u),null!==m&&null!==v?Hu(m,v):Le());switch(t.dir){case"asc":return o;case"desc":return-1*o;default:return Le()}}function l_(t,i){if(t.I){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:n_(i)?"-0":i}}function vC(t){return{integerValue:""+t}}function bC(t,i){return pS(i)?vC(i):l_(t,i)}var Xh=function(){this._=void 0};function DS(t,i,e){return t instanceof Kl?(d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=e).seconds,nanos:o.nanoseconds}}}},(u=i)&&(d.fields.__previous_value__=u),{mapValue:d}):t instanceof ga?ep(t,i):t instanceof Yt?TS(t,i):function(o,u){var d=ES(o,u),p=d_(d)+d_(o.A);return Gl(d)&&Gl(o.A)?vC(p):l_(o.R,p)}(t,i);var o,u,d}function wC(t,i,e){return t instanceof ga?ep(t,i):t instanceof Yt?TS(t,i):e}function ES(t,i){return t instanceof ma?Gl(e=i)||(o=e)&&"doubleValue"in o?i:{integerValue:0}:null;var o,e}var Kl=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(i,t),i}(Xh),ga=function(t){function i(e){var o=this;return(o=t.call(this)||this).elements=e,o}return(0,A.ZT)(i,t),i}(Xh);function ep(t,i){for(var e=CC(i),o=function(p){e.some(function(m){return yo(m,p)})||e.push(p)},u=0,d=t.elements;u<d.length;u++)o(d[u]);return{arrayValue:{values:e}}}var Yt=function(t){function i(e){var o=this;return(o=t.call(this)||this).elements=e,o}return(0,A.ZT)(i,t),i}(Xh);function TS(t,i){for(var e=CC(i),o=function(p){e=e.filter(function(m){return!yo(m,p)})},u=0,d=t.elements;u<d.length;u++)o(d[u]);return{arrayValue:{values:e}}}var ma=function(t){function i(e,o){var u=this;return(u=t.call(this)||this).R=e,u.A=o,u}return(0,A.ZT)(i,t),i}(Xh);function d_(t){return xn(t.integerValue||t.doubleValue)}function CC(t){return i_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var _s=function(t,i){this.field=t,this.transform=i},IS=function(t,i){this.version=t,this.transformResults=i},mr=function(){function t(i,e){this.updateTime=i,this.exists=e}return t.none=function(){return new t},t.exists=function(i){return new t(void 0,i)},t.updateTime=function(i){return new t(i)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},t}();function Xl(t,i){return void 0!==t.updateTime?i.isFoundDocument()&&i.version.isEqual(t.updateTime):void 0===t.exists||t.exists===i.isFoundDocument()}var bo=function(){};function DC(t,i,e){var o,u,d,p,m;t instanceof nd?(u=i,d=e,p=(o=t).value.clone(),m=Rn(o.fieldTransforms,u,d.transformResults),p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()):t instanceof wo?function(o,u,d){if(Xl(o.precondition,u)){var p=Rn(o.fieldTransforms,u,d.transformResults),m=u.data;m.setAll(h_(o)),m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}else u.convertToUnknownDocument(d.version)}(t,i,e):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,i,e)}function ed(t,i,e){var u;t instanceof nd?function(o,u,d){if(Xl(o.precondition,u)){var p=o.value.clone(),m=NS(o.fieldTransforms,d,u);p.setAll(m),u.convertToFoundDocument(td(u),p).setHasLocalMutations()}}(t,i,e):t instanceof wo?function(o,u,d){if(Xl(o.precondition,u)){var p=NS(o.fieldTransforms,d,u),m=u.data;m.setAll(h_(o)),m.setAll(p),u.convertToFoundDocument(td(u),m).setHasLocalMutations()}}(t,i,e):Xl(t.precondition,u=i)&&u.convertToNoDocument(ct.min())}function f_(t,i){for(var e=null,o=0,u=t.fieldTransforms;o<u.length;o++){var d=u[o],p=i.data.field(d.field),m=ES(d.transform,p||null);null!=m&&(null==e&&(e=ei.empty()),e.set(d.field,m))}return e||null}function EC(t,i){return t.type===i.type&&!!t.key.isEqual(i.key)&&!!t.precondition.isEqual(i.precondition)&&(o=i.fieldTransforms,!!(void 0===(e=t.fieldTransforms)&&void 0===o||e&&o&&Bl(e,o,function(u,d){return(p=u).field.isEqual((m=d).field)&&(w=m.transform,(v=p.transform)instanceof ga&&w instanceof ga||v instanceof Yt&&w instanceof Yt?Bl(v.elements,w.elements,yo):v instanceof ma&&w instanceof ma?yo(v.A,w.A):v instanceof Kl&&w instanceof Kl);var p,m,v,w})))&&(0===t.type?t.value.isEqual(i.value):1!==t.type||t.data.isEqual(i.data)&&t.fieldMask.isEqual(i.fieldMask));var e,o}function td(t){return t.isFoundDocument()?t.version:ct.min()}var nd=function(t){function i(e,o,u,d){void 0===d&&(d=[]);var p=this;return(p=t.call(this)||this).key=e,p.value=o,p.precondition=u,p.fieldTransforms=d,p.type=0,p}return(0,A.ZT)(i,t),i}(bo),wo=function(t){function i(e,o,u,d,p){void 0===p&&(p=[]);var m=this;return(m=t.call(this)||this).key=e,m.data=o,m.fieldMask=u,m.precondition=d,m.fieldTransforms=p,m.type=1,m}return(0,A.ZT)(i,t),i}(bo);function h_(t){var i=new Map;return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var o=t.data.field(e);i.set(e,o)}}),i}function Rn(t,i,e){var o=new Map;Je(t.length===e.length);for(var u=0;u<e.length;u++){var d=t[u],p=d.transform,m=i.data.field(d.field);o.set(d.field,wC(p,m,e[u]))}return o}function NS(t,i,e){for(var o=new Map,u=0,d=t;u<d.length;u++){var p=d[u],m=p.transform,v=e.data.field(p.field);o.set(p.field,DS(m,v,i))}return o}var bn,bt,tp=function(t){function i(e,o){var u=this;return(u=t.call(this)||this).key=e,u.precondition=o,u.type=2,u.fieldTransforms=[],u}return(0,A.ZT)(i,t),i}(bo),qu=function(t){function i(e,o){var u=this;return(u=t.call(this)||this).key=e,u.precondition=o,u.type=3,u.fieldTransforms=[],u}return(0,A.ZT)(i,t),i}(bo),SS=function(t){this.count=t};function AS(t){switch(t){case re.OK:return Le();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Le()}}function MS(t){if(void 0===t)return on("GRPC error has no .code"),re.UNKNOWN;switch(t){case bn.OK:return re.OK;case bn.CANCELLED:return re.CANCELLED;case bn.UNKNOWN:return re.UNKNOWN;case bn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case bn.INTERNAL:return re.INTERNAL;case bn.UNAVAILABLE:return re.UNAVAILABLE;case bn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case bn.NOT_FOUND:return re.NOT_FOUND;case bn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case bn.ABORTED:return re.ABORTED;case bn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case bn.DATA_LOSS:return re.DATA_LOSS;default:return Le()}}(bt=bn||(bn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";var Er=function(){function t(i,e){this.comparator=i,this.root=e||vs.EMPTY}return t.prototype.insert=function(i,e){return new t(this.comparator,this.root.insert(i,e,this.comparator).copy(null,null,vs.BLACK,null,null))},t.prototype.remove=function(i){return new t(this.comparator,this.root.remove(i,this.comparator).copy(null,null,vs.BLACK,null,null))},t.prototype.get=function(i){for(var e=this.root;!e.isEmpty();){var o=this.comparator(i,e.key);if(0===o)return e.value;o<0?e=e.left:o>0&&(e=e.right)}return null},t.prototype.indexOf=function(i){for(var e=0,o=this.root;!o.isEmpty();){var u=this.comparator(i,o.key);if(0===u)return e+o.left.size;u<0?o=o.left:(e+=o.left.size+1,o=o.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(i){return this.root.inorderTraversal(i)},t.prototype.forEach=function(i){this.inorderTraversal(function(e,o){return i(e,o),!1})},t.prototype.toString=function(){var i=[];return this.inorderTraversal(function(e,o){return i.push(e+":"+o),!1}),"{"+i.join(", ")+"}"},t.prototype.reverseTraversal=function(i){return this.root.reverseTraversal(i)},t.prototype.getIterator=function(){return new np(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(i){return new np(this.root,i,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new np(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(i){return new np(this.root,i,this.comparator,!0)},t}(),np=function(){function t(i,e,o,u){this.isReverse=u,this.nodeStack=[];for(var d=1;!i.isEmpty();)if(d=e?o(i.key,e):1,u&&(d*=-1),d<0)i=this.isReverse?i.left:i.right;else{if(0===d){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}return t.prototype.getNext=function(){var i=this.nodeStack.pop(),e={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}},t}(),vs=function(){function t(i,e,o,u,d){this.key=i,this.value=e,this.color=null!=o?o:t.RED,this.left=null!=u?u:t.EMPTY,this.right=null!=d?d:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(i,e,o,u,d){return new t(null!=i?i:this.key,null!=e?e:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=d?d:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)},t.prototype.reverseTraversal=function(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(i,e,o){var u=this,d=o(i,u.key);return(u=d<0?u.copy(null,null,null,u.left.insert(i,e,o),null):0===d?u.copy(null,e,null,null,null):u.copy(null,null,null,null,u.right.insert(i,e,o))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),(i=i.copy(null,null,null,i.left.removeMin(),null)).fixUp()},t.prototype.remove=function(i,e){var o,u=this;if(e(i,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(i,e),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===e(i,u.key)){if(u.right.isEmpty())return t.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(i,e))}return u.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i},t.prototype.moveRedLeft=function(){var i=this.colorFlip();return i.right.left.isRed()&&(i=(i=(i=i.copy(null,null,null,null,i.right.rotateRight())).rotateLeft()).colorFlip()),i},t.prototype.moveRedRight=function(){var i=this.colorFlip();return i.left.left.isRed()&&(i=(i=i.rotateRight()).colorFlip()),i},t.prototype.rotateLeft=function(){var i=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},t.prototype.rotateRight=function(){var i=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},t.prototype.colorFlip=function(){var i=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,e)},t.prototype.checkMaxDepth=function(){var i=this.check();return Math.pow(2,i)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();var i=this.left.check();if(i!==this.right.check())throw Le();return i+(this.isRed()?0:1)},t}();vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1,vs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Le()},enumerable:!1,configurable:!0}),t.prototype.copy=function(i,e,o,u,d){return this},t.prototype.insert=function(i,e,o){return new vs(i,e)},t.prototype.remove=function(i,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(i){return!1},t.prototype.reverseTraversal=function(i){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var On=function(){function t(i){this.comparator=i,this.data=new Er(this.comparator)}return t.prototype.has=function(i){return null!==this.data.get(i)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(i){return this.data.indexOf(i)},t.prototype.forEach=function(i){this.data.inorderTraversal(function(e,o){return i(e),!1})},t.prototype.forEachInRange=function(i,e){for(var o=this.data.getIteratorFrom(i[0]);o.hasNext();){var u=o.getNext();if(this.comparator(u.key,i[1])>=0)return;e(u.key)}},t.prototype.forEachWhile=function(i,e){var o;for(o=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();o.hasNext();)if(!i(o.getNext().key))return},t.prototype.firstAfterOrEqual=function(i){var e=this.data.getIteratorFrom(i);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new TC(this.data.getIterator())},t.prototype.getIteratorFrom=function(i){return new TC(this.data.getIteratorFrom(i))},t.prototype.add=function(i){return this.copy(this.data.remove(i).insert(i,!0))},t.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(i){var e=this;return e.size<i.size&&(e=i,i=this),i.forEach(function(o){e=e.add(o)}),e},t.prototype.isEqual=function(i){if(!(i instanceof t)||this.size!==i.size)return!1;for(var e=this.data.getIterator(),o=i.data.getIterator();e.hasNext();){var u=e.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0},t.prototype.toArray=function(){var i=[];return this.forEach(function(e){i.push(e)}),i},t.prototype.toString=function(){var i=[];return this.forEach(function(e){return i.push(e)}),"SortedSet("+i.toString()+")"},t.prototype.copy=function(i){var e=new t(this.comparator);return e.data=i,e},t}(),TC=function(){function t(i){this.iter=i}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),xS=new Er(Ue.comparator);function Yi(){return xS}var RS=new Er(Ue.comparator);function p_(){return RS}var OS=new Er(Ue.comparator);function kS(){return OS}var zx=new On(Ue.comparator);function St(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var e=zx,o=0,u=t;o<u.length;o++){var d=u[o];e=e.add(d)}return e}var PS=new On(pt);function rp(){return PS}var g_=function(){function t(i,e,o,u,d){this.snapshotVersion=i,this.targetChanges=e,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}return t.createSynthesizedRemoteEventForCurrentChange=function(i,e){var o=new Map;return o.set(i,m_.createSynthesizedTargetChangeForCurrentChange(i,e)),new t(ct.min(),o,rp(),Yi(),St())},t}(),m_=function(){function t(i,e,o,u,d){this.resumeToken=i,this.current=e,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}return t.createSynthesizedTargetChangeForCurrentChange=function(i,e){return new t(Vr.EMPTY_BYTE_STRING,e,St(),St(),St())},t}(),Ur=function(t,i,e,o){this.v=t,this.removedTargetIds=i,this.key=e,this.P=o},IC=function(t,i){this.targetId=t,this.V=i},NC=function(t,i,e,o){void 0===e&&(e=Vr.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=t,this.targetIds=i,this.resumeToken=e,this.cause=o},SC=function(){function t(){this.S=0,this.D=AC(),this.C=Vr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(i){i.approximateByteSize()>0&&(this.k=!0,this.C=i)},t.prototype.M=function(){var i=St(),e=St(),o=St();return this.D.forEach(function(u,d){switch(d){case 0:i=i.add(u);break;case 2:e=e.add(u);break;case 1:o=o.add(u);break;default:Le()}}),new m_(this.C,this.N,i,e,o)},t.prototype.L=function(){this.k=!1,this.D=AC()},t.prototype.B=function(i,e){this.k=!0,this.D=this.D.insert(i,e)},t.prototype.q=function(i){this.k=!0,this.D=this.D.remove(i)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),FS=function(){function t(i){this.W=i,this.G=new Map,this.H=Yi(),this.J=LS(),this.Y=new On(pt)}return t.prototype.X=function(i){for(var e=0,o=i.v;e<o.length;e++){var u=o[e];i.P&&i.P.isFoundDocument()?this.Z(u,i.P):this.tt(u,i.key,i.P)}for(var d=0,p=i.removedTargetIds;d<p.length;d++)this.tt(u=p[d],i.key,i.P)},t.prototype.et=function(i){var e=this;this.forEachTarget(i,function(o){var u=e.nt(o);switch(i.state){case 0:e.st(o)&&u.O(i.resumeToken);break;case 1:u.K(),u.F||u.L(),u.O(i.resumeToken);break;case 2:u.K(),u.F||e.removeTarget(o);break;case 3:e.st(o)&&(u.j(),u.O(i.resumeToken));break;case 4:e.st(o)&&(e.it(o),u.O(i.resumeToken));break;default:Le()}})},t.prototype.forEachTarget=function(i,e){var o=this;i.targetIds.length>0?i.targetIds.forEach(e):this.G.forEach(function(u,d){o.st(d)&&e(d)})},t.prototype.rt=function(i){var e=i.targetId,o=i.V.count,u=this.ot(e);if(u){var d=u.target;if(Yl(d))if(0===o){var p=new Ue(d.path);this.tt(e,p,zn.newNoDocument(p,ct.min()))}else Je(1===o);else this.ct(e)!==o&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(i){var e=this,o=new Map;this.G.forEach(function(p,m){var v=e.ot(m);if(v){if(p.current&&Yl(v.target)){var w=new Ue(v.target.path);null!==e.H.get(w)||e.at(m,w)||e.tt(m,w,zn.newNoDocument(w,i))}p.$&&(o.set(m,p.M()),p.L())}});var u=St();this.J.forEach(function(p,m){var v=!0;m.forEachWhile(function(w){var D=e.ot(w);return!D||2===D.purpose||(v=!1,!1)}),v&&(u=u.add(p))});var d=new g_(i,o,this.Y,this.H,u);return this.H=Yi(),this.J=LS(),this.Y=new On(pt),d},t.prototype.Z=function(i,e){if(this.st(i)){var o=this.at(i,e.key)?2:0;this.nt(i).B(e.key,o),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(i))}},t.prototype.tt=function(i,e,o){if(this.st(i)){var u=this.nt(i);this.at(i,e)?u.B(e,1):u.q(e),this.J=this.J.insert(e,this.ht(e).delete(i)),o&&(this.H=this.H.insert(e,o))}},t.prototype.removeTarget=function(i){this.G.delete(i)},t.prototype.ct=function(i){var e=this.nt(i).M();return this.W.getRemoteKeysForTarget(i).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(i){this.nt(i).U()},t.prototype.nt=function(i){var e=this.G.get(i);return e||(e=new SC,this.G.set(i,e)),e},t.prototype.ht=function(i){var e=this.J.get(i);return e||(e=new On(pt),this.J=this.J.insert(i,e)),e},t.prototype.st=function(i){var e=null!==this.ot(i);return e||Ce("WatchChangeAggregator","Detected inactive target",i),e},t.prototype.ot=function(i){var e=this.G.get(i);return e&&e.F?null:this.W.lt(i)},t.prototype.it=function(i){var e=this;this.G.set(i,new SC),this.W.getRemoteKeysForTarget(i).forEach(function(o){e.tt(i,o,null)})},t.prototype.at=function(i,e){return this.W.getRemoteKeysForTarget(i).has(e)},t}();function LS(){return new Er(Ue.comparator)}function AC(){return new Er(Ue.comparator)}var VS={asc:"ASCENDING",desc:"DESCENDING"},BS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rd=function(t,i){this.databaseId=t,this.I=i};function Yu(t,i){return t.I?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function US(t,i){return t.I?i.toBase64():i.toUint8Array()}function jS(t,i){return Yu(t,i.toTimestamp())}function tr(t){return Je(!!t),ct.fromTimestamp((e=ys(t),new er(e.seconds,e.nanos)));var e}function MC(t,i){return(e=t,new Et(["projects",e.projectId,"databases",e.database])).child("documents").child(i).canonicalString();var e}function HS(t){var i=Et.fromString(t);return Je(VC(i)),i}function ya(t,i){return MC(t.databaseId,i.path)}function Co(t,i){var e=HS(i);if(e.get(1)!==t.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new Ue(RC(e))}function y_(t,i){return MC(t.databaseId,i)}function xC(t){var i=HS(t);return 4===i.length?Et.emptyPath():RC(i)}function ip(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RC(t){return Je(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function OC(t,i,e){return{name:ya(t,i),fields:e.value.mapValue.fields}}function kC(t,i,e){var o=Co(t,i.name),u=tr(i.updateTime),d=new ei({mapValue:{fields:i.fields}}),p=zn.newFoundDocument(o,u,d);return e&&p.setHasCommittedMutations(),e?p.setHasCommittedMutations():p}function jr(t,i){var e,u;if(i instanceof nd)e={update:OC(t,i.key,i.value)};else if(i instanceof tp)e={delete:ya(t,i.key)};else if(i instanceof wo)e={update:OC(t,i.key,i.data),updateMask:$S(i.fieldMask)};else{if(!(i instanceof qu))return Le();e={verify:ya(t,i.key)}}return i.fieldTransforms.length>0&&(e.updateTransforms=i.fieldTransforms.map(function(o){return function(u,d){var p=d.transform;if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ga)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yt)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ma)return{fieldPath:d.field.canonicalString(),increment:p.A};throw Le()}(0,o)})),i.precondition.isNone||(e.currentDocument=void 0!==(u=i.precondition).updateTime?{updateTime:jS(t,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Le()),e}function GS(t,i){var w,e=i.currentDocument?void 0!==(w=i.currentDocument).updateTime?mr.updateTime(tr(w.updateTime)):void 0!==w.exists?mr.exists(w.exists):mr.none():mr.none(),o=i.updateTransforms?i.updateTransforms.map(function(w){return function(D,T){var I=null;"setToServerValue"in T?(Je("REQUEST_TIME"===T.setToServerValue),I=new Kl):"appendMissingElements"in T?I=new ga(T.appendMissingElements.values||[]):"removeAllFromArray"in T?I=new Yt(T.removeAllFromArray.values||[]):"increment"in T?I=new ma(D,T.increment):Le();var j=Gi.fromServerFormat(T.fieldPath);return new _s(j,I)}(t,w)}):[];if(i.update){var u=Co(t,i.update.name),d=new ei({mapValue:{fields:i.update.fields}});if(i.updateMask){var p=function(w){return new Ul((w.fieldPaths||[]).map(function(T){return Gi.fromServerFormat(T)}))}(i.updateMask);return new wo(u,d,p,e,o)}return new nd(u,d,e,o)}if(i.delete){var m=Co(t,i.delete);return new tp(m,e)}if(i.verify){var v=Co(t,i.verify);return new qu(v,e)}return Le()}function __(t,i){return{documents:[y_(t,i.path)]}}function PC(t,i){var e={structuredQuery:{}},o=i.path;null!==i.collectionGroup?(e.parent=y_(t,o),e.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(e.parent=y_(t,o.popLast()),e.structuredQuery.from=[{collectionId:o.lastSegment()}]);var u=function(m){if(0!==m.length){var v=m.map(function(w){return function(D){if("=="===D.op){if(Jh(D.value))return{unaryFilter:{field:Bo(D.field),op:"IS_NAN"}};if(lC(D.value))return{unaryFilter:{field:Bo(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(Jh(D.value))return{unaryFilter:{field:Bo(D.field),op:"IS_NOT_NAN"}};if(lC(D.value))return{unaryFilter:{field:Bo(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(D.field),op:D_(D.op),value:D.value}}}(w)});return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}}(i.filters);u&&(e.structuredQuery.where=u);var d=function(m){if(0!==m.length)return m.map(function(v){return{field:Bo((w=v).field),direction:C_(w.dir)};var w})}(i.orderBy);d&&(e.structuredQuery.orderBy=d);var v,p=(v=i.limit,t.I||ha(v)?v:{value:v});return null!==p&&(e.structuredQuery.limit=p),i.startAt&&(e.structuredQuery.startAt=w_(i.startAt)),i.endAt&&(e.structuredQuery.endAt=w_(i.endAt)),e}function v_(t){var i=xC(t.parent),e=t.structuredQuery,o=e.from?e.from.length:0,u=null;if(o>0){Je(1===o);var d=e.from[0];d.allDescendants?u=d.collectionId:i=i.child(d.collectionId)}var p=[];e.where&&(p=b_(e.where));var m=[];e.orderBy&&(m=e.orderBy.map(function(T){return new $u(Uo((I=T).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));var T,I,v=null;e.limit&&(v=ha(I="object"==typeof(T=e.limit)?T.value:T)?null:I);var w=null;e.startAt&&(w=op(e.startAt));var D=null;return e.endAt&&(D=op(e.endAt)),gC(i,u,m,p,v,"F",w,D)}function b_(t){return t?void 0!==t.unaryFilter?[LC(t)]:void 0!==t.fieldFilter?[FC(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(i){return b_(i)}).reduce(function(i,e){return i.concat(e)}):Le():[]}function w_(t){return{before:t.before,values:t.position}}function op(t){return new zl(t.values||[],!!t.before)}function C_(t){return VS[t]}function D_(t){return BS[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return Gi.fromServerFormat(t.fieldPath)}function FC(t){return Dr.create(Uo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Le()}}(t.fieldFilter.op),t.fieldFilter.value)}function LC(t){switch(t.unaryFilter.op){case"IS_NAN":var i=Uo(t.unaryFilter.field);return Dr.create(i,"==",{doubleValue:NaN});case"IS_NULL":var e=Uo(t.unaryFilter.field);return Dr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=Uo(t.unaryFilter.field);return Dr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var u=Uo(t.unaryFilter.field);return Dr.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Le()}}function $S(t){var i=[];return t.fields.forEach(function(e){return i.push(e.canonicalString())}),{fieldPaths:i}}function VC(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function wi(t){for(var i="",e=0;e<t.length;e++)i.length>0&&(i=BC(i)),i=qS(t.get(e),i);return BC(i)}function qS(t,i){for(var e=i,o=t.length,u=0;u<o;u++){var d=t.charAt(u);switch(d){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=d}}return e}function BC(t){return t+"\x01\x01"}function jo(t){var i=t.length;if(Je(i>=2),2===i)return Je("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Et.emptyPath();for(var e=i-2,o=[],u="",d=0;d<i;){var p=t.indexOf("\x01",d);switch((p<0||p>e)&&Le(),t.charAt(p+1)){case"\x01":var m=t.substring(d,p),v=void 0;0===u.length?v=m:(v=u+=m,u=""),o.push(v);break;case"\x10":u+=t.substring(d,p),u+="\0";break;case"\x11":u+=t.substring(d,p+1);break;default:Le()}d=p+2}return new Et(o)}var E_=function(t,i){this.seconds=t,this.nanoseconds=i},ti=function(t,i,e){this.ownerId=t,this.allowTabSynchronization=i,this.leaseTimestampMs=e};ti.store="owner",ti.key="owner";var sn=function(t,i,e){this.userId=t,this.lastAcknowledgedBatchId=i,this.lastStreamToken=e};sn.store="mutationQueues",sn.keyPath="userId";var At=function(t,i,e,o,u){this.userId=t,this.batchId=i,this.localWriteTimeMs=e,this.baseMutations=o,this.mutations=u};At.store="mutations",At.keyPath="batchId",At.userMutationsIndex="userMutationsIndex",At.userMutationsKeyPath=["userId","batchId"];var kn=function(){function t(){}return t.prefixForUser=function(i){return[i]},t.prefixForPath=function(i,e){return[i,wi(e)]},t.key=function(i,e,o){return[i,wi(e),o]},t}();kn.store="documentMutations",kn.PLACEHOLDER=new kn;var UC=function(t,i){this.path=t,this.readTime=i},sp=function(t,i){this.path=t,this.version=i},zt=function(t,i,e,o,u,d){this.unknownDocument=t,this.noDocument=i,this.document=e,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=d};zt.store="remoteDocuments",zt.readTimeIndex="readTimeIndex",zt.readTimeIndexPath="readTime",zt.collectionReadTimeIndex="collectionReadTimeIndex",zt.collectionReadTimeIndexPath=["parentPath","readTime"];var zi=function(t){this.byteSize=t};zi.store="remoteDocumentGlobal",zi.key="remoteDocumentGlobalKey";var nr=function(t,i,e,o,u,d,p){this.targetId=t,this.canonicalId=i,this.readTime=e,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=d,this.query=p};nr.store="targets",nr.keyPath="targetId",nr.queryTargetsIndexName="queryTargetsIndex",nr.queryTargetsKeyPath=["canonicalId","targetId"];var rr=function(t,i,e){this.targetId=t,this.path=i,this.sequenceNumber=e};rr.store="targetDocuments",rr.keyPath=["targetId","path"],rr.documentTargetsIndex="documentTargetsIndex",rr.documentTargetsKeyPath=["path","targetId"];var ni=function(t,i,e,o){this.highestTargetId=t,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=e,this.targetCount=o};ni.key="targetGlobalKey",ni.store="targetGlobal";var _a=function(t,i){this.collectionId=t,this.parent=i};_a.store="collectionParents",_a.keyPath=["collectionId","parent"];var Ho=function(t,i,e,o){this.clientId=t,this.updateTimeMs=i,this.networkEnabled=e,this.inForeground=o};Ho.store="clientMetadata",Ho.keyPath="clientId";var va=function(t,i,e){this.bundleId=t,this.createTime=i,this.version=e};va.store="bundles",va.keyPath="bundleId";var zu=function(t,i,e){this.name=t,this.readTime=i,this.bundledQuery=e};zu.store="namedQueries",zu.keyPath="name";var YS=(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],[sn.store,At.store,kn.store,zt.store,nr.store,ti.store,ni.store,rr.store]),[Ho.store])),[zi.store])),[_a.store])),[va.store,zu.store]),jC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Go=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(i){this.onCommittedListeners.push(i)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(i){return i()})},t}(),wn=function(){var t=this;this.promise=new Promise(function(i,e){t.resolve=i,t.reject=e})},be=function(){function t(i){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(function(o){e.isDone=!0,e.result=o,e.nextCallback&&e.nextCallback(o)},function(o){e.isDone=!0,e.error=o,e.catchCallback&&e.catchCallback(o)})}return t.prototype.catch=function(i){return this.next(void 0,i)},t.prototype.next=function(i,e){var o=this;return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(i,this.result):new t(function(u,d){o.nextCallback=function(p){o.wrapSuccess(i,p).next(u,d)},o.catchCallback=function(p){o.wrapFailure(e,p).next(u,d)}})},t.prototype.toPromise=function(){var i=this;return new Promise(function(e,o){i.next(e,o)})},t.prototype.wrapUserFunction=function(i){try{var e=i();return e instanceof t?e:t.resolve(e)}catch(o){return t.reject(o)}},t.prototype.wrapSuccess=function(i,e){return i?this.wrapUserFunction(function(){return i(e)}):t.resolve(e)},t.prototype.wrapFailure=function(i,e){return i?this.wrapUserFunction(function(){return i(e)}):t.reject(e)},t.resolve=function(i){return new t(function(e,o){e(i)})},t.reject=function(i){return new t(function(e,o){o(i)})},t.waitFor=function(i){return new t(function(e,o){var u=0,d=0,p=!1;i.forEach(function(m){++u,m.next(function(){++d,p&&d===u&&e()},function(v){return o(v)})}),p=!0,d===u&&e()})},t.or=function(i){for(var e=t.resolve(!1),o=function(p){e=e.next(function(m){return m?t.resolve(m):p()})},u=0,d=i;u<d.length;u++)o(d[u]);return e},t.forEach=function(i,e){var o=this,u=[];return i.forEach(function(d,p){u.push(e.call(o,d,p))}),this.waitFor(u)},t}(),HC=function(){function t(i,e){var o=this;this.action=i,this.transaction=e,this.aborted=!1,this.ft=new wn,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){e.error?o.ft.reject(new ba(i,e.error)):o.ft.resolve()},this.transaction.onerror=function(u){var d=T_(u.target.error);o.ft.reject(new ba(i,d))}}return t.open=function(i,e,o,u){try{return new t(e,i.transaction(u,o))}catch(d){throw new ba(e,d)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(i){i&&this.ft.reject(i),this.aborted||(Ce("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(i){var e=this.transaction.objectStore(i);return new GC(e)},t}(),Zu=function(){function t(i,e,o){this.name=i,this.version=e,this.wt=o,12.2===t._t((0,Tt.z$)())&&on("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(i){return Ce("SimpleDb","Removing database:",i),bs(window.indexedDB.deleteDatabase(i)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var i=(0,Tt.z$)(),e=t._t(i),o=0<e&&e<10,u=t.Et(i),d=0<u&&u<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||o||d)},t.gt=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Tt)},t.It=function(i,e){return i.store(e)},t._t=function(i){var e=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(o)},t.Et=function(i){var e=i.match(/Android ([\d.]+)/i),o=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(o)},t.prototype.At=function(i){return(0,A.mG)(this,void 0,void 0,function(){var e,o=this;return(0,A.Jh)(this,function(u){switch(u.label){case 0:return this.db?[3,2]:(Ce("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(d,p){var m=indexedDB.open(o.name,o.version);m.onsuccess=function(v){d(v.target.result)},m.onblocked=function(){p(new ba(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=function(v){var w=v.target.error;p("VersionError"===w.name?new ye(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ba(i,w))},m.onupgradeneeded=function(v){Ce("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',v.oldVersion),o.wt.Rt(v.target.result,m.transaction,v.oldVersion,o.version).next(function(){Ce("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:e.db=u.sent(),u.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(d){return o.bt(d)}),this.db)]}})})},t.prototype.vt=function(i){this.bt=i,this.db&&(this.db.onversionchange=function(e){return i(e)})},t.prototype.runTransaction=function(i,e,o,u){return(0,A.mG)(this,void 0,void 0,function(){var d,p,m,v,w;return(0,A.Jh)(this,function(D){switch(D.label){case 0:d="readonly"===e,p=0,m=function(){var T,I,M,F,j;return(0,A.Jh)(this,function(ie){switch(ie.label){case 0:++p,ie.label=1;case 1:return ie.trys.push([1,4,,5]),[4,v.At(i)];case 2:return v.db=ie.sent(),T=HC.open(v.db,i,d?"readonly":"readwrite",o),I=u(T).catch(function(de){return T.abort(de),be.reject(de)}).toPromise(),M={},I.catch(function(){}),[4,T.dt];case 3:return[2,(M.value=(ie.sent(),I),M)];case 4:return Ce("SimpleDb","Transaction failed with error:",(F=ie.sent()).message,"Retrying:",j="FirebaseError"!==F.name&&p<3),v.close(),j?[3,5]:[2,{value:Promise.reject(F)}];case 5:return[2]}})},v=this,D.label=1;case 1:return[5,m()];case 2:if("object"==typeof(w=D.sent()))return[2,w.value];D.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),zS=function(){function t(i){this.Pt=i,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(i){this.Pt=i},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(i){this.St=i},t.prototype.delete=function(){return bs(this.Pt.delete())},t}(),ba=function(t){function i(e,o){var u=this;return(u=t.call(this,re.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+o)||this).name="IndexedDbTransactionError",u}return(0,A.ZT)(i,t),i}(ye);function wa(t){return"IndexedDbTransactionError"===t.name}var GC=function(){function t(i){this.store=i}return t.prototype.put=function(i,e){var o;return void 0!==e?(Ce("SimpleDb","PUT",this.store.name,i,e),o=this.store.put(e,i)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",i),o=this.store.put(i)),bs(o)},t.prototype.add=function(i){return Ce("SimpleDb","ADD",this.store.name,i,i),bs(this.store.add(i))},t.prototype.get=function(i){var e=this;return bs(this.store.get(i)).next(function(o){return void 0===o&&(o=null),Ce("SimpleDb","GET",e.store.name,i,o),o})},t.prototype.delete=function(i){return Ce("SimpleDb","DELETE",this.store.name,i),bs(this.store.delete(i))},t.prototype.count=function(){return Ce("SimpleDb","COUNT",this.store.name),bs(this.store.count())},t.prototype.Nt=function(i,e){var o=this.cursor(this.options(i,e)),u=[];return this.xt(o,function(d,p){u.push(p)}).next(function(){return u})},t.prototype.kt=function(i,e){Ce("SimpleDb","DELETE ALL",this.store.name);var o=this.options(i,e);o.Ft=!1;var u=this.cursor(o);return this.xt(u,function(d,p,m){return m.delete()})},t.prototype.$t=function(i,e){var o;e?o=i:(o={},e=i);var u=this.cursor(o);return this.xt(u,e)},t.prototype.Ot=function(i){var e=this.cursor({});return new be(function(o,u){e.onerror=function(d){var p=T_(d.target.error);u(p)},e.onsuccess=function(d){var p=d.target.result;p?i(p.primaryKey,p.value).next(function(m){m?p.continue():o()}):o()}})},t.prototype.xt=function(i,e){var o=[];return new be(function(u,d){i.onerror=function(p){d(p.target.error)},i.onsuccess=function(p){var m=p.target.result;if(m){var v=new zS(m),w=e(m.primaryKey,m.value,v);if(w instanceof be){var D=w.catch(function(T){return v.done(),be.reject(T)});o.push(D)}v.isDone?u():null===v.Dt?m.continue():m.continue(v.Dt)}else u()}}).next(function(){return be.waitFor(o)})},t.prototype.options=function(i,e){var o;return void 0!==i&&("string"==typeof i?o=i:e=i),{index:o,range:e}},t.prototype.cursor=function(i){var e="next";if(i.reverse&&(e="prev"),i.index){var o=this.store.index(i.index);return i.Ft?o.openKeyCursor(i.range,e):o.openCursor(i.range,e)}return this.store.openCursor(i.range,e)},t}();function bs(t){return new be(function(i,e){t.onsuccess=function(o){i(o.target.result)},t.onerror=function(o){var u=T_(o.target.error);e(u)}})}var $C=!1;function T_(t){var i=Zu._t((0,Tt.z$)());if(i>=12.2&&i<13){var e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){var o=new ye("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $C||($C=!0,setTimeout(function(){throw o},0)),o}}return t}var qC=function(t){function i(e,o){var u=this;return(u=t.call(this)||this).Mt=e,u.currentSequenceNumber=o,u}return(0,A.ZT)(i,t),i}(Go);function an(t,i){var e=De(t);return Zu.It(e.Mt,i)}var Ca=function(){function t(i,e,o,u){this.batchId=i,this.localWriteTime=e,this.baseMutations=o,this.mutations=u}return t.prototype.applyToRemoteDocument=function(i,e){for(var o=e.mutationResults,u=0;u<this.mutations.length;u++){var d=this.mutations[u];d.key.isEqual(i.key)&&DC(d,i,o[u])}},t.prototype.applyToLocalView=function(i){for(var e=0,o=this.baseMutations;e<o.length;e++)(p=o[e]).key.isEqual(i.key)&&ed(p,i,this.localWriteTime);for(var u=0,d=this.mutations;u<d.length;u++){var p;(p=d[u]).key.isEqual(i.key)&&ed(p,i,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(i){var e=this;this.mutations.forEach(function(o){var u=i.get(o.key),d=u;e.applyToLocalView(d),u.isValidDocument()||d.convertToNoDocument(ct.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(i,e){return i.add(e.key)},St())},t.prototype.isEqual=function(i){return this.batchId===i.batchId&&Bl(this.mutations,i.mutations,function(e,o){return EC(e,o)})&&Bl(this.baseMutations,i.baseMutations,function(e,o){return EC(e,o)})},t}(),Wu=function(){function t(i,e,o,u){this.batch=i,this.commitVersion=e,this.mutationResults=o,this.docVersions=u}return t.from=function(i,e,o){Je(i.mutations.length===o.length);for(var u=kS(),d=i.mutations,p=0;p<d.length;p++)u=u.insert(d[p].key,o[p].version);return new t(i,e,o,u)},t}(),Da=function(){function t(i,e,o,u,d,p,m){void 0===d&&(d=ct.min()),void 0===p&&(p=ct.min()),void 0===m&&(m=Vr.EMPTY_BYTE_STRING),this.target=i,this.targetId=e,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=m}return t.prototype.withSequenceNumber=function(i){return new t(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(i,e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,i)},t.prototype.withLastLimboFreeSnapshotVersion=function(i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)},t}(),Ea=function(t){this.Lt=t};function I_(t,i){if(i.document)return kC(t.Lt,i.document,!!i.hasCommittedMutations);if(i.noDocument){var e=Ue.fromSegments(i.noDocument.path),o=Ia(i.noDocument.readTime),u=zn.newNoDocument(e,o);return i.hasCommittedMutations?u.setHasCommittedMutations():u}if(i.unknownDocument){var d=Ue.fromSegments(i.unknownDocument.path);return o=Ia(i.unknownDocument.version),zn.newUnknownDocument(d,o)}return Le()}function YC(t,i,e){var T,I,o=N_(e),u=i.key.path.popLast().toArray();if(i.isFoundDocument()){var d={name:ya(T=t.Lt,(I=i).key),fields:I.data.value.mapValue.fields,updateTime:Yu(T,I.version.toTimestamp())},p=i.hasCommittedMutations;return new zt(null,null,d,p,o,u)}if(i.isNoDocument()){var m=i.key.path.toArray(),v=Ta(i.version);return p=i.hasCommittedMutations,new zt(null,new UC(m,v),null,p,o,u)}if(i.isUnknownDocument()){var w=i.key.path.toArray(),D=Ta(i.version);return new zt(new sp(w,D),null,null,!0,o,u)}return Le()}function N_(t){var i=t.toTimestamp();return[i.seconds,i.nanoseconds]}function S_(t){var i=new er(t[0],t[1]);return ct.fromTimestamp(i)}function Ta(t){var i=t.toTimestamp();return new E_(i.seconds,i.nanoseconds)}function Ia(t){var i=new er(t.seconds,t.nanoseconds);return ct.fromTimestamp(i)}function Na(t,i){for(var e=(i.baseMutations||[]).map(function(v){return GS(t.Lt,v)}),o=0;o<i.mutations.length-1;++o)o+1<i.mutations.length&&void 0!==i.mutations[o+1].transform&&(i.mutations[o].updateTransforms=i.mutations[o+1].transform.fieldTransforms,i.mutations.splice(o+1,1),++o);var p=i.mutations.map(function(v){return GS(t.Lt,v)}),m=er.fromMillis(i.localWriteTimeMs);return new Ca(i.batchId,m,e,p)}function Sa(t){var i,e,o=Ia(t.readTime),u=void 0!==t.lastLimboFreeSnapshotVersion?Ia(t.lastLimboFreeSnapshotVersion):ct.min();return void 0!==t.query.documents?(Je(1===(e=t.query).documents.length),i=Br(Zl(xC(e.documents[0])))):i=Br(v_(t.query)),new Da(i,t.targetId,0,t.lastListenSequenceNumber,o,u,Vr.fromBase64String(t.resumeToken))}function zC(t,i){var e,o=Ta(i.snapshotVersion),u=Ta(i.lastLimboFreeSnapshotVersion);e=Yl(i.target)?__(t.Lt,i.target):PC(t.Lt,i.target);var d=i.resumeToken.toBase64();return new nr(i.targetId,pa(i.target),o,d,i.sequenceNumber,u,e)}function A_(t){var i=v_({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?c_(i,i.limit,"L"):i}var ZC=function(){function t(){}return t.prototype.getBundleMetadata=function(i,e){return ws(i).get(e).next(function(o){if(o)return{id:(u=o).bundleId,createTime:Ia(u.createTime),version:u.version};var u})},t.prototype.saveBundleMetadata=function(i,e){return ws(i).put({bundleId:(o=e).id,createTime:Ta(tr(o.createTime)),version:o.version});var o},t.prototype.getNamedQuery=function(i,e){return ap(i).get(e).next(function(o){if(o)return{name:(u=o).name,query:A_(u.bundledQuery),readTime:Ia(u.readTime)};var u})},t.prototype.saveNamedQuery=function(i,e){return ap(i).put({name:(o=e).name,readTime:Ta(tr(o.readTime)),bundledQuery:o.bundledQuery});var o},t}();function ws(t){return an(t,va.store)}function ap(t){return an(t,zu.store)}var ZS=function(){function t(){this.Bt=new M_}return t.prototype.addToCollectionParentIndex=function(i,e){return this.Bt.add(e),be.resolve()},t.prototype.getCollectionParents=function(i,e){return be.resolve(this.Bt.getEntries(e))},t}(),M_=function(){function t(){this.index={}}return t.prototype.add=function(i){var e=i.lastSegment(),o=i.popLast(),u=this.index[e]||new On(Et.comparator),d=!u.has(o);return this.index[e]=u.add(o),d},t.prototype.has=function(i){var e=i.lastSegment(),o=i.popLast(),u=this.index[e];return u&&u.has(o)},t.prototype.getEntries=function(i){return(this.index[i]||new On(Et.comparator)).toArray()},t}(),Zx=function(){function t(){this.qt=new M_}return t.prototype.addToCollectionParentIndex=function(i,e){var o=this;if(!this.qt.has(e)){var u=e.lastSegment(),d=e.popLast();i.addOnCommittedListener(function(){o.qt.add(e)});var p={collectionId:u,parent:wi(d)};return WS(i).put(p)}return be.resolve()},t.prototype.getCollectionParents=function(i,e){var o=[],u=IDBKeyRange.bound([e,""],[Xy(e),""],!1,!0);return WS(i).Nt(u).next(function(d){for(var p=0,m=d;p<m.length;p++){var v=m[p];if(v.collectionId!==e)break;o.push(jo(v.parent))}return o})},t}();function WS(t){return an(t,_a.store)}var JS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$o=function(){function t(i,e,o){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=o}return t.withCacheSize=function(i){return new t(i,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function WC(t,i,e){var o=t.store(At.store),u=t.store(kn.store),d=[],p=IDBKeyRange.only(e.batchId),m=0,v=o.$t({range:p},function(F,j,ie){return m++,ie.delete()});d.push(v.next(function(){Je(1===m)}));for(var w=[],D=0,T=e.mutations;D<T.length;D++){var I=T[D],M=kn.key(i,I.key.path,e.batchId);d.push(u.delete(M)),w.push(I.key)}return be.waitFor(d).next(function(){return w})}function up(t){if(!t)return 0;var i;if(t.document)i=t.document;else if(t.unknownDocument)i=t.unknownDocument;else{if(!t.noDocument)throw Le();i=t.noDocument}return JSON.stringify(i).length}$o.DEFAULT_COLLECTION_PERCENTILE=10,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$o.DEFAULT=new $o(41943040,$o.DEFAULT_COLLECTION_PERCENTILE,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$o.DISABLED=new $o(-1,0,0);var Wx=function(){function t(i,e,o,u){this.userId=i,this.R=e,this.Ut=o,this.referenceDelegate=u,this.Kt={}}return t.Qt=function(i,e,o,u){return Je(""!==i.uid),new t(i.isAuthenticated()?i.uid:"",e,o,u)},t.prototype.checkEmpty=function(i){var e=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Aa(i).$t({index:At.userMutationsIndex,range:o},function(u,d,p){e=!1,p.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(i,e,o,u){var d=this,p=id(i),m=Aa(i);return m.add({}).next(function(v){Je("number"==typeof v);for(var w=new Ca(v,e,o,u),D=function(de,we,Ee){var ze=Ee.baseMutations.map(function(wt){return jr(de.Lt,wt)}),Oe=Ee.mutations.map(function(wt){return jr(de.Lt,wt)});return new At(we,Ee.batchId,Ee.localWriteTime.toMillis(),ze,Oe)}(d.R,d.userId,w),T=[],I=new On(function(de,we){return pt(de.canonicalString(),we.canonicalString())}),M=0,F=u;M<F.length;M++){var j=F[M],ie=kn.key(d.userId,j.key.path,v);I=I.add(j.key.path.popLast()),T.push(m.put(D)),T.push(p.put(ie,kn.PLACEHOLDER))}return I.forEach(function(de){T.push(d.Ut.addToCollectionParentIndex(i,de))}),i.addOnCommittedListener(function(){d.Kt[v]=w.keys()}),be.waitFor(T).next(function(){return w})})},t.prototype.lookupMutationBatch=function(i,e){var o=this;return Aa(i).get(e).next(function(u){return u?(Je(u.userId===o.userId),Na(o.R,u)):null})},t.prototype.jt=function(i,e){var o=this;return this.Kt[e]?be.resolve(this.Kt[e]):this.lookupMutationBatch(i,e).next(function(u){if(u){var d=u.keys();return o.Kt[e]=d,d}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(i,e){var o=this,u=e+1,d=IDBKeyRange.lowerBound([this.userId,u]),p=null;return Aa(i).$t({index:At.userMutationsIndex,range:d},function(m,v,w){v.userId===o.userId&&(Je(v.batchId>=u),p=Na(o.R,v)),w.done()}).next(function(){return p})},t.prototype.getHighestUnacknowledgedBatchId=function(i){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return Aa(i).$t({index:At.userMutationsIndex,range:e,reverse:!0},function(u,d,p){o=d.batchId,p.done()}).next(function(){return o})},t.prototype.getAllMutationBatches=function(i){var e=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Aa(i).Nt(At.userMutationsIndex,o).next(function(u){return u.map(function(d){return Na(e.R,d)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,e){var o=this,u=kn.prefixForPath(this.userId,e.path),d=IDBKeyRange.lowerBound(u),p=[];return id(i).$t({range:d},function(m,v,w){var D=m[0],I=m[2],M=jo(m[1]);if(D===o.userId&&e.path.isEqual(M))return Aa(i).get(I).next(function(F){if(!F)throw Le();Je(F.userId===o.userId),p.push(Na(o.R,F))});w.done()}).next(function(){return p})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,e){var o=this,u=new On(pt),d=[];return e.forEach(function(p){var m=kn.prefixForPath(o.userId,p.path),v=IDBKeyRange.lowerBound(m),w=id(i).$t({range:v},function(D,T,I){var M=D[0],j=D[2],ie=jo(D[1]);M===o.userId&&p.path.isEqual(ie)?u=u.add(j):I.done()});d.push(w)}),be.waitFor(d).next(function(){return o.Wt(i,u)})},t.prototype.getAllMutationBatchesAffectingQuery=function(i,e){var o=this,u=e.path,d=u.length+1,p=kn.prefixForPath(this.userId,u),m=IDBKeyRange.lowerBound(p),v=new On(pt);return id(i).$t({range:m},function(w,D,T){var I=w[0],F=w[2],j=jo(w[1]);I===o.userId&&u.isPrefixOf(j)?j.length===d&&(v=v.add(F)):T.done()}).next(function(){return o.Wt(i,v)})},t.prototype.Wt=function(i,e){var o=this,u=[],d=[];return e.forEach(function(p){d.push(Aa(i).get(p).next(function(m){if(null===m)throw Le();Je(m.userId===o.userId),u.push(Na(o.R,m))}))}),be.waitFor(d).next(function(){return u})},t.prototype.removeMutationBatch=function(i,e){var o=this;return WC(i.Mt,this.userId,e).next(function(u){return i.addOnCommittedListener(function(){o.Gt(e.batchId)}),be.forEach(u,function(d){return o.referenceDelegate.markPotentiallyOrphaned(i,d)})})},t.prototype.Gt=function(i){delete this.Kt[i]},t.prototype.performConsistencyCheck=function(i){var e=this;return this.checkEmpty(i).next(function(o){if(!o)return be.resolve();var u=IDBKeyRange.lowerBound(kn.prefixForUser(e.userId)),d=[];return id(i).$t({range:u},function(p,m,v){if(p[0]===e.userId){var w=jo(p[1]);d.push(w)}else v.done()}).next(function(){Je(0===d.length)})})},t.prototype.containsKey=function(i,e){return QS(i,this.userId,e)},t.prototype.zt=function(i){var e=this;return JC(i).get(this.userId).next(function(o){return o||new sn(e.userId,-1,"")})},t}();function QS(t,i,e){var o=kn.prefixForPath(i,e.path),u=o[1],d=IDBKeyRange.lowerBound(o),p=!1;return id(t).$t({range:d,Ft:!0},function(m,v,w){m[0]===i&&m[1]===u&&(p=!0),w.done()}).next(function(){return p})}function Aa(t){return an(t,At.store)}function id(t){return an(t,kn.store)}function JC(t){return an(t,sn.store)}var x_=function(){function t(i){this.Ht=i}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Jx=function(){function t(i,e){this.referenceDelegate=i,this.R=e}return t.prototype.allocateTargetId=function(i){var e=this;return this.Xt(i).next(function(o){var u=new x_(o.highestTargetId);return o.highestTargetId=u.next(),e.Zt(i,o).next(function(){return o.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(i){return this.Xt(i).next(function(e){return ct.fromTimestamp(new er(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(i){return this.Xt(i).next(function(e){return e.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(i,e,o){var u=this;return this.Xt(i).next(function(d){return d.highestListenSequenceNumber=e,o&&(d.lastRemoteSnapshotVersion=o.toTimestamp()),e>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=e),u.Zt(i,d)})},t.prototype.addTargetData=function(i,e){var o=this;return this.te(i,e).next(function(){return o.Xt(i).next(function(u){return u.targetCount+=1,o.ee(e,u),o.Zt(i,u)})})},t.prototype.updateTargetData=function(i,e){return this.te(i,e)},t.prototype.removeTargetData=function(i,e){var o=this;return this.removeMatchingKeysForTargetId(i,e.targetId).next(function(){return od(i).delete(e.targetId)}).next(function(){return o.Xt(i)}).next(function(u){return Je(u.targetCount>0),u.targetCount-=1,o.Zt(i,u)})},t.prototype.removeTargets=function(i,e,o){var u=this,d=0,p=[];return od(i).$t(function(m,v){var w=Sa(v);w.sequenceNumber<=e&&null===o.get(w.targetId)&&(d++,p.push(u.removeTargetData(i,w)))}).next(function(){return be.waitFor(p)}).next(function(){return d})},t.prototype.forEachTarget=function(i,e){return od(i).$t(function(o,u){var d=Sa(u);e(d)})},t.prototype.Xt=function(i){return KS(i).get(ni.key).next(function(e){return Je(null!==e),e})},t.prototype.Zt=function(i,e){return KS(i).put(ni.key,e)},t.prototype.te=function(i,e){return od(i).put(zC(this.R,e))},t.prototype.ee=function(i,e){var o=!1;return i.targetId>e.highestTargetId&&(e.highestTargetId=i.targetId,o=!0),i.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=i.sequenceNumber,o=!0),o},t.prototype.getTargetCount=function(i){return this.Xt(i).next(function(e){return e.targetCount})},t.prototype.getTargetData=function(i,e){var o=pa(e),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),d=null;return od(i).$t({range:u,index:nr.queryTargetsIndexName},function(p,m,v){var w=Sa(m);ql(e,w.target)&&(d=w,v.done())}).next(function(){return d})},t.prototype.addMatchingKeys=function(i,e,o){var u=this,d=[],p=s(i);return e.forEach(function(m){var v=wi(m.path);d.push(p.put(new rr(o,v))),d.push(u.referenceDelegate.addReference(i,o,m))}),be.waitFor(d)},t.prototype.removeMatchingKeys=function(i,e,o){var u=this,d=s(i);return be.forEach(e,function(p){var m=wi(p.path);return be.waitFor([d.delete([o,m]),u.referenceDelegate.removeReference(i,o,p)])})},t.prototype.removeMatchingKeysForTargetId=function(i,e){var o=s(i),u=IDBKeyRange.bound([e],[e+1],!1,!0);return o.delete(u)},t.prototype.getMatchingKeysForTargetId=function(i,e){var o=IDBKeyRange.bound([e],[e+1],!1,!0),u=s(i),d=St();return u.$t({range:o,Ft:!0},function(p,m,v){var w=jo(p[1]),D=new Ue(w);d=d.add(D)}).next(function(){return d})},t.prototype.containsKey=function(i,e){var o=wi(e.path),u=IDBKeyRange.bound([o],[Xy(o)],!1,!0),d=0;return s(i).$t({index:rr.documentTargetsIndex,Ft:!0,range:u},function(p,m,v){0!==p[0]&&(d++,v.done())}).next(function(){return d>0})},t.prototype.lt=function(i,e){return od(i).get(e).next(function(o){return o?Sa(o):null})},t}();function od(t){return an(t,nr.store)}function KS(t){return an(t,ni.store)}function s(t){return an(t,rr.store)}function a(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){if(t.code!==re.FAILED_PRECONDITION||t.message!==jC)throw t;return Ce("LocalStore","Unexpectedly lost primary lease"),[2]})})}function c(t,i){var o=t[1],d=i[1],p=pt(t[0],i[0]);return 0===p?pt(o,d):p}var f=function(){function t(i){this.ne=i,this.buffer=new On(c),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(i){var e=[i,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var o=this.buffer.last();c(e,o)<0&&(this.buffer=this.buffer.delete(o).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),h=function(){function t(i,e){this.garbageCollector=i,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(i)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(i){var e=this,o=this.oe?3e5:6e4;Ce("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,A.mG)(e,void 0,void 0,function(){var u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:this.ce=null,this.oe=!0,d.label=1;case 1:return d.trys.push([1,3,,7]),[4,i.collectGarbage(this.garbageCollector)];case 2:return d.sent(),[3,7];case 3:return wa(u=d.sent())?(Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u),[3,6]):[3,4];case 4:return[4,a(u)];case 5:d.sent(),d.label=6;case 6:return[3,7];case 7:return[4,this.ue(i)];case 8:return d.sent(),[2]}})})})},t}(),g=function(){function t(i,e){this.ae=i,this.params=e}return t.prototype.calculateTargetCount=function(i,e){return this.ae.he(i).next(function(o){return Math.floor(e/100*o)})},t.prototype.nthSequenceNumber=function(i,e){var o=this;if(0===e)return be.resolve(bi.o);var u=new f(e);return this.ae.forEachTarget(i,function(d){return u.re(d.sequenceNumber)}).next(function(){return o.ae.le(i,function(d){return u.re(d)})}).next(function(){return u.maxValue})},t.prototype.removeTargets=function(i,e,o){return this.ae.removeTargets(i,e,o)},t.prototype.removeOrphanedDocuments=function(i,e){return this.ae.removeOrphanedDocuments(i,e)},t.prototype.collect=function(i,e){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(JS)):this.getCacheSize(i).next(function(u){return u<o.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; Cache size "+u+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),JS):o.fe(i,e)})},t.prototype.getCacheSize=function(i){return this.ae.getCacheSize(i)},t.prototype.fe=function(i,e){var o,u,d,p,m,v,w,D=this,T=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(function(I){return I>D.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+D.params.maximumSequenceNumbersToCollect+" from "+I),u=D.params.maximumSequenceNumbersToCollect):u=I,p=Date.now(),D.nthSequenceNumber(i,u)}).next(function(I){return o=I,m=Date.now(),D.removeTargets(i,o,e)}).next(function(I){return d=I,v=Date.now(),D.removeOrphanedDocuments(i,o)}).next(function(I){return w=Date.now(),aC()<=Ye.in.DEBUG&&Ce("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(p-T)+"ms\n\tDetermined least recently used "+u+" in "+(m-p)+"ms\n\tRemoved "+d+" targets in "+(v-m)+"ms\n\tRemoved "+I+" documents in "+(w-v)+"ms\nTotal Duration: "+(w-T)+"ms"),be.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:I})})},t}(),y=function(){function t(i,e){this.db=i,this.garbageCollector=new g(this,e)}return t.prototype.he=function(i){var e=this.de(i);return this.db.getTargetCache().getTargetCount(i).next(function(o){return e.next(function(u){return o+u})})},t.prototype.de=function(i){var e=0;return this.le(i,function(o){e++}).next(function(){return e})},t.prototype.forEachTarget=function(i,e){return this.db.getTargetCache().forEachTarget(i,e)},t.prototype.le=function(i,e){return this.we(i,function(o,u){return e(u)})},t.prototype.addReference=function(i,e,o){return _(i,o)},t.prototype.removeReference=function(i,e,o){return _(i,o)},t.prototype.removeTargets=function(i,e,o){return this.db.getTargetCache().removeTargets(i,e,o)},t.prototype.markPotentiallyOrphaned=function(i,e){return _(i,e)},t.prototype._e=function(i,e){return u=e,d=!1,JC(o=i).Ot(function(p){return QS(o,p,u).next(function(m){return m&&(d=!0),be.resolve(!m)})}).next(function(){return d});var o,u,d},t.prototype.removeOrphanedDocuments=function(i,e){var o=this,u=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[],p=0;return this.we(i,function(m,v){if(v<=e){var w=o._e(i,m).next(function(D){if(!D)return p++,u.getEntry(i,m).next(function(){return u.removeEntry(m),s(i).delete([0,wi(m.path)])})});d.push(w)}}).next(function(){return be.waitFor(d)}).next(function(){return u.apply(i)}).next(function(){return p})},t.prototype.removeTarget=function(i,e){var o=e.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,o)},t.prototype.updateLimboDocument=function(i,e){return _(i,e)},t.prototype.we=function(i,e){var o,u=s(i),d=bi.o;return u.$t({index:rr.documentTargetsIndex},function(p,m){var w=m.path,D=m.sequenceNumber;0===p[0]?(d!==bi.o&&e(new Ue(jo(o)),d),d=D,o=w):d=bi.o}).next(function(){d!==bi.o&&e(new Ue(jo(o)),d)})},t.prototype.getCacheSize=function(i){return this.db.getRemoteDocumentCache().getSize(i)},t}();function _(t,i){return s(t).put((o=t.currentSequenceNumber,new rr(0,wi(i.path),o)));var o}var b=function(){function t(i,e){this.mapKeyFn=i,this.equalsFn=e,this.inner={}}return t.prototype.get=function(i){var e=this.mapKeyFn(i),o=this.inner[e];if(void 0!==o)for(var u=0,d=o;u<d.length;u++){var p=d[u],v=p[1];if(this.equalsFn(p[0],i))return v}},t.prototype.has=function(i){return void 0!==this.get(i)},t.prototype.set=function(i,e){var o=this.mapKeyFn(i),u=this.inner[o];if(void 0!==u){for(var d=0;d<u.length;d++)if(this.equalsFn(u[d][0],i))return void(u[d]=[i,e]);u.push([i,e])}else this.inner[o]=[[i,e]]},t.prototype.delete=function(i){var e=this.mapKeyFn(i),o=this.inner[e];if(void 0===o)return!1;for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],i))return 1===o.length?delete this.inner[e]:o.splice(u,1),!0;return!1},t.prototype.forEach=function(i){Uu(this.inner,function(e,o){for(var u=0,d=o;u<d.length;u++){var p=d[u];i(p[0],p[1])}})},t.prototype.isEmpty=function(){return fS(this.inner)},t}(),C=function(){function t(){this.changes=new b(function(i){return i.toString()},function(i,e){return i.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(i){var e=this.changes.get(i);return e?e.readTime:ct.min()},t.prototype.addEntry=function(i,e){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:e})},t.prototype.removeEntry=function(i,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(i,{document:zn.newInvalidDocument(i),readTime:e})},t.prototype.getEntry=function(i,e){this.assertNotApplied();var o=this.changes.get(e);return void 0!==o?be.resolve(o.document):this.getFromCache(i,e)},t.prototype.getEntries=function(i,e){return this.getAllFromCache(i,e)},t.prototype.apply=function(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)},t.prototype.assertNotApplied=function(){},t}(),E=function(){function t(i,e){this.R=i,this.Ut=e}return t.prototype.addEntry=function(i,e,o){return k(i).put(B(e),o)},t.prototype.removeEntry=function(i,e){var o=k(i),u=B(e);return o.delete(u)},t.prototype.updateMetadata=function(i,e){var o=this;return this.getMetadata(i).next(function(u){return u.byteSize+=e,o.me(i,u)})},t.prototype.getEntry=function(i,e){var o=this;return k(i).get(B(e)).next(function(u){return o.ye(e,u)})},t.prototype.ge=function(i,e){var o=this;return k(i).get(B(e)).next(function(u){return{document:o.ye(e,u),size:up(u)}})},t.prototype.getEntries=function(i,e){var o=this,u=Yi();return this.pe(i,e,function(d,p){var m=o.ye(d,p);u=u.insert(d,m)}).next(function(){return u})},t.prototype.Ee=function(i,e){var o=this,u=Yi(),d=new Er(Ue.comparator);return this.pe(i,e,function(p,m){var v=o.ye(p,m);u=u.insert(p,v),d=d.insert(p,up(m))}).next(function(){return{documents:u,Te:d}})},t.prototype.pe=function(i,e,o){if(e.isEmpty())return be.resolve();var u=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),d=e.getIterator(),p=d.getNext();return k(i).$t({range:u},function(m,v,w){for(var D=Ue.fromSegments(m);p&&Ue.comparator(p,D)<0;)o(p,null),p=d.getNext();p&&p.isEqual(D)&&(o(p,v),p=d.hasNext()?d.getNext():null),p?w.Ct(p.path.toArray()):w.done()}).next(function(){for(;p;)o(p,null),p=d.hasNext()?d.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(i,e,o){var u=this,d=Yi(),p=e.path.length+1,m={};if(o.isEqual(ct.min())){var v=e.path.toArray();m.range=IDBKeyRange.lowerBound(v)}else{var w=e.path.toArray(),D=N_(o);m.range=IDBKeyRange.lowerBound([w,D],!0),m.index=zt.collectionReadTimeIndex}return k(i).$t(m,function(T,I,M){if(T.length===p){var F=I_(u.R,I);e.path.isPrefixOf(F.key.path)?Kh(e,F)&&(d=d.insert(F.key,F)):M.done()}}).next(function(){return d})},t.prototype.newChangeBuffer=function(i){return new N(this,!!i&&i.trackRemovals)},t.prototype.getSize=function(i){return this.getMetadata(i).next(function(e){return e.byteSize})},t.prototype.getMetadata=function(i){return S(i).get(zi.key).next(function(e){return Je(!!e),e})},t.prototype.me=function(i,e){return S(i).put(zi.key,e)},t.prototype.ye=function(i,e){if(e){var o=I_(this.R,e);if(!o.isNoDocument()||!o.version.isEqual(ct.min()))return o}return zn.newInvalidDocument(i)},t}(),N=function(t){function i(e,o){var u=this;return(u=t.call(this)||this).Ie=e,u.trackRemovals=o,u.Ae=new b(function(d){return d.toString()},function(d,p){return d.isEqual(p)}),u}return(0,A.ZT)(i,t),i.prototype.applyChanges=function(e){var o=this,u=[],d=0,p=new On(function(m,v){return pt(m.canonicalString(),v.canonicalString())});return this.changes.forEach(function(m,v){var w=o.Ae.get(m);if(v.document.isValidDocument()){var D=YC(o.Ie.R,v.document,o.getReadTime(m));p=p.add(m.path.popLast());var T=up(D);d+=T-w,u.push(o.Ie.addEntry(e,m,D))}else if(d-=w,o.trackRemovals){var I=YC(o.Ie.R,zn.newNoDocument(m,ct.min()),o.getReadTime(m));u.push(o.Ie.addEntry(e,m,I))}else u.push(o.Ie.removeEntry(e,m))}),p.forEach(function(m){u.push(o.Ie.Ut.addToCollectionParentIndex(e,m))}),u.push(this.Ie.updateMetadata(e,d)),be.waitFor(u)},i.prototype.getFromCache=function(e,o){var u=this;return this.Ie.ge(e,o).next(function(d){return u.Ae.set(o,d.size),d.document})},i.prototype.getAllFromCache=function(e,o){var u=this;return this.Ie.Ee(e,o).next(function(d){var p=d.documents;return d.Te.forEach(function(m,v){u.Ae.set(m,v)}),p})},i}(C);function S(t){return an(t,zi.store)}function k(t){return an(t,zt.store)}function B(t){return t.path.toArray()}var ee=function(){function t(i){this.R=i}return t.prototype.Rt=function(i,e,o,u){var d=this;Je(o<u&&o>=0&&u<=11);var v,p=new HC("createOrUpgrade",e);o<1&&u>=1&&(i.createObjectStore(ti.store),(v=i).createObjectStore(sn.store,{keyPath:sn.keyPath}),v.createObjectStore(At.store,{keyPath:At.keyPath,autoIncrement:!0}).createIndex(At.userMutationsIndex,At.userMutationsKeyPath,{unique:!0}),v.createObjectStore(kn.store),q(i),function(v){v.createObjectStore(zt.store)}(i));var m=be.resolve();return o<3&&u>=3&&(0!==o&&(function(v){v.deleteObjectStore(rr.store),v.deleteObjectStore(nr.store),v.deleteObjectStore(ni.store)}(i),q(i)),m=m.next(function(){return function(v){var w=v.store(ni.store),D=new ni(0,0,ct.min().toTimestamp(),0);return w.put(ni.key,D)}(p)})),o<4&&u>=4&&(0!==o&&(m=m.next(function(){return function(v,w){return w.store(At.store).Nt().next(function(D){v.deleteObjectStore(At.store),v.createObjectStore(At.store,{keyPath:At.keyPath,autoIncrement:!0}).createIndex(At.userMutationsIndex,At.userMutationsKeyPath,{unique:!0});var T=w.store(At.store),I=D.map(function(M){return T.put(M)});return be.waitFor(I)})}(i,p)})),m=m.next(function(){!function(v){v.createObjectStore(Ho.store,{keyPath:Ho.keyPath})}(i)})),o<5&&u>=5&&(m=m.next(function(){return d.Re(p)})),o<6&&u>=6&&(m=m.next(function(){return function(v){v.createObjectStore(zi.store)}(i),d.be(p)})),o<7&&u>=7&&(m=m.next(function(){return d.ve(p)})),o<8&&u>=8&&(m=m.next(function(){return d.Pe(i,p)})),o<9&&u>=9&&(m=m.next(function(){(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(i),function(v){var w=v.objectStore(zt.store);w.createIndex(zt.readTimeIndex,zt.readTimeIndexPath,{unique:!1}),w.createIndex(zt.collectionReadTimeIndex,zt.collectionReadTimeIndexPath,{unique:!1})}(e)})),o<10&&u>=10&&(m=m.next(function(){return d.Ve(p)})),o<11&&u>=11&&(m=m.next(function(){(function(v){v.createObjectStore(va.store,{keyPath:va.keyPath})})(i),function(v){v.createObjectStore(zu.store,{keyPath:zu.keyPath})}(i)})),m},t.prototype.be=function(i){var e=0;return i.store(zt.store).$t(function(o,u){e+=up(u)}).next(function(){var o=new zi(e);return i.store(zi.store).put(zi.key,o)})},t.prototype.Re=function(i){var e=this,o=i.store(sn.store),u=i.store(At.store);return o.Nt().next(function(d){return be.forEach(d,function(p){var m=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return u.Nt(At.userMutationsIndex,m).next(function(v){return be.forEach(v,function(w){Je(w.userId===p.userId);var D=Na(e.R,w);return WC(i,p.userId,D).next(function(){})})})})})},t.prototype.ve=function(i){var e=i.store(rr.store),o=i.store(zt.store);return i.store(ni.store).get(ni.key).next(function(u){var d=[];return o.$t(function(p,m){var v=new Et(p),w=[0,wi(v)];d.push(e.get(w).next(function(D){return D?be.resolve():e.put(new rr(0,wi(v),u.highestListenSequenceNumber))}))}).next(function(){return be.waitFor(d)})})},t.prototype.Pe=function(i,e){i.createObjectStore(_a.store,{keyPath:_a.keyPath});var o=e.store(_a.store),u=new M_,d=function(p){if(u.add(p)){var m=p.lastSegment(),v=p.popLast();return o.put({collectionId:m,parent:wi(v)})}};return e.store(zt.store).$t({Ft:!0},function(p,m){var v=new Et(p);return d(v.popLast())}).next(function(){return e.store(kn.store).$t({Ft:!0},function(p,m){var w=jo(p[1]);return d(w.popLast())})})},t.prototype.Ve=function(i){var e=this,o=i.store(nr.store);return o.$t(function(u,d){var p=Sa(d),m=zC(e.R,p);return o.put(m)})},t}();function q(t){t.createObjectStore(rr.store,{keyPath:rr.keyPath}).createIndex(rr.documentTargetsIndex,rr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(nr.store,{keyPath:nr.keyPath}).createIndex(nr.queryTargetsIndexName,nr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ni.store)}var _e="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ue=function(){function t(i,e,o,u,d,p,m,v,w,D){if(this.allowTabSynchronization=i,this.persistenceKey=e,this.clientId=o,this.Se=d,this.window=p,this.document=m,this.De=w,this.Ce=D,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(T){return Promise.resolve()},!t.yt())throw new ye(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new y(this,u),this.Le=e+"main",this.R=new Ea(v),this.Be=new Zu(this.Le,11,new ee(this.R)),this.qe=new Jx(this.referenceDelegate,this.R),this.Ut=new Zx,this.Ue=new E(this.R,this.Ut),this.Ke=new ZC,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===D&&on("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var i=this;return this.je().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new ye(re.FAILED_PRECONDITION,_e);return i.We(),i.Ge(),i.ze(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return i.qe.getHighestSequenceNumber(e)})}).then(function(e){i.Ne=new bi(e,i.De)}).then(function(){i.xe=!0}).catch(function(e){return i.Be&&i.Be.close(),Promise.reject(e)})},t.prototype.He=function(i){var e=this;return this.Me=function(o){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(u){return this.started?[2,i(o)]:[2]})})},i(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(i){var e=this;this.Be.vt(function(o){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(u){switch(u.label){case 0:return null===o.newVersion?[4,i()]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(i){var e=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Se.enqueueAndForget(function(){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return $e(e).put(new Ho(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.Je(e).next(function(o){o||(i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}))})}).next(function(){return i.Ye(e)}).next(function(o){return i.isPrimary&&!o?i.Xe(e).next(function(){return!1}):!!o&&i.Ze(e).next(function(){return!0})})}).catch(function(e){if(wa(e))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",e),i.isPrimary;if(!i.allowTabSynchronization)throw e;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){i.isPrimary!==e&&i.Se.enqueueRetryable(function(){return i.Me(e)}),i.isPrimary=e})},t.prototype.Je=function(i){var e=this;return ke(i).get(ti.key).next(function(o){return be.resolve(e.tn(o))})},t.prototype.en=function(i){return $e(i).delete(this.clientId)},t.prototype.nn=function(){return(0,A.mG)(this,void 0,void 0,function(){var i,e,o,d=this;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(m){var v=an(m,Ho.store);return v.Nt().next(function(w){var D=d.rn(w,18e5),T=w.filter(function(I){return-1===D.indexOf(I)});return be.forEach(T,function(I){return v.delete(I.clientId)}).next(function(){return T})})}).catch(function(){return[]})]);case 1:if(i=p.sent(),this.Qe)for(e=0,o=i;e<o.length;e++)this.Qe.removeItem(this.on(o[e].clientId));p.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var i=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return i.je().then(function(){return i.nn()}).then(function(){return i.ze()})})},t.prototype.tn=function(i){return!!i&&i.ownerId===this.clientId},t.prototype.Ye=function(i){var e=this;return this.Ce?be.resolve(!0):ke(i).get(ti.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)){if(e.tn(o)&&e.networkEnabled)return!0;if(!e.tn(o)){if(!o.allowTabSynchronization)throw new ye(re.FAILED_PRECONDITION,_e);return!1}}return!(!e.networkEnabled||!e.inForeground)||$e(i).Nt().next(function(u){return void 0===e.rn(u,5e3).find(function(d){return!(e.clientId===d.clientId||!(!e.networkEnabled&&d.networkEnabled||!e.inForeground&&d.inForeground&&e.networkEnabled===d.networkEnabled))})})}).next(function(o){return e.isPrimary!==o&&Ce("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},t.prototype.shutdown=function(){return(0,A.mG)(this,void 0,void 0,function(){var i=this;return(0,A.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ti.store,Ho.store],function(o){var u=new qC(o,bi.o);return i.Xe(u).next(function(){return i.en(u)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(i,e){var o=this;return i.filter(function(u){return o.sn(u.updateTimeMs,e)&&!o.cn(u.clientId)})},t.prototype.fn=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(e){return $e(e).Nt().next(function(o){return i.rn(o,18e5).map(function(u){return u.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(i){return Wx.Qt(i,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(i,e,o){var d,u=this;return Ce("IndexedDbPersistence","Starting transaction:",i),this.Be.runTransaction(i,"readonly"===e?"readonly":"readwrite",YS,function(m){return d=new qC(m,u.Ne?u.Ne.next():bi.o),"readwrite-primary"===e?u.Je(d).next(function(v){return!!v||u.Ye(d)}).next(function(v){if(!v)throw on("Failed to obtain primary lease for action '"+i+"'."),u.isPrimary=!1,u.Se.enqueueRetryable(function(){return u.Me(!1)}),new ye(re.FAILED_PRECONDITION,jC);return o(d)}).next(function(v){return u.Ze(d).next(function(){return v})}):u.dn(d).next(function(){return o(d)})}).then(function(m){return d.raiseOnCommittedEvent(),m})},t.prototype.dn=function(i){var e=this;return ke(i).get(ti.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)&&!e.tn(o)&&!(e.Ce||e.allowTabSynchronization&&o.allowTabSynchronization))throw new ye(re.FAILED_PRECONDITION,_e)})},t.prototype.Ze=function(i){var e=new ti(this.clientId,this.allowTabSynchronization,Date.now());return ke(i).put(ti.key,e)},t.yt=function(){return Zu.yt()},t.prototype.Xe=function(i){var e=this,o=ke(i);return o.get(ti.key).next(function(u){return e.tn(u)?(Ce("IndexedDbPersistence","Releasing primary lease."),o.delete(ti.key)):be.resolve()})},t.prototype.sn=function(i,e){var o=Date.now();return!(i<o-e||i>o&&(on("Detected an update time that is in the future: "+i+" > "+o),1))},t.prototype.We=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){i.Se.enqueueAndForget(function(){return i.inForeground="visible"===i.document.visibilityState,i.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var i,e=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.ke=function(){e.un(),(0,Tt.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(i){var e;try{var o=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(i)));return Ce("IndexedDbPersistence","Client '"+i+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(u){return on("IndexedDbPersistence","Failed to get zombied client id.",u),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(i){on("Failed to set zombie client id.",i)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(i){}},t.prototype.on=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},t}();function ke(t){return an(t,ti.store)}function $e(t){return an(t,Ho.store)}function dt(t,i){var e=t.projectId;return t.isDefaultDatabase||(e+="."+t.database),"firestore/"+i+"/"+e+"/"}var Pn=function(t,i){this.progress=t,this.wn=i},ri=function(){function t(i,e,o){this.Ue=i,this._n=e,this.Ut=o}return t.prototype.mn=function(i,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(i,e).next(function(u){return o.yn(i,e,u)})},t.prototype.yn=function(i,e,o){return this.Ue.getEntry(i,e).next(function(u){for(var d=0,p=o;d<p.length;d++)p[d].applyToLocalView(u);return u})},t.prototype.gn=function(i,e){i.forEach(function(o,u){for(var d=0,p=e;d<p.length;d++)p[d].applyToLocalView(u)})},t.prototype.pn=function(i,e){var o=this;return this.Ue.getEntries(i,e).next(function(u){return o.En(i,u).next(function(){return u})})},t.prototype.En=function(i,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(i,e).next(function(u){return o.gn(e,u)})},t.prototype.getDocumentsMatchingQuery=function(i,e,o){return Ue.isDocumentKey((u=e).path)&&null===u.collectionGroup&&0===u.filters.length?this.Tn(i,e.path):Qh(e)?this.In(i,e,o):this.An(i,e,o);var u},t.prototype.Tn=function(i,e){return this.mn(i,new Ue(e)).next(function(o){var u=p_();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})},t.prototype.In=function(i,e,o){var u=this,d=e.collectionGroup,p=p_();return this.Ut.getCollectionParents(i,d).next(function(m){return be.forEach(m,function(v){var D,T,w=(D=e,T=v.child(d),new _o(T,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));return u.An(i,w,o).next(function(D){D.forEach(function(T,I){p=p.insert(T,I)})})}).next(function(){return p})})},t.prototype.An=function(i,e,o){var u,d,p=this;return this.Ue.getDocumentsMatchingQuery(i,e,o).next(function(m){return u=m,p._n.getAllMutationBatchesAffectingQuery(i,e)}).next(function(m){return p.Rn(i,d=m,u).next(function(v){u=v;for(var w=0,D=d;w<D.length;w++)for(var T=D[w],I=0,M=T.mutations;I<M.length;I++){var F=M[I],j=F.key,ie=u.get(j);null==ie&&(ie=zn.newInvalidDocument(j),u=u.insert(j,ie)),ed(F,ie,T.localWriteTime),ie.isFoundDocument()||(u=u.remove(j))}})}).next(function(){return u.forEach(function(m,v){Kh(e,v)||(u=u.remove(m))}),u})},t.prototype.Rn=function(i,e,o){for(var u=St(),d=0,p=e;d<p.length;d++)for(var m=0,v=p[d].mutations;m<v.length;m++){var w=v[m];w instanceof wo&&null===o.get(w.key)&&(u=u.add(w.key))}var D=o;return this.Ue.getEntries(i,u).next(function(T){return T.forEach(function(I,M){M.isFoundDocument()&&(D=D.insert(I,M))}),D})},t}(),sd=function(){function t(i,e,o,u){this.targetId=i,this.fromCache=e,this.bn=o,this.vn=u}return t.Pn=function(i,e){for(var o=St(),u=St(),d=0,p=e.docChanges;d<p.length;d++){var m=p[d];switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}}return new t(i,e.fromCache,o,u)},t}(),Ma=function(){function t(){}return t.prototype.Vn=function(i){this.Sn=i},t.prototype.getDocumentsMatchingQuery=function(i,e,o,u){var p,d=this;return 0===(p=e).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||o.isEqual(ct.min())?this.Dn(i,e):this.Sn.pn(i,u).next(function(p){var m=d.Cn(e,p);return(Wl(e)||Jl(e))&&d.Nn(e.limitType,m,u,o)?d.Dn(i,e):(aC()<=Ye.in.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yC(e)),d.Sn.getDocumentsMatchingQuery(i,e,o).next(function(v){return m.forEach(function(w){v=v.insert(w.key,w)}),v}))})},t.prototype.Cn=function(i,e){var o=new On(CS(i));return e.forEach(function(u,d){Kh(i,d)&&(o=o.add(d))}),o},t.prototype.Nn=function(i,e,o,u){if(o.size!==e.size)return!0;var d="F"===i?e.last():e.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)},t.prototype.Dn=function(i,e){return aC()<=Ye.in.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",yC(e)),this.Sn.getDocumentsMatchingQuery(i,e,ct.min())},t}(),Ju=function(){function t(i,e,o,u){this.persistence=i,this.xn=e,this.R=u,this.kn=new Er(pt),this.Fn=new b(function(d){return pa(d)},ql),this.$n=ct.min(),this._n=i.getMutationQueue(o),this.On=i.getRemoteDocumentCache(),this.qe=i.getTargetCache(),this.Mn=new ri(this.On,this._n,this.persistence.getIndexManager()),this.Ke=i.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(i){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return i.collect(o,e.kn)})},t}();function xa(t,i,e,o){return new Ju(t,i,e,o)}function cp(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o,u,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return e=De(t),o=e._n,u=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(m){var v;return e._n.getAllMutationBatches(m).next(function(w){return v=w,o=e.persistence.getMutationQueue(i),u=new ri(e.On,o,e.persistence.getIndexManager()),o.getAllMutationBatches(m)}).next(function(w){for(var D=[],T=[],I=St(),M=0,F=v;M<F.length;M++){var j=F[M];D.push(j.batchId);for(var ie=0,de=j.mutations;ie<de.length;ie++)I=I.add(de[ie].key)}for(var Ee=0,ze=w;Ee<ze.length;Ee++){var Oe=ze[Ee];T.push(Oe.batchId);for(var wt=0,Zn=Oe.mutations;wt<Zn.length;wt++)I=I.add(Zn[wt].key)}return u.pn(m,I).next(function(q_){return{Ln:q_,removedBatchIds:D,addedBatchIds:T}})})})];case 1:return d=p.sent(),[2,(e._n=o,e.Mn=u,e.xn.Vn(e.Mn),d)]}})})}function R_(t,i){var e=De(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var p,m,v,w,D,T,I,u=i.batch.keys(),d=e.On.newChangeBuffer({trackRemovals:!0});return(p=e,m=o,v=i,w=d,D=v.batch,T=D.keys(),I=be.resolve(),T.forEach(function(M){I=I.next(function(){return w.getEntry(m,M)}).next(function(F){var j=v.docVersions.get(M);Je(null!==j),F.version.compareTo(j)<0&&(D.applyToRemoteDocument(F,v),F.isValidDocument()&&w.addEntry(F,v.commitVersion))})}),I.next(function(){return p._n.removeMutationBatch(m,D)})).next(function(){return d.apply(o)}).next(function(){return e._n.performConsistencyCheck(o)}).next(function(){return e.Mn.pn(o,u)})})}function lp(t){var i=De(t);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return i.qe.getLastRemoteSnapshotVersion(e)})}function O_(t,i){var e=De(t),o=i.snapshotVersion,u=e.kn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(d){var p=e.On.newChangeBuffer({trackRemovals:!0});u=e.kn;var m=[];i.targetChanges.forEach(function(D,T){var j,ie,de,I=u.get(T);if(I){m.push(e.qe.removeMatchingKeys(d,D.removedDocuments,T).next(function(){return e.qe.addMatchingKeys(d,D.addedDocuments,T)}));var M=D.resumeToken;if(M.approximateByteSize()>0){var F=I.withResumeToken(M,o).withSequenceNumber(d.currentSequenceNumber);u=u.insert(T,F),j=I,de=D,Je((ie=F).resumeToken.approximateByteSize()>0),(0===j.resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&m.push(e.qe.updateTargetData(d,F))}}});var v=Yi();if(i.documentUpdates.forEach(function(D,T){i.resolvedLimboDocuments.has(D)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(d,D))}),m.push(dp(d,p,i.documentUpdates,o,void 0).next(function(D){v=D})),!o.isEqual(ct.min())){var w=e.qe.getLastRemoteSnapshotVersion(d).next(function(D){return e.qe.setTargetsMetadata(d,d.currentSequenceNumber,o)});m.push(w)}return be.waitFor(m).next(function(){return p.apply(d)}).next(function(){return e.Mn.En(d,v)}).next(function(){return v})}).then(function(d){return e.kn=u,d})}function dp(t,i,e,o,u){var d=St();return e.forEach(function(p){return d=d.add(p)}),i.getEntries(t,d).next(function(p){var m=Yi();return e.forEach(function(v,w){var D=p.get(v),T=(null==u?void 0:u.get(v))||o;w.isNoDocument()&&w.version.isEqual(ct.min())?(i.removeEntry(v,T),m=m.insert(v,w)):!D.isValidDocument()||w.version.compareTo(D.version)>0||0===w.version.compareTo(D.version)&&D.hasPendingWrites?(i.addEntry(w,T),m=m.insert(v,w)):Ce("LocalStore","Ignoring outdated watch update for ",v,". Current version:",D.version," Watch version:",w.version)}),m})}function WO(t,i){var e=De(t);return e.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===i&&(i=-1),e._n.getNextMutationBatchAfterBatchId(o,i)})}function fp(t,i){var e=De(t);return e.persistence.runTransaction("Allocate target","readwrite",function(o){var u;return e.qe.getTargetData(o,i).next(function(d){return d?be.resolve(u=d):e.qe.allocateTargetId(o).next(function(p){return u=new Da(i,p,0,o.currentSequenceNumber),e.qe.addTargetData(o,u).next(function(){return u})})})}).then(function(o){var u=e.kn.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(e.kn=e.kn.insert(o.targetId,o),e.Fn.set(i,o.targetId)),o})}function hp(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o,u,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:o=De(t),u=o.kn.get(i),d=e?"readwrite":"readwrite-primary",m.label=1;case 1:return m.trys.push([1,4,,5]),e?[3,3]:[4,o.persistence.runTransaction("Release target",d,function(v){return o.persistence.referenceDelegate.removeTarget(v,u)})];case 2:m.sent(),m.label=3;case 3:return[3,5];case 4:if(!wa(p=m.sent()))throw p;return Ce("LocalStore","Failed to update sequence numbers for target "+i+": "+p),[3,5];case 5:return o.kn=o.kn.remove(i),o.Fn.delete(u.target),[2]}})})}function QC(t,i,e){var o=De(t),u=ct.min(),d=St();return o.persistence.runTransaction("Execute query","readonly",function(p){return(m=o,v=p,w=Br(i),D=De(m),T=D.Fn.get(w),void 0!==T?be.resolve(D.kn.get(T)):D.qe.getTargetData(v,w)).next(function(m){if(m)return u=m.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(p,m.targetId).next(function(v){d=v})}).next(function(){return o.xn.getDocumentsMatchingQuery(p,i,e?u:ct.min(),e?d:St())}).next(function(m){return{documents:m,Bn:d}});var m,v,w,D,T})}function Qx(t,i){var e=De(t),o=De(e.qe),u=e.kn.get(i);return u?Promise.resolve(u.target):e.persistence.runTransaction("Get target data","readonly",function(d){return o.lt(d,i).next(function(p){return p?p.target:null})})}function Kx(t){var i=De(t);return i.persistence.runTransaction("Get new document changes","readonly",function(e){return u=e,d=i.$n,p=De(i.On),m=Yi(),v=N_(d),w=k(u),D=IDBKeyRange.lowerBound(v,!0),w.$t({index:zt.readTimeIndex,range:D},function(T,I){var M=I_(p.R,I);m=m.insert(M.key,M),v=I.readTime}).next(function(){return{wn:m,readTime:S_(v)}});var u,d,p,m,v,w,D}).then(function(e){var o=e.wn;return i.$n=e.readTime,o})}function JO(t){return(0,A.mG)(this,void 0,void 0,function(){var i;return(0,A.Jh)(this,function(e){return[2,(i=De(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return d=k(o),p=ct.min(),d.$t({index:zt.readTimeIndex,reverse:!0},function(m,v,w){v.readTime&&(p=S_(v.readTime)),w.done()}).next(function(){return p});var d,p}).then(function(o){i.$n=o})]})})}function QO(t,i,e,o){return(0,A.mG)(this,void 0,void 0,function(){var u,d,p,m,v,w,D,T,I,M;return(0,A.Jh)(this,function(F){switch(F.label){case 0:for(u=De(t),d=St(),p=Yi(),m=kS(),v=0,w=e;v<w.length;v++)T=i.qn((D=w[v]).metadata.name),D.document&&(d=d.add(T)),p=p.insert(T,i.Un(D)),m=m.insert(T,i.Kn(D.metadata.readTime));return I=u.On.newChangeBuffer({trackRemovals:!0}),[4,fp(u,(j=o,Br(Zl(Et.fromString("__bundle__/docs/"+j)))))];case 1:return M=F.sent(),[2,u.persistence.runTransaction("Apply bundle documents","readwrite",function(j){return dp(j,I,p,ct.min(),m).next(function(ie){return I.apply(j),ie}).next(function(ie){return u.qe.removeMatchingKeysForTargetId(j,M.targetId).next(function(){return u.qe.addMatchingKeys(j,d,M.targetId)}).next(function(){return u.Mn.En(j,ie)}).next(function(){return ie})})})]}var j})})}function KO(t,i,e){return void 0===e&&(e=St()),(0,A.mG)(this,void 0,void 0,function(){var o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,fp(t,Br(A_(i.bundledQuery)))];case 1:return o=d.sent(),[2,(u=De(t)).persistence.runTransaction("Save named query","readwrite",function(p){var m=tr(i.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u.Ke.saveNamedQuery(p,i);var v=o.withResumeToken(Vr.EMPTY_BYTE_STRING,m);return u.kn=u.kn.insert(v.targetId,v),u.qe.updateTargetData(p,v).next(function(){return u.qe.removeMatchingKeysForTargetId(p,o.targetId)}).next(function(){return u.qe.addMatchingKeys(p,e,o.targetId)}).next(function(){return u.Ke.saveNamedQuery(p,i)})})]}})})}var XO=function(){function t(i){this.R=i,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(i,e){return be.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(i,e){var o;return this.Qn.set(e.id,{id:(o=e).id,version:o.version,createTime:tr(o.createTime)}),be.resolve()},t.prototype.getNamedQuery=function(i,e){return be.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(i,e){return this.jn.set(e.name,{name:(o=e).name,query:A_(o.bundledQuery),readTime:tr(o.readTime)}),be.resolve();var o},t}(),XS=function(){function t(){this.Wn=new On(yr.Gn),this.zn=new On(yr.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(i,e){var o=new yr(i,e);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},t.prototype.Jn=function(i,e){var o=this;i.forEach(function(u){return o.addReference(u,e)})},t.prototype.removeReference=function(i,e){this.Yn(new yr(i,e))},t.prototype.Xn=function(i,e){var o=this;i.forEach(function(u){return o.removeReference(u,e)})},t.prototype.Zn=function(i){var e=this,o=new Ue(new Et([])),u=new yr(o,i),d=new yr(o,i+1),p=[];return this.zn.forEachInRange([u,d],function(m){e.Yn(m),p.push(m.key)}),p},t.prototype.ts=function(){var i=this;this.Wn.forEach(function(e){return i.Yn(e)})},t.prototype.Yn=function(i){this.Wn=this.Wn.delete(i),this.zn=this.zn.delete(i)},t.prototype.es=function(i){var e=new Ue(new Et([])),o=new yr(e,i),u=new yr(e,i+1),d=St();return this.zn.forEachInRange([o,u],function(p){d=d.add(p.key)}),d},t.prototype.containsKey=function(i){var e=new yr(i,0),o=this.Wn.firstAfterOrEqual(e);return null!==o&&i.isEqual(o.key)},t}(),yr=function(){function t(i,e){this.key=i,this.ns=e}return t.Gn=function(i,e){return Ue.comparator(i.key,e.key)||pt(i.ns,e.ns)},t.Hn=function(i,e){return pt(i.ns,e.ns)||Ue.comparator(i.key,e.key)},t}(),ek=function(){function t(i,e){this.Ut=i,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new On(yr.Gn)}return t.prototype.checkEmpty=function(i){return be.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(i,e,o,u){var d=this.ss;this.ss++;var p=new Ca(d,e,o,u);this._n.push(p);for(var m=0,v=u;m<v.length;m++){var w=v[m];this.rs=this.rs.add(new yr(w.key,d)),this.Ut.addToCollectionParentIndex(i,w.key.path.popLast())}return be.resolve(p)},t.prototype.lookupMutationBatch=function(i,e){return be.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(i,e){var u=this.cs(e+1),d=u<0?0:u;return be.resolve(this._n.length>d?this._n[d]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return be.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(i){return be.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,e){var o=this,u=new yr(e,0),d=new yr(e,Number.POSITIVE_INFINITY),p=[];return this.rs.forEachInRange([u,d],function(m){var v=o.os(m.ns);p.push(v)}),be.resolve(p)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,e){var o=this,u=new On(pt);return e.forEach(function(d){var p=new yr(d,0),m=new yr(d,Number.POSITIVE_INFINITY);o.rs.forEachInRange([p,m],function(v){u=u.add(v.ns)})}),be.resolve(this.us(u))},t.prototype.getAllMutationBatchesAffectingQuery=function(i,e){var o=e.path,u=o.length+1,d=o;Ue.isDocumentKey(d)||(d=d.child(""));var p=new yr(new Ue(d),0),m=new On(pt);return this.rs.forEachWhile(function(v){var w=v.key.path;return!!o.isPrefixOf(w)&&(w.length===u&&(m=m.add(v.ns)),!0)},p),be.resolve(this.us(m))},t.prototype.us=function(i){var e=this,o=[];return i.forEach(function(u){var d=e.os(u);null!==d&&o.push(d)}),o},t.prototype.removeMutationBatch=function(i,e){var o=this;Je(0===this.hs(e.batchId,"removed")),this._n.shift();var u=this.rs;return be.forEach(e.mutations,function(d){var p=new yr(d.key,e.batchId);return u=u.delete(p),o.referenceDelegate.markPotentiallyOrphaned(i,d.key)}).next(function(){o.rs=u})},t.prototype.Gt=function(i){},t.prototype.containsKey=function(i,e){var o=new yr(e,0),u=this.rs.firstAfterOrEqual(o);return be.resolve(e.isEqual(u&&u.key))},t.prototype.performConsistencyCheck=function(i){return be.resolve()},t.prototype.hs=function(i,e){return this.cs(i)},t.prototype.cs=function(i){return 0===this._n.length?0:i-this._n[0].batchId},t.prototype.os=function(i){var e=this.cs(i);return e<0||e>=this._n.length?null:this._n[e]},t}(),tk=function(){function t(i,e){this.Ut=i,this.ls=e,this.docs=new Er(Ue.comparator),this.size=0}return t.prototype.addEntry=function(i,e,o){var u=e.key,d=this.docs.get(u),p=d?d.size:0,m=this.ls(e);return this.docs=this.docs.insert(u,{document:e.clone(),size:m,readTime:o}),this.size+=m-p,this.Ut.addToCollectionParentIndex(i,u.path.popLast())},t.prototype.removeEntry=function(i){var e=this.docs.get(i);e&&(this.docs=this.docs.remove(i),this.size-=e.size)},t.prototype.getEntry=function(i,e){var o=this.docs.get(e);return be.resolve(o?o.document.clone():zn.newInvalidDocument(e))},t.prototype.getEntries=function(i,e){var o=this,u=Yi();return e.forEach(function(d){var p=o.docs.get(d);u=u.insert(d,p?p.document.clone():zn.newInvalidDocument(d))}),be.resolve(u)},t.prototype.getDocumentsMatchingQuery=function(i,e,o){for(var u=Yi(),d=new Ue(e.path.child("")),p=this.docs.getIteratorFrom(d);p.hasNext();){var m=p.getNext(),w=m.value,D=w.document,T=w.readTime;if(!e.path.isPrefixOf(m.key.path))break;T.compareTo(o)<=0||Kh(e,D)&&(u=u.insert(D.key,D.clone()))}return be.resolve(u)},t.prototype.fs=function(i,e){return be.forEach(this.docs,function(o){return e(o)})},t.prototype.newChangeBuffer=function(i){return new nk(this)},t.prototype.getSize=function(i){return be.resolve(this.size)},t}(),nk=function(t){function i(e){var o=this;return(o=t.call(this)||this).Ie=e,o}return(0,A.ZT)(i,t),i.prototype.applyChanges=function(e){var o=this,u=[];return this.changes.forEach(function(d,p){p.document.isValidDocument()?u.push(o.Ie.addEntry(e,p.document,o.getReadTime(d))):o.Ie.removeEntry(d)}),be.waitFor(u)},i.prototype.getFromCache=function(e,o){return this.Ie.getEntry(e,o)},i.prototype.getAllFromCache=function(e,o){return this.Ie.getEntries(e,o)},i}(C),rk=function(){function t(i){this.persistence=i,this.ds=new b(function(e){return pa(e)},ql),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.ws=0,this._s=new XS,this.targetCount=0,this.ys=x_.Jt()}return t.prototype.forEachTarget=function(i,e){return this.ds.forEach(function(o,u){return e(u)}),be.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(i){return be.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(i){return be.resolve(this.ws)},t.prototype.allocateTargetId=function(i){return this.highestTargetId=this.ys.next(),be.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(i,e,o){return o&&(this.lastRemoteSnapshotVersion=o),e>this.ws&&(this.ws=e),be.resolve()},t.prototype.te=function(i){this.ds.set(i.target,i);var e=i.targetId;e>this.highestTargetId&&(this.ys=new x_(e),this.highestTargetId=e),i.sequenceNumber>this.ws&&(this.ws=i.sequenceNumber)},t.prototype.addTargetData=function(i,e){return this.te(e),this.targetCount+=1,be.resolve()},t.prototype.updateTargetData=function(i,e){return this.te(e),be.resolve()},t.prototype.removeTargetData=function(i,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,be.resolve()},t.prototype.removeTargets=function(i,e,o){var u=this,d=0,p=[];return this.ds.forEach(function(m,v){v.sequenceNumber<=e&&null===o.get(v.targetId)&&(u.ds.delete(m),p.push(u.removeMatchingKeysForTargetId(i,v.targetId)),d++)}),be.waitFor(p).next(function(){return d})},t.prototype.getTargetCount=function(i){return be.resolve(this.targetCount)},t.prototype.getTargetData=function(i,e){var o=this.ds.get(e)||null;return be.resolve(o)},t.prototype.addMatchingKeys=function(i,e,o){return this._s.Jn(e,o),be.resolve()},t.prototype.removeMatchingKeys=function(i,e,o){this._s.Xn(e,o);var u=this.persistence.referenceDelegate,d=[];return u&&e.forEach(function(p){d.push(u.markPotentiallyOrphaned(i,p))}),be.waitFor(d)},t.prototype.removeMatchingKeysForTargetId=function(i,e){return this._s.Zn(e),be.resolve()},t.prototype.getMatchingKeysForTargetId=function(i,e){var o=this._s.es(e);return be.resolve(o)},t.prototype.containsKey=function(i,e){return be.resolve(this._s.containsKey(e))},t}(),ik=function(){function t(i,e){var o=this;this.gs={},this.Ne=new bi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=i(this),this.qe=new rk(this),this.Ut=new ZS,this.Ue=new tk(this.Ut,function(p){return o.referenceDelegate.ps(p)}),this.R=new Ea(e),this.Ke=new XO(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(i){var e=this.gs[i.toKey()];return e||(e=new ek(this.Ut,this.referenceDelegate),this.gs[i.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(i,e,o){var u=this;Ce("MemoryPersistence","Starting transaction:",i);var d=new ok(this.Ne.next());return this.referenceDelegate.Es(),o(d).next(function(p){return u.referenceDelegate.Ts(d).next(function(){return p})}).toPromise().then(function(p){return d.raiseOnCommittedEvent(),p})},t.prototype.Is=function(i,e){return be.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(i,e)}}))},t}(),ok=function(t){function i(e){var o=this;return(o=t.call(this)||this).currentSequenceNumber=e,o}return(0,A.ZT)(i,t),i}(Go),sk=function(){function t(i){this.persistence=i,this.As=new XS,this.Rs=null}return t.bs=function(i){return new t(i)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Le()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(i,e,o){return this.As.addReference(o,e),this.vs.delete(o.toString()),be.resolve()},t.prototype.removeReference=function(i,e,o){return this.As.removeReference(o,e),this.vs.add(o.toString()),be.resolve()},t.prototype.markPotentiallyOrphaned=function(i,e){return this.vs.add(e.toString()),be.resolve()},t.prototype.removeTarget=function(i,e){var o=this;this.As.Zn(e.targetId).forEach(function(d){return o.vs.add(d.toString())});var u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(i,e.targetId).next(function(d){d.forEach(function(p){return o.vs.add(p.toString())})}).next(function(){return u.removeTargetData(i,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(i){var e=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.vs,function(u){var d=Ue.fromPath(u);return e.Ps(i,d).next(function(p){p||o.removeEntry(d)})}).next(function(){return e.Rs=null,o.apply(i)})},t.prototype.updateLimboDocument=function(i,e){var o=this;return this.Ps(i,e).next(function(u){u?o.vs.delete(e.toString()):o.vs.add(e.toString())})},t.prototype.ps=function(i){return 0},t.prototype.Ps=function(i,e){var o=this;return be.or([function(){return be.resolve(o.As.containsKey(e))},function(){return o.persistence.getTargetCache().containsKey(i,e)},function(){return o.persistence.Is(i,e)}])},t}(),Tr=function(){function t(i){this.uid=i}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(i){return i.uid===this.uid},t}();function Xx(t,i){return"firestore_clients_"+t+"_"+i}function eR(t,i,e){var o="firestore_mutations_"+t+"_"+e;return i.isAuthenticated()&&(o+="_"+i.uid),o}function eA(t,i){return"firestore_targets_"+t+"_"+i}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");var tR=function(){function t(i,e,o,u){this.user=i,this.batchId=e,this.state=o,this.error=u}return t.Vs=function(i,e,o){var u,d=JSON.parse(o),p="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return p&&d.error&&(p="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(u=new ye(d.error.code,d.error.message)),p?new t(i,e,d.state,u):(on("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+o),null)},t.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},t}(),tA=function(){function t(i,e,o){this.targetId=i,this.state=e,this.error=o}return t.Vs=function(i,e){var o,u=JSON.parse(e),d="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return d&&u.error&&(d="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(o=new ye(u.error.code,u.error.message)),d?new t(i,u.state,o):(on("SharedClientState","Failed to parse target state for ID '"+i+"': "+e),null)},t.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},t}(),nR=function(){function t(i,e){this.clientId=i,this.activeTargetIds=e}return t.Vs=function(i,e){for(var o=JSON.parse(e),u="object"==typeof o&&o.activeTargetIds instanceof Array,d=rp(),p=0;u&&p<o.activeTargetIds.length;++p)u=pS(o.activeTargetIds[p]),d=d.add(o.activeTargetIds[p]);return u?new t(i,d):(on("SharedClientState","Failed to parse client data for instance '"+i+"': "+e),null)},t}(),ak=function(){function t(i,e){this.clientId=i,this.onlineState=e}return t.Vs=function(i){var e=JSON.parse(i);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new t(e.clientId,e.onlineState):(on("SharedClientState","Failed to parse online state: "+i),null)},t}(),nA=function(){function t(){this.activeTargetIds=rp()}return t.prototype.Ds=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},t.prototype.Cs=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},t.prototype.Ss=function(){var i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)},t}(),rA=function(){function t(i,e,o,u,d){this.window=i,this.Se=e,this.persistenceKey=o,this.Ns=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Er(pt),this.started=!1,this.$s=[];var p=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.Os=Xx(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new nA),this.Ls=new RegExp("^firestore_clients_"+p+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+p+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+p+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(m){return"firestore_bundle_loaded_"+m}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(i){return!(!i||!i.localStorage)},t.prototype.start=function(){return(0,A.mG)(this,void 0,void 0,function(){var i,e,o,u,d,p,m,v,w,D,I=this;return(0,A.Jh)(this,function(M){switch(M.label){case 0:return[4,this.syncEngine.fn()];case 1:for(i=M.sent(),e=0,o=i;e<o.length;e++)(u=o[e])!==this.Ns&&(d=this.getItem(Xx(this.persistenceKey,u)))&&(p=nR.Vs(u,d))&&(this.Fs=this.Fs.insert(p.clientId,p));for(this.Qs(),(m=this.storage.getItem(this.Us))&&(v=this.js(m))&&this.Ws(v),w=0,D=this.$s;w<D.length;w++)this.ks(D[w]);return this.$s=[],this.window.addEventListener("pagehide",function(){return I.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(i){this.setItem(this.Ms,JSON.stringify(i))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(i){var e=!1;return this.Fs.forEach(function(o,u){u.activeTargetIds.has(i)&&(e=!0)}),e},t.prototype.addPendingMutation=function(i){this.zs(i,"pending")},t.prototype.updateMutationState=function(i,e,o){this.zs(i,e,o),this.Hs(i)},t.prototype.addLocalQueryTarget=function(i){var e="not-current";if(this.isActiveQueryTarget(i)){var o=this.storage.getItem(eA(this.persistenceKey,i));if(o){var u=tA.Vs(i,o);u&&(e=u.state)}}return this.Js.Ds(i),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(i){this.Js.Cs(i),this.Qs()},t.prototype.isLocalQueryTarget=function(i){return this.Js.activeTargetIds.has(i)},t.prototype.clearQueryState=function(i){this.removeItem(eA(this.persistenceKey,i))},t.prototype.updateQueryState=function(i,e,o){this.Ys(i,e,o)},t.prototype.handleUserChange=function(i,e,o){var u=this;e.forEach(function(d){u.Hs(d)}),this.currentUser=i,o.forEach(function(d){u.addPendingMutation(d)})},t.prototype.setOnlineState=function(i){this.Xs(i)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(i){var e=this.storage.getItem(i);return Ce("SharedClientState","READ",i,e),e},t.prototype.setItem=function(i,e){Ce("SharedClientState","SET",i,e),this.storage.setItem(i,e)},t.prototype.removeItem=function(i){Ce("SharedClientState","REMOVE",i),this.storage.removeItem(i)},t.prototype.ks=function(i){var e=this,o=i;if(o.storageArea===this.storage){if(Ce("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void on("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,A.mG)(e,void 0,void 0,function(){var u,d,p,m,v,w;return(0,A.Jh)(this,function(D){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return u=this.ti(o.key),[2,this.ei(u,null)];if(d=this.ni(o.key,o.newValue))return[2,this.ei(d.clientId,d)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(p=this.si(o.key,o.newValue)))return[2,this.ii(p)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(m=this.ri(o.key,o.newValue)))return[2,this.oi(m)]}else if(o.key===this.Us){if(null!==o.newValue&&(v=this.js(o.newValue)))return[2,this.Ws(v)]}else if(o.key===this.Ms)(w=function(T){var I=bi.o;if(null!=T)try{var M=JSON.parse(T);Je("number"==typeof M),I=M}catch(F){on("SharedClientState","Failed to read sequence number from WebStorage",F)}return I}(o.newValue))!==bi.o&&this.sequenceNumberHandler(w);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(i,e,o){var u=new tR(this.currentUser,i,e,o),d=eR(this.persistenceKey,this.currentUser,i);this.setItem(d,u.Ss())},t.prototype.Hs=function(i){var e=eR(this.persistenceKey,this.currentUser,i);this.removeItem(e)},t.prototype.Xs=function(i){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:i}))},t.prototype.Ys=function(i,e,o){var u=eA(this.persistenceKey,i),d=new tA(i,e,o);this.setItem(u,d.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(i){var e=this.Ls.exec(i);return e?e[1]:null},t.prototype.ni=function(i,e){var o=this.ti(i);return nR.Vs(o,e)},t.prototype.si=function(i,e){var o=this.Bs.exec(i),u=Number(o[1]);return tR.Vs(new Tr(void 0!==o[2]?o[2]:null),u,e)},t.prototype.ri=function(i,e){var o=this.qs.exec(i),u=Number(o[1]);return tA.Vs(u,e)},t.prototype.js=function(i){return ak.Vs(i)},t.prototype.ii=function(i){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return i.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(i.batchId,i.state,i.error)]:(Ce("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},t.prototype.oi=function(i){return this.syncEngine.ai(i.targetId,i.state,i.error)},t.prototype.ei=function(i,e){var o=this,u=e?this.Fs.insert(i,e):this.Fs.remove(i),d=this.Gs(this.Fs),p=this.Gs(u),m=[],v=[];return p.forEach(function(w){d.has(w)||m.push(w)}),d.forEach(function(w){p.has(w)||v.push(w)}),this.syncEngine.hi(m,v).then(function(){o.Fs=u})},t.prototype.Ws=function(i){this.Fs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)},t.prototype.Gs=function(i){var e=rp();return i.forEach(function(o,u){e=e.unionWith(u.activeTargetIds)}),e},t}(),rR=function(){function t(){this.li=new nA,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(i){},t.prototype.updateMutationState=function(i,e,o){},t.prototype.addLocalQueryTarget=function(i){return this.li.Ds(i),this.fi[i]||"not-current"},t.prototype.updateQueryState=function(i,e,o){this.fi[i]=e},t.prototype.removeLocalQueryTarget=function(i){this.li.Cs(i)},t.prototype.isLocalQueryTarget=function(i){return this.li.activeTargetIds.has(i)},t.prototype.clearQueryState=function(i){delete this.fi[i]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(i){return this.li.activeTargetIds.has(i)},t.prototype.start=function(){return this.li=new nA,Promise.resolve()},t.prototype.handleUserChange=function(i,e,o){},t.prototype.setOnlineState=function(i){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(i){},t.prototype.notifyBundleLoaded=function(){},t}(),uk=function(){function t(){}return t.prototype.di=function(i){},t.prototype.shutdown=function(){},t}(),iR=function(){function t(){var i=this;this.wi=function(){return i._i()},this.mi=function(){return i.yi()},this.gi=[],this.pi()}return t.prototype.di=function(i){this.gi.push(i)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,e=this.gi;i<e.length;i++)(0,e[i])(0)},t.prototype.yi=function(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,e=this.gi;i<e.length;i++)(0,e[i])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ck={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},lk=function(){function t(i){this.Ei=i.Ei,this.Ti=i.Ti}return t.prototype.Ii=function(i){this.Ai=i},t.prototype.Ri=function(i){this.bi=i},t.prototype.onMessage=function(i){this.vi=i},t.prototype.close=function(){this.Ti()},t.prototype.send=function(i){this.Ei(i)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(i){this.bi(i)},t.prototype.Si=function(i){this.vi(i)},t}(),dk=function(t){function i(e){var o=this;return(o=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,o.autoDetectLongPolling=e.autoDetectLongPolling,o.useFetchStreams=e.useFetchStreams,o}return(0,A.ZT)(i,t),i.prototype.Fi=function(e,o,u,d){return new Promise(function(p,m){var v=new sC;v.listenOnce(iC.COMPLETE,function(){try{switch(v.getLastErrorCode()){case qh.NO_ERROR:var D=v.getResponseJson();Ce("Connection","XHR received:",JSON.stringify(D)),p(D);break;case qh.TIMEOUT:Ce("Connection",'RPC "'+e+'" timed out'),m(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:var T=v.getStatus();if(Ce("Connection",'RPC "'+e+'" failed with status:',T,"response text:",v.getResponseText()),T>0){var I=v.getResponseJson().error;if(I&&I.status&&I.message){var M=(j=I.status.toLowerCase().replace(/_/g,"-"),Object.values(re).indexOf(j)>=0?j:re.UNKNOWN);m(new ye(M,I.message))}else m(new ye(re.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{Ce("Connection",'RPC "'+e+'" completed.')}var j});var w=JSON.stringify(d);v.send(o,"POST",w,u,15)})},i.prototype.Oi=function(e,o){var u=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=new Qy,p=Ch(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new lS({})),this.ki(m.initMessageHeaders,o),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");var v=u.join("");Ce("Connection","Creating WebChannel: "+v,m);var w=d.createWebChannel(v,m),D=!1,T=!1,I=new lk({Ei:function(F){T?Ce("Connection","Not sending because WebChannel is closed:",F):(D||(Ce("Connection","Opening WebChannel transport."),w.open(),D=!0),Ce("Connection","WebChannel sending:",F),w.send(F))},Ti:function(){return w.close()}}),M=function(F,j,ie){F.listen(j,function(de){try{ie(de)}catch(we){setTimeout(function(){throw we},0)}})};return M(w,Vl.EventType.OPEN,function(){T||Ce("Connection","WebChannel transport opened.")}),M(w,Vl.EventType.CLOSE,function(){T||(T=!0,Ce("Connection","WebChannel transport closed"),I.Vi())}),M(w,Vl.EventType.ERROR,function(F){T||(T=!0,mo("Connection","WebChannel transport errored:",F),I.Vi(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),M(w,Vl.EventType.MESSAGE,function(F){var j;if(!T){var ie=F.data[0];Je(!!ie);var we=ie.error||(null===(j=ie[0])||void 0===j?void 0:j.error);if(we){Ce("Connection","WebChannel received error:",we);var Ee=we.status,ze=function(wt){var Zn=bn[wt];if(void 0!==Zn)return MS(Zn)}(Ee),Oe=we.message;void 0===ze&&(ze=re.INTERNAL,Oe="Unknown error status: "+Ee+" with message "+we.message),T=!0,I.Vi(new ye(ze,Oe)),w.close()}else Ce("Connection","WebChannel received:",ie),I.Si(ie)}}),M(p,cS.STAT_EVENT,function(F){F.stat===oC_PROXY?Ce("Connection","Detected buffering proxy"):F.stat===oC_NOPROXY&&Ce("Connection","Detected no buffering proxy")}),setTimeout(function(){I.Pi()},0),I},i}(function(){function t(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Di=(i.ssl?"https":"http")+"://"+i.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(i,e,o,u){var d=this.xi(i,e);Ce("RestConnection","Sending: ",d,o);var p={};return this.ki(p,u),this.Fi(i,d,p,o).then(function(m){return Ce("RestConnection","Received: ",m),m},function(m){throw mo("RestConnection",i+" failed with error: ",m,"url: ",d,"request:",o),m})},t.prototype.$i=function(i,e,o,u){return this.Ni(i,e,o,u)},t.prototype.ki=function(i,e){if(i["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var o in e.authHeaders)e.authHeaders.hasOwnProperty(o)&&(i[o]=e.authHeaders[o])},t.prototype.xi=function(i,e){return this.Di+"/v1/"+e+":"+ck[i]},t}());function oR(){return"undefined"!=typeof window?window:null}function KC(){return"undefined"!=typeof document?document:null}function k_(t){return new rd(t,!0)}var iA=function(){function t(i,e,o,u,d){void 0===o&&(o=1e3),void 0===u&&(u=1.5),void 0===d&&(d=6e4),this.Se=i,this.timerId=e,this.Mi=o,this.Li=u,this.Bi=d,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(i){var e=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),u=Math.max(0,Date.now()-this.Ki),d=Math.max(0,o-u);d>0&&Ce("ExponentialBackoff","Backing off for "+d+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+u+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,d,function(){return e.Ki=Date.now(),i()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),sR=function(){function t(i,e,o,u,d,p){this.Se=i,this.zi=o,this.Hi=u,this.Ji=d,this.listener=p,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new iA(i,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){switch(i.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var i=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return i.rr()}))},t.prototype.cr=function(i){this.ur(),this.stream.send(i)},t.prototype.rr=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(i,e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==i?this.Zi.reset():e&&e.code===re.RESOURCE_EXHAUSTED?(on(e.toString()),on("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===re.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Ri(e)];case 1:return o.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var i=this;this.state=1;var e=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(u){i.Yi===o&&i.lr(u)},function(u){e(function(){var d=new ye(re.UNKNOWN,"Fetching auth token failed: "+u.message);return i.dr(d)})})},t.prototype.lr=function(i){var e=this,o=this.hr(this.Yi);this.stream=this.wr(i),this.stream.Ii(function(){o(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(u){o(function(){return e.dr(u)})}),this.stream.onMessage(function(u){o(function(){return e.onMessage(u)})})},t.prototype.nr=function(){var i=this;this.state=4,this.Zi.ji(function(){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(i){return Ce("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},t.prototype.hr=function(i){var e=this;return function(o){e.Se.enqueueAndForget(function(){return e.Yi===i?o():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),fk=function(t){function i(e,o,u,d,p){var m=this;return(m=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",o,u,p)||this).R=d,m}return(0,A.ZT)(i,t),i.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},i.prototype.onMessage=function(e){this.Zi.reset();var o=function(d,p){var m,ie;if("targetChange"in p){var v="NO_CHANGE"===(ie=p.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ie?1:"REMOVE"===ie?2:"CURRENT"===ie?3:"RESET"===ie?4:Le(),w=p.targetChange.targetIds||[],D=function(ie,de){return ie.I?(Je(void 0===de||"string"==typeof de),Vr.fromBase64String(de||"")):(Je(void 0===de||de instanceof Uint8Array),Vr.fromUint8Array(de||new Uint8Array))}(d,p.targetChange.resumeToken),T=(I=p.targetChange.cause)&&function(ie){var de=void 0===ie.code?re.UNKNOWN:MS(ie.code);return new ye(de,ie.message||"")}(I);m=new NC(v,w,D,T||null)}else if("documentChange"in p){w=Co(d,(v=p.documentChange).document.name),D=tr(v.document.updateTime);var I=new ei({mapValue:{fields:v.document.fields}}),M=(T=zn.newFoundDocument(w,D,I),v.targetIds||[]);m=new Ur(M,v.removedTargetIds||[],T.key,T)}else if("documentDelete"in p)w=Co(d,(v=p.documentDelete).document),D=v.readTime?tr(v.readTime):ct.min(),I=zn.newNoDocument(w,D),m=new Ur([],T=v.removedTargetIds||[],I.key,I);else if("documentRemove"in p)w=Co(d,(v=p.documentRemove).document),m=new Ur([],D=v.removedTargetIds||[],w,null);else{if(!("filter"in p))return Le();var j=p.filter;w=new SS(v=j.count||0),m=new IC(D=j.targetId,w)}return m}(this.R,e),u=function(d){if(!("targetChange"in d))return ct.min();var p=d.targetChange;return p.targetIds&&p.targetIds.length?ct.min():p.readTime?tr(p.readTime):ct.min()}(e);return this.listener._r(o,u)},i.prototype.mr=function(e){var d,p,m,v,o={};o.database=ip(this.R),o.addTarget=(d=this.R,(m=Yl(v=(p=e).target)?{documents:__(d,v)}:{query:PC(d,v)}).targetId=p.targetId,p.resumeToken.approximateByteSize()>0?m.resumeToken=US(d,p.resumeToken):p.snapshotVersion.compareTo(ct.min())>0&&(m.readTime=Yu(d,p.snapshotVersion.toTimestamp())),m);var u=function(d,p){var m=function(v,w){switch(w){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Le()}}(0,p.purpose);return null==m?null:{"goog-listen-tags":m}}(0,e);u&&(o.labels=u),this.cr(o)},i.prototype.yr=function(e){var o={};o.database=ip(this.R),o.removeTarget=e,this.cr(o)},i}(sR),hk=function(t){function i(e,o,u,d,p){var m=this;return(m=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",o,u,p)||this).R=d,m.gr=!1,m}return(0,A.ZT)(i,t),Object.defineProperty(i.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},i.prototype.ar=function(){this.gr&&this.Er([])},i.prototype.wr=function(e){return this.Hi.Oi("Write",e)},i.prototype.onMessage=function(e){if(Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var o=(p=e.commitTime,(d=e.writeResults)&&d.length>0?(Je(void 0!==p),d.map(function(m){return w=p,(D=tr((v=m).updateTime?v.updateTime:w)).isEqual(ct.min())&&(D=tr(w)),new IS(D,v.transformResults||[]);var v,w,D})):[]),u=tr(e.commitTime);return this.listener.Tr(u,o)}var d,p;return Je(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},i.prototype.Ar=function(){var e={};e.database=ip(this.R),this.cr(e)},i.prototype.Er=function(e){var o=this,u={streamToken:this.lastStreamToken,writes:e.map(function(d){return jr(o.R,d)})};this.cr(u)},i}(sR),pk=function(t){function i(e,o,u){var d=this;return(d=t.call(this)||this).credentials=e,d.Hi=o,d.R=u,d.Rr=!1,d}return(0,A.ZT)(i,t),i.prototype.br=function(){if(this.Rr)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.Ni=function(e,o,u){var d=this;return this.br(),this.credentials.getToken().then(function(p){return d.Hi.Ni(e,o,u,p)}).catch(function(p){throw"FirebaseError"===p.name?(p.code===re.UNAUTHENTICATED&&d.credentials.invalidateToken(),p):new ye(re.UNKNOWN,p.toString())})},i.prototype.$i=function(e,o,u){var d=this;return this.br(),this.credentials.getToken().then(function(p){return d.Hi.$i(e,o,u,p)}).catch(function(p){throw"FirebaseError"===p.name?(p.code===re.UNAUTHENTICATED&&d.credentials.invalidateToken(),p):new ye(re.UNKNOWN,p.toString())})},i.prototype.terminate=function(){this.Rr=!0},i}(function(){}),gk=function(){function t(i,e){this.asyncQueue=i,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var i=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return i.Pr=null,i.Cr("Backend didn't respond within 10 seconds."),i.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(i){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+i.toString()),this.Dr("Offline")))},t.prototype.set=function(i){this.kr(),this.vr=0,"Online"===i&&(this.Vr=!1),this.Dr(i)},t.prototype.Dr=function(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))},t.prototype.Cr=function(i){var e="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(on(e),this.Vr=!1):Ce("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),mk=function(t,i,e,o,u){var d=this;this.localStore=t,this.datastore=i,this.asyncQueue=e,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=u,this.Lr.di(function(p){e.enqueueAndForget(function(){return(0,A.mG)(d,void 0,void 0,function(){return(0,A.Jh)(this,function(m){switch(m.label){case 0:return Qu(this)?(Ce("RemoteStore","Restarting streams for network reachability change."),[4,function(v){return(0,A.mG)(this,void 0,void 0,function(){var w;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return(w=De(v)).Or.add(4),[4,pp(w)];case 1:return D.sent(),w.Br.set("Unknown"),w.Or.delete(4),[4,P_(w)];case 2:return D.sent(),[2]}})})}(this)]):[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})}),this.Br=new gk(e,o)};function P_(t){return(0,A.mG)(this,void 0,void 0,function(){var i,e;return(0,A.Jh)(this,function(o){switch(o.label){case 0:if(!Qu(t))return[3,4];i=0,e=t.Mr,o.label=1;case 1:return i<e.length?[4,(0,e[i])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function pp(t){return(0,A.mG)(this,void 0,void 0,function(){var i,e;return(0,A.Jh)(this,function(o){switch(o.label){case 0:i=0,e=t.Mr,o.label=1;case 1:return i<e.length?[4,(0,e[i])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function XC(t,i){var e=De(t);e.$r.has(i.targetId)||(e.$r.set(i.targetId,i),aA(e)?sA(e):mp(e).er()&&oA(e,i))}function F_(t,i){var e=De(t),o=mp(e);e.$r.delete(i),o.er()&&aR(e,i),0===e.$r.size&&(o.er()?o.ir():Qu(e)&&e.Br.set("Unknown"))}function oA(t,i){t.qr.U(i.targetId),mp(t).mr(i)}function aR(t,i){t.qr.U(i),mp(t).yr(i)}function sA(t){t.qr=new FS({getRemoteKeysForTarget:function(i){return t.remoteSyncer.getRemoteKeysForTarget(i)},lt:function(i){return t.$r.get(i)||null}}),mp(t).start(),t.Br.Sr()}function aA(t){return Qu(t)&&!mp(t).tr()&&t.$r.size>0}function Qu(t){return 0===De(t).Or.size}function uR(t){t.qr=void 0}function yk(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return t.$r.forEach(function(e,o){oA(t,e)}),[2]})})}function _k(t,i){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return uR(t),aA(t)?(t.Br.Nr(i),sA(t)):t.Br.set("Unknown"),[2]})})}function vk(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o,u,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:if(t.Br.set("Online"),!(i instanceof NC&&2===i.state&&i.cause))return[3,6];p.label=1;case 1:return p.trys.push([1,3,,5]),[4,function(m,v){return(0,A.mG)(this,void 0,void 0,function(){var w,D,T,I;return(0,A.Jh)(this,function(M){switch(M.label){case 0:w=v.cause,D=0,T=v.targetIds,M.label=1;case 1:return D<T.length?m.$r.has(I=T[D])?[4,m.remoteSyncer.rejectListen(I,w)]:[3,3]:[3,5];case 2:M.sent(),m.$r.delete(I),m.qr.removeTarget(I),M.label=3;case 3:M.label=4;case 4:return D++,[3,1];case 5:return[2]}})})}(t,i)];case 2:return p.sent(),[3,5];case 3:return o=p.sent(),Ce("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),o),[4,eD(t,o)];case 4:return p.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof Ur?t.qr.X(i):i instanceof IC?t.qr.rt(i):t.qr.et(i),e.isEqual(ct.min()))return[3,13];p.label=7;case 7:return p.trys.push([7,11,,13]),[4,lp(t.localStore)];case 8:return u=p.sent(),e.compareTo(u)>=0?[4,(m=t,v=e,w=m.qr.ut(v),w.targetChanges.forEach(function(D,T){if(D.resumeToken.approximateByteSize()>0){var I=m.$r.get(T);I&&m.$r.set(T,I.withResumeToken(D.resumeToken,v))}}),w.targetMismatches.forEach(function(D){var T=m.$r.get(D);if(T){m.$r.set(D,T.withResumeToken(Vr.EMPTY_BYTE_STRING,T.snapshotVersion)),aR(m,D);var I=new Da(T.target,D,1,T.sequenceNumber);oA(m,I)}}),m.remoteSyncer.applyRemoteEvent(w))]:[3,10];case 9:p.sent(),p.label=10;case 10:return[3,13];case 11:return Ce("RemoteStore","Failed to raise snapshot:",d=p.sent()),[4,eD(t,d)];case 12:return p.sent(),[3,13];case 13:return[2]}var m,v,w})})}function eD(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o=this;return(0,A.Jh)(this,function(u){switch(u.label){case 0:if(!wa(i))throw i;return t.Or.add(1),[4,pp(t)];case 1:return u.sent(),t.Br.set("Offline"),e||(e=function(){return lp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,A.mG)(o,void 0,void 0,function(){return(0,A.Jh)(this,function(d){switch(d.label){case 0:return Ce("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return d.sent(),t.Or.delete(1),[4,P_(t)];case 2:return d.sent(),[2]}})})}),[2]}})})}function cR(t,i){return i().catch(function(e){return eD(t,e,i)})}function gp(t){return(0,A.mG)(this,void 0,void 0,function(){var i,e,o,u,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:i=De(t),e=Ku(i),o=i.Fr.length>0?i.Fr[i.Fr.length-1].batchId:-1,p.label=1;case 1:if(!(Qu(m=i)&&m.Fr.length<10))return[3,7];p.label=2;case 2:return p.trys.push([2,4,,6]),[4,WO(i.localStore,o)];case 3:return null===(u=p.sent())?(0===i.Fr.length&&e.ir(),[3,7]):(o=u.batchId,function(m,v){m.Fr.push(v);var w=Ku(m);w.er()&&w.pr&&w.Er(v.mutations)}(i,u),[3,6]);case 4:return d=p.sent(),[4,eD(i,d)];case 5:return p.sent(),[3,6];case 6:return[3,1];case 7:return lR(i)&&dR(i),[2]}var m})})}function lR(t){return Qu(t)&&!Ku(t).tr()&&t.Fr.length>0}function dR(t){Ku(t).start()}function bk(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return Ku(t).Ar(),[2]})})}function wk(t){return(0,A.mG)(this,void 0,void 0,function(){var i,e,o;return(0,A.Jh)(this,function(d){for(i=Ku(t),e=0,o=t.Fr;e<o.length;e++)i.Er(o[e].mutations);return[2]})})}function Ck(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return o=t.Fr.shift(),u=Wu.from(o,i,e),[4,cR(t,function(){return t.remoteSyncer.applySuccessfulWrite(u)})];case 1:return d.sent(),[4,gp(t)];case 2:return d.sent(),[2]}})})}function Dk(t,i){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return i&&Ku(t).pr?[4,function(o,u){return(0,A.mG)(this,void 0,void 0,function(){var d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return AS(p=u.code)&&p!==re.ABORTED?(d=o.Fr.shift(),Ku(o).sr(),[4,cR(o,function(){return o.remoteSyncer.rejectFailedWrite(d.batchId,u)})]):[3,3];case 1:return m.sent(),[4,gp(o)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}(t,i)]:[3,2];case 1:e.sent(),e.label=2;case 2:return lR(t)&&dR(t),[2]}})})}function uA(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return e=De(t),i?(e.Or.delete(2),[4,P_(e)]):[3,2];case 1:return o.sent(),[3,5];case 2:return i?[3,4]:(e.Or.add(2),[4,pp(e)]);case 3:o.sent(),e.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function mp(t){var e,o,u,d,i=this;return t.Ur||(t.Ur=(e=t.datastore,o=t.asyncQueue,u={Ii:yk.bind(null,t),Ri:_k.bind(null,t),_r:vk.bind(null,t)},(d=De(e)).br(),new fk(o,d.Hi,d.credentials,d.R,u)),t.Mr.push(function(e){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(o){switch(o.label){case 0:return e?(t.Ur.sr(),aA(t)?sA(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:o.sent(),uR(t),o.label=3;case 3:return[2]}})})})),t.Ur}function Ku(t){var e,o,u,d,i=this;return t.Kr||(t.Kr=(e=t.datastore,o=t.asyncQueue,u={Ii:bk.bind(null,t),Ri:Dk.bind(null,t),Ir:wk.bind(null,t),Tr:Ck.bind(null,t)},(d=De(e)).br(),new hk(o,d.Hi,d.credentials,d.R,u)),t.Mr.push(function(e){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(o){switch(o.label){case 0:return e?(t.Kr.sr(),[4,gp(t)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:o.sent(),t.Fr.length>0&&(Ce("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),o.label=4;case 4:return[2]}})})})),t.Kr}var Ek=function(){function t(i,e,o,u,d){this.asyncQueue=i,this.timerId=e,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(p){})}return t.createAndSchedule=function(i,e,o,u,d){var p=new t(i,e,Date.now()+o,u,d);return p.start(o),p},t.prototype.start=function(i){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},i)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},t.prototype.handleDelayElapsed=function(){var i=this;this.asyncQueue.enqueueAndForget(function(){return null!==i.timerHandle?(i.clearTimeout(),i.op().then(function(e){return i.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function yp(t,i){if(on("AsyncQueue",i+": "+t),wa(t))return new ye(re.UNAVAILABLE,i+": "+t);throw t}var fR=function(){function t(i){this.comparator=i?function(e,o){return i(e,o)||Ue.comparator(e.key,o.key)}:function(e,o){return Ue.comparator(e.key,o.key)},this.keyedMap=p_(),this.sortedSet=new Er(this.comparator)}return t.emptySet=function(i){return new t(i.comparator)},t.prototype.has=function(i){return null!=this.keyedMap.get(i)},t.prototype.get=function(i){return this.keyedMap.get(i)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(i){var e=this.keyedMap.get(i);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(i){this.sortedSet.inorderTraversal(function(e,o){return i(e),!1})},t.prototype.add=function(i){var e=this.delete(i.key);return e.copy(e.keyedMap.insert(i.key,i),e.sortedSet.insert(i,null))},t.prototype.delete=function(i){var e=this.get(i);return e?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(i){if(!(i instanceof t)||this.size!==i.size)return!1;for(var e=this.sortedSet.getIterator(),o=i.sortedSet.getIterator();e.hasNext();){var u=e.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0},t.prototype.toString=function(){var i=[];return this.forEach(function(e){i.push(e.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},t.prototype.copy=function(i,e){var o=new t;return o.comparator=this.comparator,o.keyedMap=i,o.sortedSet=e,o},t}(),hR=function(){function t(){this.Qr=new Er(Ue.comparator)}return t.prototype.track=function(i){var e=i.doc.key,o=this.Qr.get(e);o?0!==i.type&&3===o.type?this.Qr=this.Qr.insert(e,i):3===i.type&&1!==o.type?this.Qr=this.Qr.insert(e,{type:o.type,doc:i.doc}):2===i.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:i.doc}):2===i.type&&0===o.type?this.Qr=this.Qr.insert(e,{type:0,doc:i.doc}):1===i.type&&0===o.type?this.Qr=this.Qr.remove(e):1===i.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:1,doc:o.doc}):0===i.type&&1===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:i.doc}):Le():this.Qr=this.Qr.insert(e,i)},t.prototype.jr=function(){var i=[];return this.Qr.inorderTraversal(function(e,o){i.push(o)}),i},t}(),tD=function(){function t(i,e,o,u,d,p,m,v){this.query=i,this.docs=e,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=m,this.excludesMetadataChanges=v}return t.fromInitialDocuments=function(i,e,o,u){var d=[];return e.forEach(function(p){d.push({type:0,doc:p})}),new t(i,e,fR.emptySet(e),d,o,u,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Ql(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;var e=this.docChanges,o=i.docChanges;if(e.length!==o.length)return!1;for(var u=0;u<e.length;u++)if(e[u].type!==o[u].type||!e[u].doc.isEqual(o[u].doc))return!1;return!0},t}(),Tk=function(){this.Wr=void 0,this.listeners=[]},Ik=function(){this.queries=new b(function(t){return mC(t)},Ql),this.onlineState="Unknown",this.Gr=new Set};function cA(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o,u,d,p,m,v;return(0,A.Jh)(this,function(w){switch(w.label){case 0:if(e=De(t),u=!1,(d=e.queries.get(o=i.query))||(u=!0,d=new Tk),!u)return[3,4];w.label=1;case 1:return w.trys.push([1,3,,4]),p=d,[4,e.onListen(o)];case 2:return p.Wr=w.sent(),[3,4];case 3:return m=w.sent(),v=yp(m,"Initialization of query '"+yC(i.query)+"' failed"),[2,void i.onError(v)];case 4:return e.queries.set(o,d),d.listeners.push(i),i.zr(e.onlineState),d.Wr&&i.Hr(d.Wr)&&dA(e),[2]}})})}function lA(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o,u,d,p;return(0,A.Jh)(this,function(m){return e=De(t),u=!1,(d=e.queries.get(o=i.query))&&(p=d.listeners.indexOf(i))>=0&&(d.listeners.splice(p,1),u=0===d.listeners.length),u?[2,(e.queries.delete(o),e.onUnlisten(o))]:[2]})})}function Nk(t,i){for(var e=De(t),o=!1,u=0,d=i;u<d.length;u++){var p=d[u],v=e.queries.get(p.query);if(v){for(var w=0,D=v.listeners;w<D.length;w++)D[w].Hr(p)&&(o=!0);v.Wr=p}}o&&dA(e)}function Sk(t,i,e){var o=De(t),u=o.queries.get(i);if(u)for(var d=0,p=u.listeners;d<p.length;d++)p[d].onError(e);o.queries.delete(i)}function dA(t){t.Gr.forEach(function(i){i.next()})}var fA=function(){function t(i,e,o){this.query=i,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return t.prototype.Hr=function(i){if(!this.options.includeMetadataChanges){for(var e=[],o=0,u=i.docChanges;o<u.length;o++){var d=u[o];3!==d.type&&e.push(d)}i=new tD(i.query,i.docs,i.oldDocs,e,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}var p=!1;return this.Yr?this.Zr(i)&&(this.Jr.next(i),p=!0):this.eo(i,this.onlineState)&&(this.no(i),p=!0),this.Xr=i,p},t.prototype.onError=function(i){this.Jr.error(i)},t.prototype.zr=function(i){this.onlineState=i;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,i)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(i,e){return!i.fromCache||!(this.options.so&&"Offline"!==e||i.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(i){i=tD.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Yr=!0,this.Jr.next(i)},t}(),Ak=function(){function t(i,e){this.payload=i,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),pR=function(){function t(i){this.R=i}return t.prototype.qn=function(i){return Co(this.R,i)},t.prototype.Un=function(i){return i.metadata.exists?kC(this.R,i.document,!1):zn.newNoDocument(this.qn(i.metadata.name),this.Kn(i.metadata.readTime))},t.prototype.Kn=function(i){return tr(i)},t}();!function(){function t(i,e,o){this.ro=i,this.localStore=e,this.R=o,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)}t.prototype.oo=function(i){this.progress.bytesLoaded+=i.byteLength;var e=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++e):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(i){for(var e=new Map,o=new pR(this.R),u=0,d=i;u<d.length;u++){var p=d[u];if(p.metadata.queries)for(var m=o.qn(p.metadata.name),v=0,w=p.metadata.queries;v<w.length;v++){var D=w[v],T=(e.get(D)||St()).add(m);e.set(D,T)}}return e},t.prototype.complete=function(){return(0,A.mG)(this,void 0,void 0,function(){var i,e,o,u,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return[4,QO(this.localStore,new pR(this.R),this.documents,this.ro.id)];case 1:i=p.sent(),e=this.co(this.documents),o=0,u=this.queries,p.label=2;case 2:return o<u.length?[4,KO(this.localStore,d=u[o],e.get(d.name))]:[3,5];case 3:p.sent(),p.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Pn(Object.assign({},this.progress),i))]}})})}}();var mR=function(t){this.key=t},yR=function(t){this.key=t},_R=function(){function t(i,e){this.query=i,this.uo=e,this.ao=null,this.current=!1,this.ho=St(),this.mutatedKeys=St(),this.lo=CS(i),this.fo=new fR(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(i,e){var o=this,u=e?e.mo:new hR,d=e?e.fo:this.fo,p=e?e.mutatedKeys:this.mutatedKeys,m=d,v=!1,w=Wl(this.query)&&d.size===this.query.limit?d.last():null,D=Jl(this.query)&&d.size===this.query.limit?d.first():null;if(i.inorderTraversal(function(I,M){var F=d.get(I),j=Kh(o.query,M)?M:null,ie=!!F&&o.mutatedKeys.has(F.key),de=!!j&&(j.hasLocalMutations||o.mutatedKeys.has(j.key)&&j.hasCommittedMutations),we=!1;F&&j?F.data.isEqual(j.data)?ie!==de&&(u.track({type:3,doc:j}),we=!0):o.yo(F,j)||(u.track({type:2,doc:j}),we=!0,(w&&o.lo(j,w)>0||D&&o.lo(j,D)<0)&&(v=!0)):!F&&j?(u.track({type:0,doc:j}),we=!0):F&&!j&&(u.track({type:1,doc:F}),we=!0,(w||D)&&(v=!0)),we&&(j?(m=m.add(j),p=de?p.add(I):p.delete(I)):(m=m.delete(I),p=p.delete(I)))}),Wl(this.query)||Jl(this.query))for(;m.size>this.query.limit;){var T=Wl(this.query)?m.last():m.first();m=m.delete(T.key),p=p.delete(T.key),u.track({type:1,doc:T})}return{fo:m,mo:u,Nn:v,mutatedKeys:p}},t.prototype.yo=function(i,e){return i.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(i,e,o){var u=this,d=this.fo;this.fo=i.fo,this.mutatedKeys=i.mutatedKeys;var p=i.mo.jr();p.sort(function(D,T){return M=T.type,(F=function(j){switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}})(D.type)-F(M)||u.lo(D.doc,T.doc);var M,F}),this.po(o);var m=e?this.Eo():[],v=0===this.ho.size&&this.current?1:0,w=v!==this.ao;return this.ao=v,0!==p.length||w?{snapshot:new tD(this.query,i.fo,d,p,i.mutatedKeys,0===v,w,!1),To:m}:{To:m}},t.prototype.zr=function(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({fo:this.fo,mo:new hR,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(i){return!this.uo.has(i)&&!!this.fo.has(i)&&!this.fo.get(i).hasLocalMutations},t.prototype.po=function(i){var e=this;i&&(i.addedDocuments.forEach(function(o){return e.uo=e.uo.add(o)}),i.modifiedDocuments.forEach(function(o){}),i.removedDocuments.forEach(function(o){return e.uo=e.uo.delete(o)}),this.current=i.current)},t.prototype.Eo=function(){var i=this;if(!this.current)return[];var e=this.ho;this.ho=St(),this.fo.forEach(function(u){i.Io(u.key)&&(i.ho=i.ho.add(u.key))});var o=[];return e.forEach(function(u){i.ho.has(u)||o.push(new yR(u))}),this.ho.forEach(function(u){e.has(u)||o.push(new mR(u))}),o},t.prototype.Ao=function(i){this.uo=i.Bn,this.ho=St();var e=this._o(i.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return tD.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),xk=function(t,i,e){this.query=t,this.targetId=i,this.view=e},Rk=function(t){this.key=t,this.bo=!1},Ok=function(){function t(i,e,o,u,d,p){this.localStore=i,this.remoteStore=e,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.vo={},this.Po=new b(function(m){return mC(m)},Ql),this.Vo=new Map,this.So=new Set,this.Do=new Er(Ue.comparator),this.Co=new Map,this.No=new XS,this.xo={},this.ko=new Map,this.Fo=x_.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function kk(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,u,d,p,m;return(0,A.Jh)(this,function(v){switch(v.label){case 0:return e=_A(t),(d=e.Po.get(i))?(e.sharedClientState.addLocalQueryTarget(d.targetId),u=d.view.Ro(),[3,4]):[3,1];case 1:return[4,fp(e.localStore,Br(i))];case 2:return p=v.sent(),m=e.sharedClientState.addLocalQueryTarget(p.targetId),[4,hA(e,i,p.targetId,"current"===m)];case 3:u=v.sent(),e.isPrimaryClient&&XC(e.remoteStore,p),v.label=4;case 4:return[2,u]}})})}function hA(t,i,e,o){return(0,A.mG)(this,void 0,void 0,function(){var u,d,p,m,v,w;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return t.Oo=function(T,I,M){return function(F,j,ie,de){return(0,A.mG)(this,void 0,void 0,function(){var we,Ee,ze;return(0,A.Jh)(this,function(Oe){switch(Oe.label){case 0:return(we=j.view._o(ie)).Nn?[4,QC(F.localStore,j.query,!1).then(function(wt){return j.view._o(wt.documents,we)})]:[3,2];case 1:we=Oe.sent(),Oe.label=2;case 2:return Ee=de&&de.targetChanges.get(j.targetId),ze=j.view.applyChanges(we,F.isPrimaryClient,Ee),[2,(mA(F,j.targetId,ze.To),ze.snapshot)]}})})}(t,T,I,M)},[4,QC(t.localStore,i,!0)];case 1:return u=D.sent(),d=new _R(i,u.Bn),p=d._o(u.documents),m=m_.createSynthesizedTargetChangeForCurrentChange(e,o&&"Offline"!==t.onlineState),v=d.applyChanges(p,t.isPrimaryClient,m),mA(t,e,v.To),w=new xk(i,e,d),[2,(t.Po.set(i,w),t.Vo.has(e)?t.Vo.get(e).push(i):t.Vo.set(e,[i]),v.snapshot)]}})})}function Pk(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return e=De(t),o=e.Po.get(i),(u=e.Vo.get(o.targetId)).length>1?[2,(e.Vo.set(o.targetId,u.filter(function(p){return!Ql(p,i)})),void e.Po.delete(i))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(o.targetId),e.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,hp(e.localStore,o.targetId,!1).then(function(){e.sharedClientState.clearQueryState(o.targetId),F_(e.remoteStore,o.targetId),_p(e,o.targetId)}).catch(a)]):[3,3];case 1:d.sent(),d.label=2;case 2:return[3,5];case 3:return _p(e,o.targetId),[4,hp(e.localStore,o.targetId,!0)];case 4:d.sent(),d.label=5;case 5:return[2]}})})}function Fk(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o,u,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:o=vA(t),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,(v=o.localStore,w=i,T=De(v),I=er.now(),M=w.reduce(function(F,j){return F.add(j.key)},St()),T.persistence.runTransaction("Locally write mutations","readwrite",function(F){return T.Mn.pn(F,M).next(function(j){D=j;for(var ie=[],de=0,we=w;de<we.length;de++){var Ee=we[de],ze=f_(Ee,D.get(Ee.key));null!=ze&&ie.push(new wo(Ee.key,ze,o_(ze.value.mapValue),mr.exists(!0)))}return T._n.addMutationBatch(F,I,ie,w)})}).then(function(F){return F.applyToLocalDocumentSet(D),{batchId:F.batchId,changes:D}}))];case 2:return u=m.sent(),o.sharedClientState.addPendingMutation(u.batchId),function(v,w,D){var T=v.xo[v.currentUser.toKey()];T||(T=new Er(pt)),T=T.insert(w,D),v.xo[v.currentUser.toKey()]=T}(o,u.batchId,e),[4,Ra(o,u.changes)];case 3:return m.sent(),[4,gp(o.remoteStore)];case 4:return m.sent(),[3,6];case 5:return d=m.sent(),p=yp(d,"Failed to persist write"),e.reject(p),[3,6];case 6:return[2]}var v,w,D,T,I,M})})}function vR(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o;return(0,A.Jh)(this,function(u){switch(u.label){case 0:e=De(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,O_(e.localStore,i)];case 2:return o=u.sent(),i.targetChanges.forEach(function(d,p){var m=e.Co.get(p);m&&(Je(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?m.bo=!0:d.modifiedDocuments.size>0?Je(m.bo):d.removedDocuments.size>0&&(Je(m.bo),m.bo=!1))}),[4,Ra(e,o,i)];case 3:return u.sent(),[3,6];case 4:return[4,a(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function bR(t,i,e){var o=De(t);if(o.isPrimaryClient&&0===e||!o.isPrimaryClient&&1===e){var u=[];o.Po.forEach(function(d,p){var m=p.view.zr(i);m.snapshot&&u.push(m.snapshot)}),function(d,p){var m=De(d);m.onlineState=p;var v=!1;m.queries.forEach(function(w,D){for(var T=0,I=D.listeners;T<I.length;T++)I[T].zr(p)&&(v=!0)}),v&&dA(m)}(o.eventManager,i),u.length&&o.vo._r(u),o.onlineState=i,o.isPrimaryClient&&o.sharedClientState.setOnlineState(i)}}function Lk(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o,u,d,p,m,v;return(0,A.Jh)(this,function(w){switch(w.label){case 0:return(o=De(t)).sharedClientState.updateQueryState(i,"rejected",e),u=o.Co.get(i),(d=u&&u.key)?(p=(p=new Er(Ue.comparator)).insert(d,zn.newNoDocument(d,ct.min())),m=St().add(d),v=new g_(ct.min(),new Map,new On(pt),p,m),[4,vR(o,v)]):[3,2];case 1:return w.sent(),o.Do=o.Do.remove(d),o.Co.delete(i),yA(o),[3,4];case 2:return[4,hp(o.localStore,i,!1).then(function(){return _p(o,i,e)}).catch(a)];case 3:w.sent(),w.label=4;case 4:return[2]}})})}function Vk(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:e=De(t),o=i.batch.batchId,d.label=1;case 1:return d.trys.push([1,4,,6]),[4,R_(e.localStore,i)];case 2:return u=d.sent(),gA(e,o,null),pA(e,o),e.sharedClientState.updateMutationState(o,"acknowledged"),[4,Ra(e,u)];case 3:return d.sent(),[3,6];case 4:return[4,a(d.sent())];case 5:return d.sent(),[3,6];case 6:return[2]}})})}function Bk(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:o=De(t),d.label=1;case 1:return d.trys.push([1,4,,6]),[4,(p=o.localStore,m=i,v=De(p),v.persistence.runTransaction("Reject batch","readwrite-primary",function(w){var D;return v._n.lookupMutationBatch(w,m).next(function(T){return Je(null!==T),D=T.keys(),v._n.removeMutationBatch(w,T)}).next(function(){return v._n.performConsistencyCheck(w)}).next(function(){return v.Mn.pn(w,D)})}))];case 2:return u=d.sent(),gA(o,i,e),pA(o,i),o.sharedClientState.updateMutationState(i,"rejected",e),[4,Ra(o,u)];case 3:return d.sent(),[3,6];case 4:return[4,a(d.sent())];case 5:return d.sent(),[3,6];case 6:return[2]}var p,m,v})})}function Uk(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o,u,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:Qu((e=De(t)).remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,(v=e.localStore,w=De(v),w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(D){return w._n.getHighestUnacknowledgedBatchId(D)}))];case 2:return-1===(o=m.sent())?[2,void i.resolve()]:((u=e.ko.get(o)||[]).push(i),e.ko.set(o,u),[3,4]);case 3:return d=m.sent(),p=yp(d,"Initialization of waitForPendingWrites() operation failed"),i.reject(p),[3,4];case 4:return[2]}var v,w})})}function pA(t,i){(t.ko.get(i)||[]).forEach(function(e){e.resolve()}),t.ko.delete(i)}function gA(t,i,e){var o=De(t),u=o.xo[o.currentUser.toKey()];if(u){var d=u.get(i);d&&(e?d.reject(e):d.resolve(),u=u.remove(i)),o.xo[o.currentUser.toKey()]=u}}function _p(t,i,e){void 0===e&&(e=null),t.sharedClientState.removeLocalQueryTarget(i);for(var o=0,u=t.Vo.get(i);o<u.length;o++){var d=u[o];t.Po.delete(d),e&&t.vo.Mo(d,e)}t.Vo.delete(i),t.isPrimaryClient&&t.No.Zn(i).forEach(function(p){t.No.containsKey(p)||wR(t,p)})}function wR(t,i){t.So.delete(i.path.canonicalString());var e=t.Do.get(i);null!==e&&(F_(t.remoteStore,e),t.Do=t.Do.remove(i),t.Co.delete(e),yA(t))}function mA(t,i,e){for(var o=0,u=e;o<u.length;o++){var d=u[o];d instanceof mR?(t.No.addReference(d.key,i),jk(t,d)):d instanceof yR?(Ce("SyncEngine","Document no longer in limbo: "+d.key),t.No.removeReference(d.key,i),t.No.containsKey(d.key)||wR(t,d.key)):Le()}}function jk(t,i){var e=i.key,o=e.path.canonicalString();t.Do.get(e)||t.So.has(o)||(Ce("SyncEngine","New document in limbo: "+e),t.So.add(o),yA(t))}function yA(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var i=t.So.values().next().value;t.So.delete(i);var e=new Ue(Et.fromString(i)),o=t.Fo.next();t.Co.set(o,new Rk(e)),t.Do=t.Do.insert(e,o),XC(t.remoteStore,new Da(Br(Zl(e.path)),o,2,bi.o))}}function Ra(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o,u,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return o=De(t),u=[],d=[],p=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(v,w){p.push(o.Oo(w,i,e).then(function(D){if(D){o.isPrimaryClient&&o.sharedClientState.updateQueryState(w.targetId,D.fromCache?"not-current":"current"),u.push(D);var T=sd.Pn(w.targetId,D);d.push(T)}}))}),[4,Promise.all(p)]);case 1:return m.sent(),o.vo._r(u),[4,function(v,w){return(0,A.mG)(this,void 0,void 0,function(){var D,T,I,M,F,j,ie,we;return(0,A.Jh)(this,function(Ee){switch(Ee.label){case 0:D=De(v),Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),[4,D.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(ze){return be.forEach(w,function(Oe){return be.forEach(Oe.bn,function(wt){return D.persistence.referenceDelegate.addReference(ze,Oe.targetId,wt)}).next(function(){return be.forEach(Oe.vn,function(wt){return D.persistence.referenceDelegate.removeReference(ze,Oe.targetId,wt)})})})})];case 2:return Ee.sent(),[3,4];case 3:if(!wa(T=Ee.sent()))throw T;return Ce("LocalStore","Failed to update sequence numbers: "+T),[3,4];case 4:for(I=0,M=w;I<M.length;I++)j=(F=M[I]).targetId,F.fromCache||(ie=D.kn.get(j),we=ie.withLastLimboFreeSnapshotVersion(ie.snapshotVersion),D.kn=D.kn.insert(j,we));return[2]}})})}(o.localStore,d)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}function Hk(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o;return(0,A.Jh)(this,function(u){switch(u.label){case 0:return(e=De(t)).currentUser.isEqual(i)?[3,3]:(Ce("SyncEngine","User change. New user:",i.toKey()),[4,cp(e.localStore,i)]);case 1:return o=u.sent(),e.currentUser=i,(d=e).ko.forEach(function(m){m.forEach(function(v){v.reject(new ye(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ko.clear(),e.sharedClientState.handleUserChange(i,o.removedBatchIds,o.addedBatchIds),[4,Ra(e,o.Ln)];case 2:u.sent(),u.label=3;case 3:return[2]}var d})})}function Gk(t,i){var e=De(t),o=e.Co.get(i);if(o&&o.bo)return St().add(o.key);var u=St(),d=e.Vo.get(i);if(!d)return u;for(var p=0,m=d;p<m.length;p++){var w=e.Po.get(m[p]);u=u.unionWith(w.view.wo)}return u}function $k(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,QC((e=De(t)).localStore,i.query,!0)];case 1:return o=d.sent(),u=i.view.Ao(o),[2,(e.isPrimaryClient&&mA(e,i.targetId,u.To),u)]}})})}function qk(t){return(0,A.mG)(this,void 0,void 0,function(){var i;return(0,A.Jh)(this,function(e){return[2,Kx((i=De(t)).localStore).then(function(o){return Ra(i,o)})]})})}function Yk(t,i,e,o){return(0,A.mG)(this,void 0,void 0,function(){var u,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return[4,(m=(u=De(t)).localStore,v=i,w=De(m),D=De(w._n),w.persistence.runTransaction("Lookup mutation documents","readonly",function(T){return D.jt(T,v).next(function(I){return I?w.Mn.pn(T,I):be.resolve(null)})}))];case 1:return null===(d=p.sent())?[3,6]:"pending"!==e?[3,3]:[4,gp(u.remoteStore)];case 2:return p.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(gA(u,i,o||null),pA(u,i),function(m,v){De(De(m)._n).Gt(v)}(u.localStore,i)):Le(),p.label=4;case 4:return[4,Ra(u,d)];case 5:return p.sent(),[3,7];case 6:Ce("SyncEngine","Cannot apply mutation batch with id: "+i),p.label=7;case 7:return[2]}var m,v,w,D})})}function zk(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o,u,d,p,v,w;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return _A(e=De(t)),vA(e),!0!==i||!0===e.$o?[3,3]:(o=e.sharedClientState.getAllActiveQueryTargets(),[4,CR(e,o.toArray())]);case 1:return u=D.sent(),e.$o=!0,[4,uA(e.remoteStore,!0)];case 2:for(D.sent(),d=0,p=u;d<p.length;d++)XC(e.remoteStore,p[d]);return[3,7];case 3:return!1!==i||!1===e.$o?[3,7]:(v=[],w=Promise.resolve(),e.Vo.forEach(function(T,I){e.sharedClientState.isLocalQueryTarget(I)?v.push(I):w=w.then(function(){return _p(e,I),hp(e.localStore,I,!0)}),F_(e.remoteStore,I)}),[4,w]);case 4:return D.sent(),[4,CR(e,v)];case 5:return D.sent(),(I=De(e)).Co.forEach(function(M,F){F_(I.remoteStore,F)}),I.No.ts(),I.Co=new Map,I.Do=new Er(Ue.comparator),e.$o=!1,[4,uA(e.remoteStore,!1)];case 6:D.sent(),D.label=7;case 7:return[2]}var I})})}function CR(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o,u,d,p,m,v,w,D,T,I,F,j,ie;return(0,A.Jh)(this,function(de){switch(de.label){case 0:o=De(t),u=[],d=[],p=0,m=i,de.label=1;case 1:return p<m.length?(w=void 0,(D=o.Vo.get(v=m[p]))&&0!==D.length?[4,fp(o.localStore,Br(D[0]))]:[3,7]):[3,13];case 2:w=de.sent(),T=0,I=D,de.label=3;case 3:return T<I.length?(F=o.Po.get(I[T]),[4,$k(o,F)]):[3,6];case 4:(j=de.sent()).snapshot&&d.push(j.snapshot),de.label=5;case 5:return T++,[3,3];case 6:return[3,11];case 7:return[4,Qx(o.localStore,v)];case 8:return ie=de.sent(),[4,fp(o.localStore,ie)];case 9:return w=de.sent(),[4,hA(o,DR(ie),v,!1)];case 10:de.sent(),de.label=11;case 11:u.push(w),de.label=12;case 12:return p++,[3,1];case 13:return[2,(o.vo._r(d),u)]}})})}function DR(t){return gC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Zk(t){var i=De(t);return De(De(i.localStore).persistence).fn()}function Wk(t,i,e,o){return(0,A.mG)(this,void 0,void 0,function(){var u,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return(u=De(t)).$o?(Ce("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!u.Vo.has(i))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Kx(u.localStore)];case 3:return d=m.sent(),p=g_.createSynthesizedRemoteEventForCurrentChange(i,"current"===e),[4,Ra(u,d,p)];case 4:return m.sent(),[3,8];case 5:return[4,hp(u.localStore,i,!0)];case 6:return m.sent(),_p(u,i,o),[3,8];case 7:Le(),m.label=8;case 8:return[2]}})})}function Jk(t,i,e){return(0,A.mG)(this,void 0,void 0,function(){var o,u,d,p,m,v,w,D,T;return(0,A.Jh)(this,function(M){switch(M.label){case 0:if(!(o=_A(t)).$o)return[3,10];u=0,d=i,M.label=1;case 1:return u<d.length?o.Vo.has(p=d[u])?(Ce("SyncEngine","Adding an already active target "+p),[3,5]):[4,Qx(o.localStore,p)]:[3,6];case 2:return m=M.sent(),[4,fp(o.localStore,m)];case 3:return v=M.sent(),[4,hA(o,DR(m),v.targetId,!1)];case 4:M.sent(),XC(o.remoteStore,v),M.label=5;case 5:return u++,[3,1];case 6:w=function(F){return(0,A.Jh)(this,function(j){switch(j.label){case 0:return o.Vo.has(F)?[4,hp(o.localStore,F,!1).then(function(){F_(o.remoteStore,F),_p(o,F)}).catch(a)]:[3,2];case 1:j.sent(),j.label=2;case 2:return[2]}})},D=0,T=e,M.label=7;case 7:return D<T.length?[5,w(T[D])]:[3,10];case 8:M.sent(),M.label=9;case 9:return D++,[3,7];case 10:return[2]}})})}function _A(t){var i=De(t);return i.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gk.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Lk.bind(null,i),i.vo._r=Nk.bind(null,i.eventManager),i.vo.Mo=Sk.bind(null,i.eventManager),i}function vA(t){var i=De(t);return i.remoteStore.remoteSyncer.applySuccessfulWrite=Vk.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=Bk.bind(null,i),i}var ER=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(i){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return this.R=k_(i.databaseInfo.databaseId),this.sharedClientState=this.Bo(i),this.persistence=this.qo(i),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(i),this.localStore=this.Ko(i),[2]}})})},t.prototype.Uo=function(i){return null},t.prototype.Ko=function(i){return xa(this.persistence,new Ma,i.initialUser,this.R)},t.prototype.qo=function(i){return new ik(sk.bs,this.R)},t.prototype.Bo=function(i){return new rR},t.prototype.terminate=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){switch(i.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return i.sent(),[4,this.persistence.shutdown()];case 2:return i.sent(),[2]}})})},t}(),TR=function(t){function i(e,o,u){var d=this;return(d=t.call(this)||this).Qo=e,d.cacheSizeBytes=o,d.forceOwnership=u,d.synchronizeTabs=!1,d}return(0,A.ZT)(i,t),i.prototype.initialize=function(e){return(0,A.mG)(this,void 0,void 0,function(){var o=this;return(0,A.Jh)(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return u.sent(),[4,JO(this.localStore)];case 2:return u.sent(),[4,this.Qo.initialize(this,e)];case 3:return u.sent(),[4,vA(this.Qo.syncEngine)];case 4:return u.sent(),[4,gp(this.Qo.remoteStore)];case 5:return u.sent(),[4,this.persistence.He(function(){return o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()})];case 6:return u.sent(),[2]}})})},i.prototype.Ko=function(e){return xa(this.persistence,new Ma,e.initialUser,this.R)},i.prototype.Uo=function(e){return new h(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},i.prototype.qo=function(e){var o=dt(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?$o.withCacheSize(this.cacheSizeBytes):$o.DEFAULT;return new ue(this.synchronizeTabs,o,e.clientId,u,e.asyncQueue,oR(),KC(),this.R,this.sharedClientState,!!this.forceOwnership)},i.prototype.Bo=function(e){return new rR},i}(ER),Kk=function(t){function i(e,o){var u=this;return(u=t.call(this,e,o,!1)||this).Qo=e,u.cacheSizeBytes=o,u.synchronizeTabs=!0,u}return(0,A.ZT)(i,t),i.prototype.initialize=function(e){return(0,A.mG)(this,void 0,void 0,function(){var o,u=this;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return d.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof rA?(this.sharedClientState.syncEngine={ui:Yk.bind(null,o),ai:Wk.bind(null,o),hi:Jk.bind(null,o),fn:Zk.bind(null,o),ci:qk.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:d.sent(),d.label=3;case 3:return[4,this.persistence.He(function(p){return(0,A.mG)(u,void 0,void 0,function(){return(0,A.Jh)(this,function(m){switch(m.label){case 0:return[4,zk(this.Qo.syncEngine,p)];case 1:return m.sent(),this.gcScheduler&&(p&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):p||this.gcScheduler.stop()),[2]}})})})];case 4:return d.sent(),[2]}})})},i.prototype.Bo=function(e){var o=oR();if(!rA.yt(o))throw new ye(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var u=dt(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rA(o,e.asyncQueue,u,e.clientId,e.initialUser)},i}(TR),bA=function(){function t(){}return t.prototype.initialize=function(i,e){return(0,A.mG)(this,void 0,void 0,function(){var o=this;return(0,A.Jh)(this,function(u){switch(u.label){case 0:return this.localStore?[3,2]:(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(d){return bR(o.syncEngine,d,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Hk.bind(null,this.syncEngine),[4,uA(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:u.sent(),u.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(i){return new Ik},t.prototype.createDatastore=function(i){var o=k_(i.databaseInfo.databaseId),u=new dk(i.databaseInfo);return new pk(i.credentials,u,o)},t.prototype.createRemoteStore=function(i){var e,o,u,d,p,m=this;return e=this.localStore,o=this.datastore,u=i.asyncQueue,d=function(v){return bR(m.syncEngine,v,0)},p=iR.yt()?new iR:new uk,new mk(e,o,u,d,p)},t.prototype.createSyncEngine=function(i,e){return w=e,D=new Ok(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions),w&&(D.$o=!0),D;var w,D},t.prototype.terminate=function(){return function(i){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return e=De(i),Ce("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,pp(e)];case 1:return o.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),nD=function(){function t(i){this.observer=i,this.muted=!1}return t.prototype.next=function(i){this.observer.next&&this.jo(this.observer.next,i)},t.prototype.error=function(i){this.observer.error?this.jo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(i,e){var o=this;this.muted||setTimeout(function(){o.muted||i(e)},0)},t}(),eP=(function(){function t(i,e){var o=this;this.Go=i,this.R=e,this.metadata=new wn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(u){u&&u.io()?o.metadata.resolve(u.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==u?void 0:u.payload)))},function(u){return o.metadata.reject(u)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getMetadata()];case 1:return[2,(i.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,A.mG)(this,void 0,void 0,function(){var i,e,o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,this.Jo()];case 1:return null===(i=d.sent())?[2,null]:(e=this.zo.decode(i),o=Number(e),isNaN(o)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(o)]);case 2:return u=d.sent(),[2,new Ak(JSON.parse(u),i.length+o)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(i){return i==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,A.mG)(this,void 0,void 0,function(){var i,e;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((i=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,i),[2,(this.buffer=this.buffer.slice(i),e)])}})})},t.prototype.Xo=function(i){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<i?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,i)),[2,(this.buffer=this.buffer.slice(i),e)]}})})},t.prototype.Yo=function(i){throw this.Go.cancel(),new Error("Invalid bundle format: "+i)},t.prototype.tc=function(){return(0,A.mG)(this,void 0,void 0,function(){var i,e;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(i=o.sent()).done||((e=new Uint8Array(this.buffer.length+i.value.length)).set(this.buffer),e.set(i.value,this.buffer.length),this.buffer=e),[2,i.done]}})})}}(),function(){function t(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(i){return(0,A.mG)(this,void 0,void 0,function(){var e,o=this;return(0,A.Jh)(this,function(u){switch(u.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ye(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(d,p){return(0,A.mG)(this,void 0,void 0,function(){var m,v,w,D,T,I;return(0,A.Jh)(this,function(M){switch(M.label){case 0:return m=De(d),v=ip(m.R)+"/documents",w={documents:p.map(function(F){return ya(m.R,F)})},[4,m.$i("BatchGetDocuments",v,w)];case 1:return D=M.sent(),T=new Map,D.forEach(function(F){var ie,de,j=(ie=m.R,"found"in(de=F)?function(we,Ee){Je(!!Ee.found);var ze=Co(we,Ee.found.name),Oe=tr(Ee.found.updateTime),wt=new ei({mapValue:{fields:Ee.found.fields}});return zn.newFoundDocument(ze,Oe,wt)}(ie,de):"missing"in de?function(we,Ee){Je(!!Ee.missing),Je(!!Ee.readTime);var ze=Co(we,Ee.missing),Oe=tr(Ee.readTime);return zn.newNoDocument(ze,Oe)}(ie,de):Le());T.set(j.key.toString(),j)}),I=[],[2,(p.forEach(function(F){var j=T.get(F.toString());Je(!!j),I.push(j)}),I)]}})})}(this.datastore,i)];case 1:return[2,((e=u.sent()).forEach(function(d){return o.recordVersion(d)}),e)]}})})},t.prototype.set=function(i,e){this.write(e.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())},t.prototype.update=function(i,e){try{this.write(e.toMutation(i,this.preconditionForUpdate(i)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(i.toString())},t.prototype.delete=function(i){this.write(new tp(i,this.precondition(i))),this.writtenDocs.add(i.toString())},t.prototype.commit=function(){return(0,A.mG)(this,void 0,void 0,function(){var i,e=this;return(0,A.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return i=this.readVersions,this.mutations.forEach(function(u){i.delete(u.key.toString())}),i.forEach(function(u,d){var p=Ue.fromPath(d);e.mutations.push(new qu(p,e.precondition(p)))}),[4,function(u,d){return(0,A.mG)(this,void 0,void 0,function(){var p,m,v;return(0,A.Jh)(this,function(w){switch(w.label){case 0:return p=De(u),m=ip(p.R)+"/documents",v={writes:d.map(function(D){return jr(p.R,D)})},[4,p.Ni("Commit",m,v)];case 1:return w.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(i){var e;if(i.isFoundDocument())e=i.version;else{if(!i.isNoDocument())throw Le();e=ct.min()}var o=this.readVersions.get(i.key.toString());if(o){if(!e.isEqual(o))throw new ye(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),e)},t.prototype.precondition=function(i){var e=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&e?mr.updateTime(e):mr.none()},t.prototype.preconditionForUpdate=function(i){var e=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&e){if(e.isEqual(ct.min()))throw new ye(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mr.updateTime(e)}return mr.exists(!0)},t.prototype.write=function(i){this.ensureCommitNotCalled(),this.mutations.push(i)},t.prototype.ensureCommitNotCalled=function(){},t}()),tP=function(){function t(i,e,o,u){this.asyncQueue=i,this.datastore=e,this.updateFunction=o,this.deferred=u,this.ec=5,this.Zi=new iA(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var i=this;this.Zi.ji(function(){return(0,A.mG)(i,void 0,void 0,function(){var e,o,u=this;return(0,A.Jh)(this,function(d){return e=new eP(this.datastore),(o=this.sc(e))&&o.then(function(p){u.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){u.deferred.resolve(p)}).catch(function(m){u.ic(m)})})}).catch(function(p){u.ic(p)}),[2]})})})},t.prototype.sc=function(i){try{var e=this.updateFunction(i);return!ha(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},t.prototype.ic=function(i){var e=this;this.ec>0&&this.rc(i)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(i)},t.prototype.rc=function(i){if("FirebaseError"===i.name){var e=i.code;return"aborted"===e||"failed-precondition"===e||!AS(e)}return!1},t}(),nP=function(){function t(i,e,o){var u=this;this.credentials=i,this.asyncQueue=e,this.databaseInfo=o,this.user=Tr.UNAUTHENTICATED,this.clientId=Ky.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(d){return(0,A.mG)(u,void 0,void 0,function(){return(0,A.Jh)(this,function(p){switch(p.label){case 0:return Ce("FirestoreClient","Received user=",d.uid),[4,this.credentialListener(d)];case 1:return p.sent(),this.user=d,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(i){this.credentialListener=i},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var i=this;this.asyncQueue.enterRestrictedMode();var e=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,A.mG)(i,void 0,void 0,function(){var o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:d.sent(),d.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:d.sent(),d.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return o=d.sent(),u=yp(o,"Failed to shutdown persistence"),e.reject(u),[3,6];case 6:return[2]}})})}),e.promise},t}();function NR(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o,u=this;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return e=d.sent(),[4,i.initialize(e)];case 2:return d.sent(),o=e.initialUser,t.setCredentialChangeListener(function(p){return(0,A.mG)(u,void 0,void 0,function(){return(0,A.Jh)(this,function(m){switch(m.label){case 0:return o.isEqual(p)?[3,2]:[4,cp(i.localStore,p)];case 1:m.sent(),o=p,m.label=2;case 2:return[2]}})})}),i.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=i,[2]}})})}function SR(t,i){return(0,A.mG)(this,void 0,void 0,function(){var e,o;return(0,A.Jh)(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,wA(t)];case 1:return e=u.sent(),Ce("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return o=u.sent(),[4,i.initialize(e,o)];case 3:return u.sent(),t.setCredentialChangeListener(function(d){return function(p,m){return(0,A.mG)(this,void 0,void 0,function(){var v,w;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return(v=De(p)).asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials"),w=Qu(v),v.Or.add(3),[4,pp(v)];case 1:return D.sent(),w&&v.Br.set("Unknown"),[4,v.remoteSyncer.handleCredentialChange(m)];case 2:return D.sent(),v.Or.delete(3),[4,P_(v)];case 3:return D.sent(),[2]}})})}(i.remoteStore,d)}),t.onlineComponents=i,[2]}})})}function wA(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){switch(i.label){case 0:return t.offlineComponents?[3,2]:(Ce("FirestoreClient","Using default OfflineComponentProvider"),[4,NR(t,new ER)]);case 1:i.sent(),i.label=2;case 2:return[2,t.offlineComponents]}})})}function rD(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){switch(i.label){case 0:return t.onlineComponents?[3,2]:(Ce("FirestoreClient","Using default OnlineComponentProvider"),[4,SR(t,new bA)]);case 1:i.sent(),i.label=2;case 2:return[2,t.onlineComponents]}})})}function AR(t){return wA(t).then(function(i){return i.persistence})}function CA(t){return wA(t).then(function(i){return i.localStore})}function MR(t){return rD(t).then(function(i){return i.remoteStore})}function DA(t){return rD(t).then(function(i){return i.syncEngine})}function vp(t){return(0,A.mG)(this,void 0,void 0,function(){var i,e;return(0,A.Jh)(this,function(o){switch(o.label){case 0:return[4,rD(t)];case 1:return i=o.sent(),[2,((e=i.eventManager).onListen=kk.bind(null,i.syncEngine),e.onUnlisten=Pk.bind(null,i.syncEngine),e)]}})})}function xR(t,i,e){var o=this;void 0===e&&(e={});var u=new wn;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(o,void 0,void 0,function(){var d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return d=function(m,v,w,D,T){var I=new nD({next:function(F){v.enqueueAndForget(function(){return lA(m,M)});var j=F.docs.has(w);!j&&F.fromCache?T.reject(new ye(re.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&F.fromCache&&D&&"server"===D.source?T.reject(new ye(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(F)},error:function(F){return T.reject(F)}}),M=new fA(Zl(w.path),I,{includeMetadataChanges:!0,so:!0});return cA(m,M)},[4,vp(t)];case 1:return[2,d.apply(void 0,[p.sent(),t.asyncQueue,i,e,u])]}})})}),u.promise}function RR(t,i,e){var o=this;void 0===e&&(e={});var u=new wn;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(o,void 0,void 0,function(){var d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return d=function(m,v,w,D,T){var I=new nD({next:function(F){v.enqueueAndForget(function(){return lA(m,M)}),F.fromCache&&"server"===D.source?T.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(F)},error:function(F){return T.reject(F)}}),M=new fA(w,I,{includeMetadataChanges:!0,so:!0});return cA(m,M)},[4,vp(t)];case 1:return[2,d.apply(void 0,[p.sent(),t.asyncQueue,i,e,u])]}})})}),u.promise}var rP=function(t,i,e,o,u,d,p,m){this.databaseId=t,this.appId=i,this.persistenceKey=e,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=m},iD=function(){function t(i,e){this.projectId=i,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return i instanceof t&&i.projectId===this.projectId&&i.database===this.database},t}(),OR=new Map,kR=function(t,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},PR=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(i,e){this.changeListener=e,i.enqueueRetryable(function(){return e(Tr.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),iP=function(){function t(i){this.token=i,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(i,e){var o=this;this.changeListener=e,i.enqueueRetryable(function(){return e(o.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),oP=function(){function t(i){var e=this;this.currentUser=Tr.UNAUTHENTICATED,this.oc=new wn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var o=function(u){Ce("FirebaseCredentialsProvider","Auth detected"),e.auth=u,e.auth.addAuthTokenListener(e.uc)};i.onInit(function(u){return o(u)}),setTimeout(function(){if(!e.auth){var u=i.getImmediate({optional:!0});u?o(u):(Ce("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var i=this,e=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(u){return i.cc!==e?(Ce("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):u?(Je("string"==typeof u.accessToken),new kR(u.accessToken,i.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(i,e){var o=this;this.asyncQueue=i,this.asyncQueue.enqueueRetryable(function(){return(0,A.mG)(o,void 0,void 0,function(){return(0,A.Jh)(this,function(u){switch(u.label){case 0:return[4,this.oc.promise];case 1:return u.sent(),[4,e(this.currentUser)];case 2:return u.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var i=this.auth&&this.auth.getUid();return Je(null===i||"string"==typeof i),new Tr(i)},t}(),sP=function(){function t(i,e,o){this.hc=i,this.lc=e,this.fc=o,this.type="FirstParty",this.user=Tr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var i={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(i.Authorization=e),this.fc&&(i["X-Goog-Iam-Authorization-Token"]=this.fc),i},enumerable:!1,configurable:!0}),t}(),aP=function(){function t(i,e,o){this.hc=i,this.lc=e,this.fc=o}return t.prototype.getToken=function(){return Promise.resolve(new sP(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(i,e){i.enqueueRetryable(function(){return e(Tr.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function EA(t,i,e){if(!e)throw new ye(re.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+i+".")}function TA(t,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new ye(re.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return i}function FR(t,i,e,o){if(!0===i&&!0===o)throw new ye(re.INVALID_ARGUMENT,t+" and "+e+" cannot be used together.")}function LR(t){if(!Ue.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function VR(t){if(Ue.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function oD(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var i=function(e){if(e.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(o&&o.length>1)return o[1]}return null}(t);return i?"a custom "+i+" object":"an object"}return"function"==typeof t?"a function":Le()}function It(t,i){if("_delegate"in t&&(t=t._delegate),!(t instanceof i)){if(i.name===t.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=oD(t);throw new ye(re.INVALID_ARGUMENT,"Expected type '"+i.name+"', but it was: "+e)}return t}function BR(t,i){if(i<=0)throw new ye(re.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+i+".")}var UR=function(){function t(i){var e;if(void 0===i.host){if(void 0!==i.ssl)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(e=i.ssl)||void 0===e||e;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,FR("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams},t}(),L_=function(){function t(i,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UR({}),this._settingsFrozen=!1,i instanceof iD?(this._databaseId=i,this._credentials=new PR):(this._app=i,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iD(o.options.projectId)}(i),this._credentials=new oP(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(i){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UR(i),void 0!==i.credentials&&(this._credentials=function(e){if(!e)return new PR;switch(e.type){case"gapi":var o=e.client;return Je(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new aP(o,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ye(re.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(e=OR.get(this))&&(Ce("ComponentProvider","Removing Datastore"),OR.delete(this),e.terminate()),Promise.resolve();var e},t}(),fn=function(){function t(i,e,o){this.converter=e,this._key=o,this.type="document",this.firestore=i}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xu(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(i){return new t(this.firestore,i,this._key)},t}(),Ci=function(){function t(i,e,o){this.converter=e,this._query=o,this.type="query",this.firestore=i}return t.prototype.withConverter=function(i){return new t(this.firestore,i,this._query)},t}(),Xu=function(t){function i(e,o,u){var d=this;return(d=t.call(this,e,o,Zl(u))||this)._path=u,d.type="collection",d}return(0,A.ZT)(i,t),Object.defineProperty(i.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Ue(e))},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(e){return new i(this.firestore,e,this._path)},i}(Ci);function jR(t,i){for(var e,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];if(t=(0,Tt.m9)(t),EA("collection","path",i),t instanceof L_)return VR(e=Et.fromString.apply(Et,(0,A.ev)([i],o))),new Xu(t,null,e);if(!(t instanceof fn||t instanceof Xu))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return VR(e=Et.fromString.apply(Et,(0,A.ev)([t.path],o)).child(Et.fromString(i))),new Xu(t.firestore,null,e)}function sD(t,i){for(var e,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];if(t=(0,Tt.m9)(t),1===arguments.length&&(i=Ky.u()),EA("doc","path",i),t instanceof L_)return LR(e=Et.fromString.apply(Et,(0,A.ev)([i],o))),new fn(t,null,new Ue(e));if(!(t instanceof fn||t instanceof Xu))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return LR(e=t._path.child(Et.fromString.apply(Et,(0,A.ev)([i],o)))),new fn(t.firestore,t instanceof Xu?t.converter:null,new Ue(e))}function HR(t,i){return t=(0,Tt.m9)(t),i=(0,Tt.m9)(i),(t instanceof fn||t instanceof Xu)&&(i instanceof fn||i instanceof Xu)&&t.firestore===i.firestore&&t.path===i.path&&t.converter===i.converter}function GR(t,i){return t=(0,Tt.m9)(t),i=(0,Tt.m9)(i),t instanceof Ci&&i instanceof Ci&&t.firestore===i.firestore&&Ql(t._query,i._query)&&t.converter===i.converter}var uP=function(){function t(){var i=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new iA(this,"async_queue_retry"),this.Ic=function(){var o=KC();o&&Ce("AsyncQueue","Visibility state changed to "+o.visibilityState),i.Zi.Gi()};var e=KC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(i){this.enqueue(i)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(i){this.Ac(),this.Rc(i)},t.prototype.enterRestrictedMode=function(i){if(!this._c){this._c=!0,this.Ec=i||!1;var e=KC();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(i){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new wn;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(i().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},t.prototype.enqueueRetryable=function(i){var e=this;this.enqueueAndForget(function(){return e.wc.push(i),e.bc()})},t.prototype.bc=function(){return(0,A.mG)(this,void 0,void 0,function(){var i,e=this;return(0,A.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!wa(i=o.sent()))throw i;return Ce("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),o.label=5;case 5:return[2]}})})},t.prototype.Rc=function(i){var e=this,o=this.dc.then(function(){return e.gc=!0,i().catch(function(u){throw e.yc=u,e.gc=!1,on("INTERNAL UNHANDLED ERROR: ",(p=(d=u).message||"",d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p)),u;var d,p}).then(function(u){return e.gc=!1,u})});return this.dc=o,o},t.prototype.enqueueAfterDelay=function(i,e,o){var u=this;this.Ac(),this.Tc.indexOf(i)>-1&&(e=0);var d=Ek.createAndSchedule(this,i,e,o,function(p){return u.vc(p)});return this.mc.push(d),d},t.prototype.Ac=function(){this.yc&&Le()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,A.mG)(this,void 0,void 0,function(){var i;return(0,A.Jh)(this,function(e){switch(e.label){case 0:return[4,i=this.dc];case 1:e.sent(),e.label=2;case 2:if(i!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(i){for(var e=0,o=this.mc;e<o.length;e++)if(o[e].timerId===i)return!0;return!1},t.prototype.Sc=function(i){var e=this;return this.Pc().then(function(){e.mc.sort(function(p,m){return p.targetTimeMs-m.targetTimeMs});for(var o=0,u=e.mc;o<u.length;o++){var d=u[o];if(d.skipDelay(),"all"!==i&&d.timerId===i)break}return e.Pc()})},t.prototype.Dc=function(i){this.Tc.push(i)},t.prototype.vc=function(i){var e=this.mc.indexOf(i);this.mc.splice(e,1)},t}();function bp(t){return function(i,e){if("object"!=typeof i||null===i)return!1;for(var o=i,u=0,d=["next","error","complete"];u<d.length;u++){var p=d[u];if(p in o&&"function"==typeof o[p])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(i,e,o){this._progressObserver={next:i,error:e,complete:o}},t.prototype.catch=function(i){return this._taskCompletionResolver.promise.catch(i)},t.prototype.then=function(i,e){return this._taskCompletionResolver.promise.then(i,e)},t.prototype._completeWith=function(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)},t.prototype._failWith=function(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)},t.prototype._updateProgress=function(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}();var Fn=function(t){function i(e,o){var u=this;return(u=t.call(this,e,o)||this).type="firestore",u._queue=new uP,u._persistenceKey="name"in e?e.name:"[DEFAULT]",u}return(0,A.ZT)(i,t),i.prototype._terminate=function(){return this._firestoreClient||$R(this),this._firestoreClient.terminate()},i}(L_);function _r(t){return t._firestoreClient||$R(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $R(t){var i,d,m,e=t._freezeSettings(),o=(d=(null===(i=t._app)||void 0===i?void 0:i.options.appId)||"",new rP(t._databaseId,d,t._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));t._firestoreClient=new nP(t._credentials,t._queue,o)}function qR(t,i,e){var o=this,u=new wn;return t.asyncQueue.enqueue(function(){return(0,A.mG)(o,void 0,void 0,function(){var d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),[4,NR(t,e)];case 1:return p.sent(),[4,SR(t,i)];case 2:return p.sent(),u.resolve(),[3,4];case 3:if(!("FirebaseError"===(m=d=p.sent()).name?m.code===re.FAILED_PRECONDITION||m.code===re.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw d;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),u.reject(d),[3,4];case 4:return[2]}var m})})}).then(function(){return u.promise})}function YR(t){if(t._initialized||t._terminated)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Cs=function(){function t(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var o=0;o<i.length;++o)if(0===i[o].length)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gi(i)}return t.prototype.isEqual=function(i){return this._internalPath.isEqual(i._internalPath)},t}(),ad=function(){function t(i){this._byteString=i}return t.fromBase64String=function(i){try{return new t(Vr.fromBase64String(i))}catch(e){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(i){return new t(Vr.fromUint8Array(i))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(i){return this._byteString.isEqual(i._byteString)},t}(),ud=function(t){this._methodName=t},aD=function(){function t(i,e){if(!isFinite(i)||i<-90||i>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(e)||e<-180||e>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=i,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return this._lat===i._lat&&this._long===i._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(i){return pt(this._lat,i._lat)||pt(this._long,i._long)},t}(),dP=/^__.*__$/,fP=function(){function t(i,e,o){this.data=i,this.fieldMask=e,this.fieldTransforms=o}return t.prototype.toMutation=function(i,e){return null!==this.fieldMask?new wo(i,this.data,this.fieldMask,e,this.fieldTransforms):new nd(i,this.data,e,this.fieldTransforms)},t}(),zR=function(){function t(i,e,o){this.data=i,this.fieldMask=e,this.fieldTransforms=o}return t.prototype.toMutation=function(i,e){return new wo(i,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ZR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}var WR=function(){function t(i,e,o,u,d,p){this.settings=i,this.databaseId=e,this.R=o,this.ignoreUndefinedProperties=u,void 0===d&&this.Cc(),this.fieldTransforms=d||[],this.fieldMask=p||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(i){return new t(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(i){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(i),u=this.xc({path:o,Fc:!1});return u.$c(i),u},t.prototype.Oc=function(i){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(i),u=this.xc({path:o,Fc:!1});return u.Cc(),u},t.prototype.Mc=function(i){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(i){return cD(i,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(i){return void 0!==this.fieldMask.find(function(e){return i.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return i.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.$c(this.path.get(i))},t.prototype.$c=function(i){if(0===i.length)throw this.Lc("Document fields must not be empty");if(ZR(this.Nc)&&dP.test(i))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),hP=function(){function t(i,e,o){this.databaseId=i,this.ignoreUndefinedProperties=e,this.R=o||k_(i)}return t.prototype.Uc=function(i,e,o,u){return void 0===u&&(u=!1),new WR({Nc:i,methodName:e,qc:o,path:Gi.emptyPath(),Fc:!1,Bc:u},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function cd(t){var i=t._freezeSettings(),e=k_(t._databaseId);return new hP(t._databaseId,!!i.ignoreUndefinedProperties,e)}function uD(t,i,e,o,u,d){void 0===d&&(d={});var p=t.Uc(d.merge||d.mergeFields?2:0,i,e,u);AA("Data must be an object, but it was:",p,o);var m,v,w=KR(o,p);if(d.merge)m=new Ul(p.fieldMask),v=p.fieldTransforms;else if(d.mergeFields){for(var D=[],T=0,I=d.mergeFields;T<I.length;T++){var M=MA(i,I[T],e);if(!p.contains(M))throw new ye(re.INVALID_ARGUMENT,"Field '"+M+"' is specified in your field mask but missing from your input data.");eO(D,M)||D.push(M)}m=new Ul(D),v=p.fieldTransforms.filter(function(F){return m.covers(F.field)})}else m=null,v=p.fieldTransforms;return new fP(new ei(w),m,v)}var IA=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(i,t),i.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},i.prototype.isEqual=function(e){return e instanceof i},i}(ud);function JR(t,i,e){return new WR({Nc:3,qc:i.settings.qc,methodName:t._methodName,Fc:e},i.databaseId,i.R,i.ignoreUndefinedProperties)}var pP=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(i,t),i.prototype._toFieldTransform=function(e){return new _s(e.path,new Kl)},i.prototype.isEqual=function(e){return e instanceof i},i}(ud),gP=function(t){function i(e,o){var u=this;return(u=t.call(this,e)||this).Kc=o,u}return(0,A.ZT)(i,t),i.prototype._toFieldTransform=function(e){var o=JR(this,e,!0),u=this.Kc.map(function(p){return ld(p,o)}),d=new ga(u);return new _s(e.path,d)},i.prototype.isEqual=function(e){return this===e},i}(ud),mP=function(t){function i(e,o){var u=this;return(u=t.call(this,e)||this).Kc=o,u}return(0,A.ZT)(i,t),i.prototype._toFieldTransform=function(e){var o=JR(this,e,!0),u=this.Kc.map(function(p){return ld(p,o)}),d=new Yt(u);return new _s(e.path,d)},i.prototype.isEqual=function(e){return this===e},i}(ud),yP=function(t){function i(e,o){var u=this;return(u=t.call(this,e)||this).Qc=o,u}return(0,A.ZT)(i,t),i.prototype._toFieldTransform=function(e){var o=new ma(e.R,bC(e.R,this.Qc));return new _s(e.path,o)},i.prototype.isEqual=function(e){return this===e},i}(ud);function NA(t,i,e,o){var u=t.Uc(1,i,e);AA("Data must be an object, but it was:",u,o);var d=[],p=ei.empty();Uu(o,function(v,w){var D=xA(i,v,e);w=(0,Tt.m9)(w);var T=u.Oc(D);if(w instanceof IA)d.push(D);else{var I=ld(w,T);null!=I&&(d.push(D),p.set(D,I))}});var m=new Ul(d);return new zR(p,m,u.fieldTransforms)}function SA(t,i,e,o,u,d){var p=t.Uc(1,i,e),m=[MA(i,o,e)],v=[u];if(d.length%2!=0)throw new ye(re.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var w=0;w<d.length;w+=2)m.push(MA(i,d[w])),v.push(d[w+1]);for(var D=[],T=ei.empty(),I=m.length-1;I>=0;--I)if(!eO(D,m[I])){var M=m[I],F=v[I];F=(0,Tt.m9)(F);var j=p.Oc(M);if(F instanceof IA)D.push(M);else{var ie=ld(F,j);null!=ie&&(D.push(M),T.set(M,ie))}}var de=new Ul(D);return new zR(T,de,p.fieldTransforms)}function QR(t,i,e,o){return void 0===o&&(o=!1),ld(e,t.Uc(o?4:3,i))}function ld(t,i){if(XR(t=(0,Tt.m9)(t)))return AA("Unsupported field value:",i,t),KR(t,i);if(t instanceof ud)return function(e,o){if(!ZR(o.Nc))throw o.Lc(e._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(e._methodName+"() is not currently supported inside arrays");var u=e._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(t,i),null;if(void 0===t&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),t instanceof Array){if(i.settings.Fc&&4!==i.Nc)throw i.Lc("Nested arrays are not supported");return function(e,o){for(var u=[],d=0,p=0,m=e;p<m.length;p++){var v=ld(m[p],o.Mc(d));null==v&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}}(t,i)}return function(e,o){if(null===(e=(0,Tt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bC(o.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var u=er.fromDate(e);return{timestampValue:Yu(o.R,u)}}if(e instanceof er)return u=new er(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Yu(o.R,u)};if(e instanceof aD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ad)return{bytesValue:US(o.R,e._byteString)};if(e instanceof fn){var d=e.firestore._databaseId;if(!d.isEqual(u=o.databaseId))throw o.Lc("Document reference is for database "+d.projectId+"/"+d.database+" but should be for database "+u.projectId+"/"+u.database);return{referenceValue:MC(e.firestore._databaseId||o.databaseId,e._key.path)}}throw o.Lc("Unsupported field value: "+oD(e))}(t,i)}function KR(t,i){var e={};return fS(t)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Uu(t,function(o,u){var d=ld(u,i.kc(o));null!=d&&(e[o]=d)}),{mapValue:{fields:e}}}function XR(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof er||t instanceof aD||t instanceof ad||t instanceof fn||t instanceof ud)}function AA(t,i,e){if(!XR(e)||"object"!=typeof(u=e)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){var o=oD(e);throw i.Lc("an object"===o?t+" a custom object":t+" "+o)}var u}function MA(t,i,e){if((i=(0,Tt.m9)(i))instanceof Cs)return i._internalPath;if("string"==typeof i)return xA(t,i);throw cD("Field path arguments must be of type string or FieldPath.",t,!1,void 0,e)}var _P=new RegExp("[~\\*/\\[\\]]");function xA(t,i,e){if(i.search(_P)>=0)throw cD("Invalid field path ("+i+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,e);try{return(new(Cs.bind.apply(Cs,(0,A.ev)([void 0],i.split(".")))))._internalPath}catch(o){throw cD("Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,e)}}function cD(t,i,e,o,u){var d=o&&!o.isEmpty(),p=void 0!==u,m="Function "+i+"() called with invalid data";e&&(m+=" (via `toFirestore()`)");var v="";return(d||p)&&(v+=" (found",d&&(v+=" in field "+o),p&&(v+=" in document "+u),v+=")"),new ye(re.INVALID_ARGUMENT,(m+=". ")+t+v)}function eO(t,i){return t.some(function(e){return e.isEqual(i)})}var V_=function(){function t(i,e,o,u,d){this._firestore=i,this._userDataWriter=e,this._key=o,this._document=u,this._converter=d}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new fn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var i=new vP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(i){if(this._document){var e=this._document.data.field(lD("DocumentSnapshot.get",i));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),vP=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(i,t),i.prototype.data=function(){return t.prototype.data.call(this)},i}(V_);function lD(t,i){return"string"==typeof i?xA(t,i):i instanceof Cs?i._internalPath:i._delegate._internalPath}var dd=function(){function t(i,e){this.hasPendingWrites=i,this.fromCache=e}return t.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},t}(),Oa=function(t){function i(e,o,u,d,p,m){var v=this;return(v=t.call(this,e,o,u,d,m)||this)._firestore=e,v._firestoreImpl=e,v.metadata=p,v}return(0,A.ZT)(i,t),i.prototype.exists=function(){return t.prototype.exists.call(this)},i.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var o=new B_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},i.prototype.get=function(e,o){if(void 0===o&&(o={}),this._document){var u=this._document.data.field(lD("DocumentSnapshot.get",e));if(null!==u)return this._userDataWriter.convertValue(u,o.serverTimestamps)}},i}(V_),B_=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(i,t),i.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},i}(Oa),ec=function(){function t(i,e,o,u){this._firestore=i,this._userDataWriter=e,this._snapshot=u,this.metadata=new dd(u.hasPendingWrites,u.fromCache),this.query=o}return Object.defineProperty(t.prototype,"docs",{get:function(){var i=[];return this.forEach(function(e){return i.push(e)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(i,e){var o=this;this._snapshot.docs.forEach(function(u){i.call(e,new B_(o._firestore,o._userDataWriter,u.key,u,new dd(o._snapshot.mutatedKeys.has(u.key),o._snapshot.fromCache),o.query.converter))})},t.prototype.docChanges=function(i){void 0===i&&(i={});var e=!!i.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){var d=0;return o._snapshot.docChanges.map(function(m){return{type:"added",doc:new B_(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dd(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}})}var p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(m){return u||3!==m.type}).map(function(m){var v=new B_(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dd(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),w=-1,D=-1;return 0!==m.type&&(w=p.indexOf(m.doc.key),p=p.delete(m.doc.key)),1!==m.type&&(D=(p=p.add(m.doc)).indexOf(m.doc.key)),{type:bP(m.type),doc:v,oldIndex:w,newIndex:D}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function bP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}function tO(t,i){return t instanceof Oa&&i instanceof Oa?t._firestore===i._firestore&&t._key.isEqual(i._key)&&(null===t._document?null===i._document:t._document.isEqual(i._document))&&t._converter===i._converter:t instanceof ec&&i instanceof ec&&t._firestore===i._firestore&&GR(t.query,i.query)&&t.metadata.isEqual(i.metadata)&&t._snapshot.isEqual(i._snapshot)}function nO(t){if(Jl(t)&&0===t.explicitOrderBy.length)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var U_=function(){};function tc(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var o=0,u=i;o<u.length;o++){var d=u[o];t=d._apply(t)}return t}var wP=function(t){function i(e,o,u){var d=this;return(d=t.call(this)||this).jc=e,d.Wc=o,d.Gc=u,d.type="where",d}return(0,A.ZT)(i,t),i.prototype._apply=function(e){var d,m,o=cd(e.firestore),u=function(d,p,m,v,w,D,T){var I;if(w.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new ye(re.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+D+"' queries on FieldPath.documentId().");if("in"===D||"not-in"===D){uO(T,D);for(var M=[],F=0,j=T;F<j.length;F++)M.push(aO(v,d,j[F]));I={arrayValue:{values:M}}}else I=aO(v,d,T)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||uO(T,D),I=QR(m,"where",T,"in"===D||"not-in"===D);var de=Dr.create(w,D,I);return function(we,Ee){if(Ee.g()){var ze=u_(we);if(null!==ze&&!ze.isEqual(Ee.field))throw new ye(re.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+ze.toString()+"' and '"+Ee.field.toString()+"'");var Oe=a_(we);null!==Oe&&cO(0,Ee.field,Oe)}var wt=function(Zn,Do){for(var q_=0,VO=Zn.filters;q_<VO.length;q_++){var BO=VO[q_];if(Do.indexOf(BO.op)>=0)return BO.op}return null}(we,function(Zn){switch(Zn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ee.op));if(null!==wt)throw new ye(re.INVALID_ARGUMENT,wt===Ee.op?"Invalid query. You cannot use more than one '"+Ee.op.toString()+"' filter.":"Invalid query. You cannot use '"+Ee.op.toString()+"' filters with '"+wt.toString()+"' filters.")}(d,de),de}(e._query,0,o,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ci(e.firestore,e.converter,(m=(d=e._query).filters.concat([u]),new _o(d.path,d.collectionGroup,d.explicitOrderBy.slice(),m,d.limit,d.limitType,d.startAt,d.endAt)))},i}(U_),CP=function(t){function i(e,o){var u=this;return(u=t.call(this)||this).jc=e,u.zc=o,u.type="orderBy",u}return(0,A.ZT)(i,t),i.prototype._apply=function(e){var u,p,o=function(u,d,p){if(null!==u.startAt)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var m=new $u(d,p);return function(v,w){if(null===a_(v)){var D=u_(v);null!==D&&cO(0,D,w.field)}}(u,m),m}(e._query,this.jc,this.zc);return new Ci(e.firestore,e.converter,(p=(u=e._query).explicitOrderBy.concat([o]),new _o(u.path,u.collectionGroup,p,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)))},i}(U_),rO=function(t){function i(e,o,u){var d=this;return(d=t.call(this)||this).type=e,d.Hc=o,d.Jc=u,d}return(0,A.ZT)(i,t),i.prototype._apply=function(e){return new Ci(e.firestore,e.converter,c_(e._query,this.Hc,this.Jc))},i}(U_),iO=function(t){function i(e,o,u){var d=this;return(d=t.call(this)||this).type=e,d.Yc=o,d.Xc=u,d}return(0,A.ZT)(i,t),i.prototype._apply=function(e){var u,d,o=sO(e,this.type,this.Yc,this.Xc);return new Ci(e.firestore,e.converter,(d=o,new _o((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,d,u.endAt)))},i}(U_),oO=function(t){function i(e,o,u){var d=this;return(d=t.call(this)||this).type=e,d.Yc=o,d.Xc=u,d}return(0,A.ZT)(i,t),i.prototype._apply=function(e){var u,d,o=sO(e,this.type,this.Yc,this.Xc);return new Ci(e.firestore,e.converter,(d=o,new _o((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,d)))},i}(U_);function sO(t,i,e,o){if(e[0]=(0,Tt.m9)(e[0]),e[0]instanceof V_)return function(d,p,m,v,w){if(!v)throw new ye(re.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+m+"().");for(var D=[],T=0,I=vo(d);T<I.length;T++){var M=I[T];if(M.field.isKeyField())D.push(Wh(p,v.key));else{var F=v.data.field(M.field);if(t_(F))throw new ye(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){var j=M.field.canonicalString();throw new ye(re.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+j+"' (used as the orderBy) does not exist.")}D.push(F)}}return new zl(D,w)}(t._query,t.firestore._databaseId,i,e[0]._document,o);var u=cd(t.firestore);return function(d,p,m,v,w,D){var T=d.explicitOrderBy;if(w.length>T.length)throw new ye(re.INVALID_ARGUMENT,"Too many arguments provided to "+v+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var I=[],M=0;M<w.length;M++){var F=w[M];if(T[M].field.isKeyField()){if("string"!=typeof F)throw new ye(re.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+v+"(), but got a "+typeof F);if(!Qh(d)&&-1!==F.indexOf("/"))throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+v+"() must be a plain document ID, but '"+F+"' contains a slash.");var j=d.path.child(Et.fromString(F));if(!Ue.isDocumentKey(j))throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+v+"() must result in a valid document path, but '"+j+"' is not because it contains an odd number of segments.");var ie=new Ue(j);I.push(Wh(p,ie))}else{var de=QR(m,v,F);I.push(de)}}return new zl(I,D)}(t._query,t.firestore._databaseId,u,i,e,o)}function aO(t,i,e){if("string"==typeof(e=(0,Tt.m9)(e))){if(""===e)throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qh(i)&&-1!==e.indexOf("/"))throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var o=i.path.child(Et.fromString(e));if(!Ue.isDocumentKey(o))throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return Wh(t,new Ue(o))}if(e instanceof fn)return Wh(t,e._key);throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+oD(e)+".")}function uO(t,i){if(!Array.isArray(t)||0===t.length)throw new ye(re.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(t.length>10)throw new ye(re.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.")}function cO(t,i,e){if(!e.isEqual(i))throw new ye(re.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var RA=function(){function t(){}return t.prototype.convertValue=function(i,e){switch(void 0===e&&(e="none"),$i(i)){case 0:return null;case 1:return i.booleanValue;case 2:return xn(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,e);case 5:return i.stringValue;case 6:return this.convertBytes(jl(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,e);case 10:return this.convertObject(i.mapValue,e);default:throw Le()}},t.prototype.convertObject=function(i,e){var o=this,u={};return Uu(i.fields,function(d,p){u[d]=o.convertValue(p,e)}),u},t.prototype.convertGeoPoint=function(i){return new aD(xn(i.latitude),xn(i.longitude))},t.prototype.convertArray=function(i,e){var o=this;return(i.values||[]).map(function(u){return o.convertValue(u,e)})},t.prototype.convertServerTimestamp=function(i,e){switch(e){case"previous":var o=hS(i);return null==o?null:this.convertValue(o,e);case"estimate":return this.convertTimestamp(ju(i));default:return null}},t.prototype.convertTimestamp=function(i){var e=ys(i);return new er(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(i,e){var o=Et.fromString(i);Je(VC(o));var u=new iD(o.get(1),o.get(3)),d=new Ue(o.popFirst(5));return u.isEqual(e)||on("Document "+d+" contains a document reference within a different database ("+u.projectId+"/"+u.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),d},t}();function dD(t,i,e){return t?e&&(e.merge||e.mergeFields)?t.toFirestore(i,e):t.toFirestore(i):i}var DP=function(t){function i(e){var o=this;return(o=t.call(this)||this).firestore=e,o}return(0,A.ZT)(i,t),i.prototype.convertBytes=function(e){return new ad(e)},i.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,o)},i}(RA),EP=function(){function t(i,e){this._firestore=i,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=cd(i)}return t.prototype.set=function(i,e,o){this._verifyNotCommitted();var u=nc(i,this._firestore),d=dD(u.converter,e,o),p=uD(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(p.toMutation(u._key,mr.none())),this},t.prototype.update=function(i,e,o){for(var u=[],d=3;d<arguments.length;d++)u[d-3]=arguments[d];this._verifyNotCommitted();var p,m=nc(i,this._firestore);return p="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Cs?SA(this._dataReader,"WriteBatch.update",m._key,e,o,u):NA(this._dataReader,"WriteBatch.update",m._key,e),this._mutations.push(p.toMutation(m._key,mr.exists(!0))),this},t.prototype.delete=function(i){this._verifyNotCommitted();var e=nc(i,this._firestore);return this._mutations=this._mutations.concat(new tp(e._key,mr.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ye(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function nc(t,i){if((t=(0,Tt.m9)(t)).firestore!==i)throw new ye(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var fd=function(t){function i(e){var o=this;return(o=t.call(this)||this).firestore=e,o}return(0,A.ZT)(i,t),i.prototype.convertBytes=function(e){return new ad(e)},i.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,o)},i}(RA);function lO(t,i,e){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];t=It(t,fn);var d=It(t.firestore,Fn),p=cd(d);return j_(d,[("string"==typeof(i=(0,Tt.m9)(i))||i instanceof Cs?SA(p,"updateDoc",t._key,i,e,o):NA(p,"updateDoc",t._key,i)).toMutation(t._key,mr.exists(!0))])}function dO(t){for(var i,e,o,u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];t=(0,Tt.m9)(t);var p={includeMetadataChanges:!1},m=0;"object"!=typeof u[m]||bp(u[m])||(p=u[m],m++);var v,w,D,T={includeMetadataChanges:p.includeMetadataChanges};if(bp(u[m])){var I=u[m];u[m]=null===(i=I.next)||void 0===i?void 0:i.bind(I),u[m+1]=null===(e=I.error)||void 0===e?void 0:e.bind(I),u[m+2]=null===(o=I.complete)||void 0===o?void 0:o.bind(I)}if(t instanceof fn)w=It(t.firestore,Fn),D=Zl(t._key.path),v={next:function(j){u[m]&&u[m](OA(w,t,j))},error:u[m+1],complete:u[m+2]};else{var M=It(t,Ci);w=It(M.firestore,Fn),D=M._query;var F=new fd(w);v={next:function(j){u[m]&&u[m](new ec(w,F,M,j))},error:u[m+1],complete:u[m+2]},nO(t._query)}return function(j,ie,de,we){var Ee=this,ze=new nD(we),Oe=new fA(ie,ze,de);return j.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(Ee,void 0,void 0,function(){var wt;return(0,A.Jh)(this,function(Zn){switch(Zn.label){case 0:return wt=cA,[4,vp(j)];case 1:return[2,wt.apply(void 0,[Zn.sent(),Oe])]}})})}),function(){ze.Wo(),j.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(Ee,void 0,void 0,function(){var wt;return(0,A.Jh)(this,function(Zn){switch(Zn.label){case 0:return wt=lA,[4,vp(j)];case 1:return[2,wt.apply(void 0,[Zn.sent(),Oe])]}})})})}}(_r(w),D,T,v)}function j_(t,i){return function(e,o){var u=this,d=new wn;return e.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(u,void 0,void 0,function(){var p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return p=Fk,[4,DA(e)];case 1:return[2,p.apply(void 0,[m.sent(),o,d])]}})})}),d.promise}(_r(t),i)}function OA(t,i,e){var o=e.docs.get(i._key),u=new fd(t);return new Oa(t,u,i._key,o,new dd(e.hasPendingWrites,e.fromCache),i.converter)}var TP=function(t){function i(e,o){var u=this;return(u=t.call(this,e,o)||this)._firestore=e,u}return(0,A.ZT)(i,t),i.prototype.get=function(e){var o=this,u=nc(e,this._firestore),d=new fd(this._firestore);return t.prototype.get.call(this,e).then(function(p){return new Oa(o._firestore,d,u._key,p._document,new dd(!1,!1),u.converter)})},i}(function(){function t(i,e){this._firestore=i,this._transaction=e,this._dataReader=cd(i)}return t.prototype.get=function(i){var e=this,o=nc(i,this._firestore),u=new DP(this._firestore);return this._transaction.lookup([o._key]).then(function(d){if(!d||1!==d.length)return Le();var p=d[0];if(p.isFoundDocument())return new V_(e._firestore,u,p.key,p,o.converter);if(p.isNoDocument())return new V_(e._firestore,u,o._key,null,o.converter);throw Le()})},t.prototype.set=function(i,e,o){var u=nc(i,this._firestore),d=dD(u.converter,e,o),p=uD(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,p),this},t.prototype.update=function(i,e,o){for(var u=[],d=3;d<arguments.length;d++)u[d-3]=arguments[d];var p,m=nc(i,this._firestore);return p="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Cs?SA(this._dataReader,"Transaction.update",m._key,e,o,u):NA(this._dataReader,"Transaction.update",m._key,e),this._transaction.update(m._key,p),this},t.prototype.delete=function(i){var e=nc(i,this._firestore);return this._transaction.delete(e._key),this},t}());function fO(){if("undefined"==typeof Uint8Array)throw new ye(re.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hO(){if("undefined"==typeof atob)throw new ye(re.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pO=function(){function t(i){this._delegate=i}return t.fromBase64String=function(i){return hO(),new t(ad.fromBase64String(i))},t.fromUint8Array=function(i){return fO(),new t(ad.fromUint8Array(i))},t.prototype.toBase64=function(){return hO(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return fO(),this._delegate.toUint8Array()},t.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),IP=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(i,e){return function(o,u){YR(o=It(o,Fn));var d=_r(o),p=o._freezeSettings(),m=new bA;return qR(d,m,new TR(m,p.cacheSizeBytes,null==u?void 0:u.forceOwnership))}(i._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(i){return function(e){YR(e=It(e,Fn));var o=_r(e),u=e._freezeSettings(),d=new bA;return qR(o,d,new Kk(d,u.cacheSizeBytes))}(i._delegate)},t.prototype.clearIndexedDbPersistence=function(i){return function(e){var o=this;if(e._initialized&&!e._terminated)throw new ye(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var u=new wn;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,A.mG)(o,void 0,void 0,function(){var d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,function(m){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(w){switch(w.label){case 0:return Zu.yt()?[4,Zu.delete(m+"main")]:[2,Promise.resolve()];case 1:return w.sent(),[2]}})})}(dt(e._databaseId,e._persistenceKey))];case 1:return p.sent(),u.resolve(),[3,3];case 2:return d=p.sent(),u.reject(d),[3,3];case 3:return[2]}})})}),u.promise}(i._delegate)},t}(),gO=function(){function t(i,e,o){var u=this;this._delegate=e,this.Zc=o,this.INTERNAL={delete:function(){return u.terminate()}},i instanceof iD||(this.tu=i)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(i){var e=this._delegate._getSettings();i.merge||e.host===i.host||mo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},e),i)).merge,this._delegate._setSettings(i)},t.prototype.useEmulator=function(i,e,o){void 0===o&&(o={}),function(u,d,p,m){var v;void 0===m&&(m={});var w=(u=It(u,L_))._getSettings();if("firestore.googleapis.com"!==w.host&&w.host!==d&&mo("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},w),{host:d+":"+p,ssl:!1})),m.mockUserToken){var D,T;if("string"==typeof m.mockUserToken)D=m.mockUserToken,T=Tr.MOCK_USER;else{D=(0,Tt.Sg)(m.mockUserToken,null===(v=u._app)||void 0===v?void 0:v.options.projectId);var I=m.mockUserToken.sub||m.mockUserToken.user_id;if(!I)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Tr(I)}u._credentials=new iP(new kR(D,T))}}(this._delegate,i,e,o)},t.prototype.enableNetwork=function(){return function(i){var e=this;return i.asyncQueue.enqueue(function(){return(0,A.mG)(e,void 0,void 0,function(){var o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,AR(i)];case 1:return o=d.sent(),[4,MR(i)];case 2:return u=d.sent(),[2,(o.setNetworkEnabled(!0),p=u,m=De(p),m.Or.delete(0),P_(m))]}var p,m})})})}(_r(It(this._delegate,Fn)))},t.prototype.disableNetwork=function(){return function(i){var e=this;return i.asyncQueue.enqueue(function(){return(0,A.mG)(e,void 0,void 0,function(){var o,u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,AR(i)];case 1:return o=d.sent(),[4,MR(i)];case 2:return u=d.sent(),[2,(o.setNetworkEnabled(!1),function(p){return(0,A.mG)(this,void 0,void 0,function(){var m;return(0,A.Jh)(this,function(v){switch(v.label){case 0:return(m=De(p)).Or.add(0),[4,pp(m)];case 1:return v.sent(),m.Br.set("Offline"),[2]}})})}(u))]}})})})}(_r(It(this._delegate,Fn)))},t.prototype.enablePersistence=function(i){var e=!1,o=!1;return i&&FR("synchronizeTabs",e=!!i.synchronizeTabs,"experimentalForceOwningTab",o=!!i.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(i){var e=this,o=new wn;return i.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(e,void 0,void 0,function(){var u;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return u=Uk,[4,DA(i)];case 1:return[2,u.apply(void 0,[d.sent(),o])]}})})}),o.promise}(_r(It(this._delegate,Fn)))},t.prototype.onSnapshotsInSync=function(i){return o=i,function(u,d){var p=this,m=new nD(d);return u.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(p,void 0,void 0,function(){var v;return(0,A.Jh)(this,function(w){switch(w.label){case 0:return v=function(D,T){De(D).Gr.add(T),T.next()},[4,vp(u)];case 1:return[2,v.apply(void 0,[w.sent(),m])]}})})}),function(){m.Wo(),u.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(p,void 0,void 0,function(){var v;return(0,A.Jh)(this,function(w){switch(w.label){case 0:return v=function(D,T){De(D).Gr.delete(T)},[4,vp(u)];case 1:return[2,v.apply(void 0,[w.sent(),m])]}})})})}}(_r(It(this._delegate,Fn)),bp(o)?o:{next:o});var o},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(i){try{return new pD(this,jR(this._delegate,i))}catch(e){throw ii(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(i){try{return new hd(this,sD(this._delegate,i))}catch(e){throw ii(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(i){try{return new $_(this,function(e,o){if(e=It(e,L_),EA("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new ye(re.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ci(e,null,(u=o,new _o(Et.emptyPath(),u)));var u}(this._delegate,i))}catch(e){throw ii(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(i){var o,e=this;return function(d,p){var m=this,v=new wn;return d.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(m,void 0,void 0,function(){var w;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return[4,(T=d,rD(T).then(function(I){return I.datastore}))];case 1:return w=D.sent(),new tP(d.asyncQueue,w,p,v).run(),[2]}var T})})}),v.promise}(_r(o=this._delegate),function(d){return function(o){return i(new mO(e,o))}(new TP(o,d))})},t.prototype.batch=function(){var i=this;return _r(this._delegate),new yO(new EP(this._delegate,function(e){return j_(i._delegate,e)}))},t.prototype.loadBundle=function(i){throw new ye(re.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(i){throw new ye(re.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),fD=function(t){function i(e){var o=this;return(o=t.call(this)||this).firestore=e,o}return(0,A.ZT)(i,t),i.prototype.convertBytes=function(e){return new pO(new ad(e))},i.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return hd.eu(o,this.firestore,null)},i}(RA),mO=function(){function t(i,e){this._firestore=i,this._delegate=e,this._userDataWriter=new fD(i)}return t.prototype.get=function(i){var e=this,o=pd(i);return this._delegate.get(o).then(function(u){return new H_(e._firestore,new Oa(e._firestore._delegate,e._userDataWriter,u._key,u._document,u.metadata,o.converter))})},t.prototype.set=function(i,e,o){var u=pd(i);return o?(TA("Transaction.set",o),this._delegate.set(u,e,o)):this._delegate.set(u,e),this},t.prototype.update=function(i,e,o){for(var u,d=[],p=3;p<arguments.length;p++)d[p-3]=arguments[p];var m=pd(i);return 2===arguments.length?this._delegate.update(m,e):(u=this._delegate).update.apply(u,(0,A.ev)([m,e,o],d)),this},t.prototype.delete=function(i){var e=pd(i);return this._delegate.delete(e),this},t}(),yO=function(){function t(i){this._delegate=i}return t.prototype.set=function(i,e,o){var u=pd(i);return o?(TA("WriteBatch.set",o),this._delegate.set(u,e,o)):this._delegate.set(u,e),this},t.prototype.update=function(i,e,o){for(var u,d=[],p=3;p<arguments.length;p++)d[p-3]=arguments[p];var m=pd(i);return 2===arguments.length?this._delegate.update(m,e):(u=this._delegate).update.apply(u,(0,A.ev)([m,e,o],d)),this},t.prototype.delete=function(i){var e=pd(i);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),hD=function(){function t(i,e,o){this._firestore=i,this._userDataWriter=e,this._delegate=o}return t.prototype.fromFirestore=function(i,e){var o=new B_(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new G_(this._firestore,o),null!=e?e:{})},t.prototype.toFirestore=function(i,e){return e?this._delegate.toFirestore(i,e):this._delegate.toFirestore(i)},t.nu=function(i,e){var o=t.su,u=o.get(i);u||(u=new WeakMap,o.set(i,u));var d=u.get(e);return d||(d=new t(i,new fD(i),e),u.set(e,d)),d},t}();hD.su=new WeakMap;var hd=function(){function t(i,e){this.firestore=i,this._delegate=e,this._userDataWriter=new fD(i)}return t.iu=function(i,e,o){if(i.length%2!=0)throw new ye(re.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i.canonicalString()+" has "+i.length);return new t(e,new fn(e._delegate,o,new Ue(i)))},t.eu=function(i,e,o){return new t(e,new fn(e._delegate,o,i))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pD(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(i){try{return new pD(this.firestore,jR(this._delegate,i))}catch(e){throw ii(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(i){return(i=(0,Tt.m9)(i))instanceof fn&&HR(this._delegate,i)},t.prototype.set=function(i,e){e=TA("DocumentReference.set",e);try{return function(o,u,d){o=It(o,fn);var p=It(o.firestore,Fn),m=dD(o.converter,u,d);return j_(p,[uD(cd(p),"setDoc",o._key,m,null!==o.converter,d).toMutation(o._key,mr.none())])}(this._delegate,i,e)}catch(o){throw ii(o,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(i,e){for(var o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];try{return 1===arguments.length?lO(this._delegate,i):lO.apply(void 0,(0,A.ev)([this._delegate,i,e],o))}catch(d){throw ii(d,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return j_(It((i=this._delegate).firestore,Fn),[new tp(i._key,mr.none())]);var i},t.prototype.onSnapshot=function(){for(var i=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var u=_O(e),d=vO(e,function(p){return new H_(i.firestore,new Oa(i.firestore._delegate,i._userDataWriter,p._key,p._document,p.metadata,i._delegate.converter))});return dO(this._delegate,u,d)},t.prototype.get=function(i){var e=this;return("cache"===(null==i?void 0:i.source)?function(o){o=It(o,fn);var u=It(o.firestore,Fn),d=_r(u),p=new fd(u);return function(m,v){var w=this,D=new wn;return m.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(w,void 0,void 0,function(){var T;return(0,A.Jh)(this,function(I){switch(I.label){case 0:return T=function(M,F,j){return(0,A.mG)(this,void 0,void 0,function(){var ie,de;return(0,A.Jh)(this,function(we){switch(we.label){case 0:return we.trys.push([0,2,,3]),[4,(Ee=M,ze=F,Oe=De(Ee),Oe.persistence.runTransaction("read document","readonly",function(wt){return Oe.Mn.mn(wt,ze)}))];case 1:return(de=we.sent()).isFoundDocument()?j.resolve(de):de.isNoDocument()?j.resolve(null):j.reject(new ye(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ie=we.sent(),de=yp(ie,"Failed to get document '"+F+" from cache"),j.reject(de),[3,3];case 3:return[2]}var Ee,ze,Oe})})},[4,CA(m)];case 1:return[2,T.apply(void 0,[I.sent(),v,D])]}})})}),D.promise}(d,o._key).then(function(m){return new Oa(u,p,o._key,m,new dd(null!==m&&m.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(o){o=It(o,fn);var u=It(o.firestore,Fn);return xR(_r(u),o._key,{source:"server"}).then(function(d){return OA(u,o,d)})}(this._delegate):function(o){o=It(o,fn);var u=It(o.firestore,Fn);return xR(_r(u),o._key).then(function(d){return OA(u,o,d)})}(this._delegate)).then(function(o){return new H_(e.firestore,new Oa(e.firestore._delegate,e._userDataWriter,o._key,o._document,o.metadata,e._delegate.converter))})},t.prototype.withConverter=function(i){return new t(this.firestore,this._delegate.withConverter(i?hD.nu(this.firestore,i):null))},t}();function ii(t,i,e){return t.message=t.message.replace(i,e),t}function _O(t){for(var i=0,e=t;i<e.length;i++){var o=e[i];if("object"==typeof o&&!bp(o))return o}return{}}function vO(t,i){var e,o,u;return{next:function(d){u.next&&u.next(i(d))},error:null===(e=(u=bp(t[0])?t[0]:bp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===e?void 0:e.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}var H_=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(i){return this._delegate.data(i)},t.prototype.get=function(i,e){return this._delegate.get(i,e)},t.prototype.isEqual=function(i){return tO(this._delegate,i._delegate)},t}(),G_=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(i,t),i.prototype.data=function(e){return this._delegate.data(e)},i}(H_),$_=function(){function t(i,e){this.firestore=i,this._delegate=e,this._userDataWriter=new fD(i)}return t.prototype.where=function(i,e,o){try{return new t(this.firestore,tc(this._delegate,(p=o,m=e,v=lD("where",u=i),new wP(v,m,p))))}catch(u){throw ii(u,/(orderBy|where)\(\)/,"Query.$1()")}var u,p,m,v},t.prototype.orderBy=function(i,e){try{return new t(this.firestore,tc(this._delegate,function(o,u){void 0===u&&(u="asc");var d=u,p=lD("orderBy",o);return new CP(p,d)}(i,e)))}catch(o){throw ii(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(i){try{return new t(this.firestore,tc(this._delegate,(BR("limit",e=i),new rO("limit",e,"F"))))}catch(e){throw ii(e,"limit()","Query.limit()")}var e},t.prototype.limitToLast=function(i){try{return new t(this.firestore,tc(this._delegate,(BR("limitToLast",e=i),new rO("limitToLast",e,"L"))))}catch(e){throw ii(e,"limitToLast()","Query.limitToLast()")}var e},t.prototype.startAt=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,tc(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new iO("startAt",o,!0)}.apply(void 0,i)))}catch(o){throw ii(o,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,tc(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new iO("startAfter",o,!1)}.apply(void 0,i)))}catch(o){throw ii(o,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,tc(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new oO("endBefore",o,!0)}.apply(void 0,i)))}catch(o){throw ii(o,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,tc(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new oO("endAt",o,!1)}.apply(void 0,i)))}catch(o){throw ii(o,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(i){return GR(this._delegate,i._delegate)},t.prototype.get=function(i){var e=this;return("cache"===(null==i?void 0:i.source)?function(o){o=It(o,Ci);var u=It(o.firestore,Fn),d=_r(u),p=new fd(u);return function(m,v){var w=this,D=new wn;return m.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(w,void 0,void 0,function(){var T;return(0,A.Jh)(this,function(I){switch(I.label){case 0:return T=function(M,F,j){return(0,A.mG)(this,void 0,void 0,function(){var ie,de,we,Ee,ze;return(0,A.Jh)(this,function(Oe){switch(Oe.label){case 0:return Oe.trys.push([0,2,,3]),[4,QC(M,F,!0)];case 1:return ze=Oe.sent(),ie=new _R(F,ze.Bn),de=ie._o(ze.documents),we=ie.applyChanges(de,!1),j.resolve(we.snapshot),[3,3];case 2:return Ee=Oe.sent(),ze=yp(Ee,"Failed to execute query '"+F+" against cache"),j.reject(ze),[3,3];case 3:return[2]}})})},[4,CA(m)];case 1:return[2,T.apply(void 0,[I.sent(),v,D])]}})})}),D.promise}(d,o._query).then(function(m){return new ec(u,p,o,m)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(o){o=It(o,Ci);var u=It(o.firestore,Fn),d=_r(u),p=new fd(u);return RR(d,o._query,{source:"server"}).then(function(m){return new ec(u,p,o,m)})}(this._delegate):function(o){o=It(o,Ci);var u=It(o.firestore,Fn),d=_r(u),p=new fd(u);return nO(o._query),RR(d,o._query).then(function(m){return new ec(u,p,o,m)})}(this._delegate)).then(function(o){return new kA(e.firestore,new ec(e.firestore._delegate,e._userDataWriter,e._delegate,o._snapshot))})},t.prototype.onSnapshot=function(){for(var i=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var u=_O(e),d=vO(e,function(p){return new kA(i.firestore,new ec(i.firestore._delegate,i._userDataWriter,i._delegate,p._snapshot))});return dO(this._delegate,u,d)},t.prototype.withConverter=function(i){return new t(this.firestore,this._delegate.withConverter(i?hD.nu(this.firestore,i):null))},t}(),SP=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new G_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),kA=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new $_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var i=this;return this._delegate.docs.map(function(e){return new G_(i._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(i){var e=this;return this._delegate.docChanges(i).map(function(o){return new SP(e._firestore,o)})},t.prototype.forEach=function(i,e){var o=this;this._delegate.forEach(function(u){i.call(e,new G_(o._firestore,u))})},t.prototype.isEqual=function(i){return tO(this._delegate,i._delegate)},t}(),pD=function(t){function i(e,o){var u=this;return(u=t.call(this,e,o)||this).firestore=e,u._delegate=o,u}return(0,A.ZT)(i,t),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new hd(this.firestore,e):null},enumerable:!1,configurable:!0}),i.prototype.doc=function(e){try{return new hd(this.firestore,void 0===e?sD(this._delegate):sD(this._delegate,e))}catch(o){throw ii(o,"doc()","CollectionReference.doc()")}},i.prototype.add=function(e){var u,d,p,m,v,o=this;return(u=this._delegate,d=e,p=It(u.firestore,Fn),m=sD(u),v=dD(u.converter,d),j_(p,[uD(cd(u.firestore),"addDoc",m._key,v,null!==u.converter,{}).toMutation(m._key,mr.exists(!1))]).then(function(){return m})).then(function(u){return new hd(o.firestore,u)})},i.prototype.isEqual=function(e){return HR(this._delegate,e._delegate)},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?hD.nu(this.firestore,e):null))},i}($_);function pd(t){return It(t,fn)}var AP=function(){function t(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];this._delegate=new(Cs.bind.apply(Cs,(0,A.ev)([void 0],i)))}return t.documentId=function(){return new t(Gi.keyField().canonicalString())},t.prototype.isEqual=function(i){return(i=(0,Tt.m9)(i))instanceof Cs&&this._delegate._internalPath.isEqual(i._internalPath)},t}(),MP=function(){function t(i){this._delegate=i}return t.serverTimestamp=function(){var i=new pP("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new t(i)},t.delete=function(){var i=new IA("deleteField");return i._methodName="FieldValue.delete",new t(i)},t.arrayUnion=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var o=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new gP("arrayUnion",u)}.apply(void 0,i);return o._methodName="FieldValue.arrayUnion",new t(o)},t.arrayRemove=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var o=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new mP("arrayRemove",u)}.apply(void 0,i);return o._methodName="FieldValue.arrayRemove",new t(o)},t.increment=function(i){var e=new yP("increment",i);return e._methodName="FieldValue.increment",new t(e)},t.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},t}(),xP=R(6034),RP={Firestore:gO,GeoPoint:aD,Timestamp:er,Blob:pO,Transaction:mO,WriteBatch:yO,DocumentReference:hd,DocumentSnapshot:H_,Query:$_,QueryDocumentSnapshot:G_,QuerySnapshot:kA,CollectionReference:pD,FieldPath:AP,FieldValue:MP,setLogLevel:function(t){Hi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(t){t.INTERNAL.registerComponent(new xP.wA("firestore",function(o){return i=o.getProvider("app").getImmediate(),e=o.getProvider("auth-internal"),new gO(i,new Fn(i,e),new IP);var i,e},"PUBLIC").setServiceProps(Object.assign({},RP))),t.registerVersion("@firebase/firestore","2.4.0")}(Mu.Z),R(7771),R(8858),R(2639);const gD=new l.OlP("angularfire2.auth.use-emulator");function NO(t,i){return function(t,i=k0.z){return new Or.y(e=>{let o;return null!=i?i.schedule(()=>{o=t.onSnapshot({includeMetadataChanges:!0},e)}):o=t.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=o&&o()}})}(t,i)}function FA(t,i){return NO(t,i).pipe((0,Be.U)(e=>({payload:e,type:"query"})))}function mD(t,i){return FA(t,i).pipe(ci(void 0),Au(),(0,Be.U)(([e,o])=>{const u=o.payload.docChanges(),d=u.map(p=>({type:p.type,payload:p}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((p,m)=>{const v=u.find(D=>D.doc.ref.isEqual(p.ref)),w=null==e?void 0:e.payload.docs.find(D=>D.ref.isEqual(p.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(p.metadata)||!v&&w&&JSON.stringify(w.metadata)===JSON.stringify(p.metadata)||d.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:p}})}),d}))}function SO(t,i,e){return mD(t,e).pipe(Bd((o,u)=>function(t,i,e){return i.forEach(o=>{e.indexOf(o.type)>-1&&(t=function(t,i){switch(i.type){case"added":if(!t[i.newIndex]||!t[i.newIndex].doc.ref.isEqual(i.doc.ref))return LA(t,i.newIndex,0,i);break;case"modified":if(null==t[i.oldIndex]||t[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const e=t.slice();return e.splice(i.oldIndex,1),e.splice(i.newIndex,0,i),e}return LA(t,i.newIndex,1,i)}break;case"removed":if(t[i.oldIndex]&&t[i.oldIndex].doc.ref.isEqual(i.doc.ref))return LA(t,i.oldIndex,1)}return t}(t,o))}),t}(o,u.map(d=>d.payload),i),[]),function(t,i){return e=>e.lift(new V0(t,i))}(),(0,Be.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function LA(t,i,e,...o){const u=t.slice();return u.splice(i,e,...o),u}function AO(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class MO{constructor(i,e,o){this.ref=i,this.query=e,this.afs=o}stateChanges(i){let e=mD(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(e=e.pipe((0,Be.U)(o=>o.filter(u=>i.indexOf(u.type)>-1)))),e.pipe(ci(void 0),Au(),nn(([o,u])=>u.length>0||!o),(0,Be.U)(([o,u])=>u),this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(Bd((e,o)=>[...e,...o],[]))}snapshotChanges(i){const e=AO(i);return SO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return FA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(e=>e.payload.docs.map(o=>i.idField?Object.assign(Object.assign({},o.data()),{[i.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,ln.D)(this.query.get(i)).pipe((0,yi.QV)(this.afs.schedulers.insideAngular))}add(i){return this.ref.add(i)}doc(i){return new xO(this.ref.doc(i),this.afs)}}class xO{constructor(i,e){this.ref=i,this.afs=e}set(i,e){return this.ref.set(i,e)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,e){const o=this.ref.collection(i),{ref:u,query:d}=FO(o,e);return new MO(u,d,this.afs)}snapshotChanges(){return function(t,i){return NO(t,i).pipe(ci(void 0),Au(),(0,Be.U)(([e,o])=>o.exists?(null==e?void 0:e.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return this.snapshotChanges().pipe((0,Be.U)(({payload:e})=>i.idField?Object.assign(Object.assign({},e.data()),{[i.idField]:e.id}):e.data()))}get(i){return(0,ln.D)(this.ref.get(i)).pipe((0,yi.QV)(this.afs.schedulers.insideAngular))}}class qP{constructor(i,e){this.query=i,this.afs=e}stateChanges(i){return i&&0!==i.length?mD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(e=>e.filter(o=>i.indexOf(o.type)>-1)),nn(e=>e.length>0),this.afs.keepUnstableUntilFirst):mD(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(Bd((e,o)=>[...e,...o],[]))}snapshotChanges(i){const e=AO(i);return SO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return FA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(o=>o.payload.docs.map(u=>i.idField?Object.assign({[i.idField]:u.id},u.data()):u.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,ln.D)(this.query.get(i)).pipe((0,yi.QV)(this.afs.schedulers.insideAngular))}}const RO=new l.OlP("angularfire2.enableFirestorePersistence"),OO=new l.OlP("angularfire2.firestore.persistenceSettings"),kO=new l.OlP("angularfire2.firestore.settings"),PO=new l.OlP("angularfire2.firestore.use-emulator");function FO(t,i=(e=>e)){return{query:i(t),ref:t}}let VA=(()=>{class t{constructor(e,o,u,d,p,m,v,w,D){this.schedulers=new Ze.HU(m),this.keepUnstableUntilFirst=(0,Ze.ss)(this.schedulers);const T=(0,Ze.on)(e,m,o);!hs.Z.auth&&D&&(0,Ze.yq)();const I=w;[this.firestore,this.persistenceEnabled$]=(0,Ze.sI)(`${T.name}.firestore`,"AngularFirestore",T,()=>{const M=m.runOutsideAngular(()=>T.firestore());if(d&&M.settings(d),I&&M.useEmulator(...I),u&&!function(t){return"server"===t}(p)){const F=()=>{try{return(0,ln.D)(M.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(j){return"undefined"!=typeof console&&console.warn(j),(0,Ge.of)(!1)}};return[M,m.runOutsideAngular(F)]}return[M,(0,Ge.of)(!1)]},[d,I,u])}collection(e,o){let u;u="string"==typeof e?this.firestore.collection(e):e;const{ref:d,query:p}=FO(u,o),m=this.schedulers.ngZone.run(()=>d);return new MO(m,p,this)}collectionGroup(e,o){const u=o||(p=>p),d=this.firestore.collectionGroup(e);return new qP(u(d),this)}doc(e){let o;o="string"==typeof e?this.firestore.doc(e):e;const u=this.schedulers.ngZone.run(()=>o);return new xO(u,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Ze.Dh),l.LFG(Ze.xv,8),l.LFG(RO,8),l.LFG(kO,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(OO,8),l.LFG(PO,8),l.LFG(gD,8))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(Ze.Dh),l.LFG(Ze.xv,8),l.LFG(RO,8),l.LFG(kO,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(OO,8),l.LFG(PO,8),l.LFG(gD,8))},token:t,providedIn:"any"}),t})(),YP=(()=>{class t{constructor(e){this.firestore=e}getCuentas(){return this.firestore.collection("cuentas").snapshotChanges()}updateCuentas(e,o){return this.firestore.collection("cuentas").doc(e).update(o)}deleteCuentas(e){return this.firestore.collection("cuentas").doc(e).delete()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(VA))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zP=(()=>{class t{constructor(e){this.firestore=e}getGastos(){return this.firestore.collection("gastos").snapshotChanges()}createGasto(e){return this.firestore.collection("gastos").add(e)}updateGastos(e,o){return this.firestore.collection("gastos").doc(e).update(o)}deleteGastos(e){return this.firestore.collection("gastos").doc(e).delete()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(VA))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ZP(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l.TgZ(8,"button",7),l.NdJ("click",function(){const d=l.CHM(e).$implicit,p=l.oxw(),m=l.MAs(25);return p.openEditar(m,d)}),l._uU(9,"Editar"),l.qZA(),l.TgZ(10,"button",8),l.NdJ("click",function(){const d=l.CHM(e).$implicit;return l.oxw().eliminar(d)}),l._uU(11,"Eliminar"),l.qZA(),l.qZA(),l.qZA()}if(2&t){const e=i.$implicit;l.xp6(2),l.Oqu(e.id),l.xp6(2),l.Oqu(e.descripcion),l.xp6(2),l.Oqu(e.cantidad)}}function WP(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).guardar()}),l._uU(1,"Guardar"),l.qZA()}}function JP(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).actualizarGastos()}),l._uU(1,"Actualizar"),l.qZA()}}function QP(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"div",9),l.TgZ(1,"h4",10),l._uU(2,"Profile update"),l.qZA(),l.TgZ(3,"button",11),l.NdJ("click",function(){return l.CHM(e).$implicit.dismiss("Cross click")}),l.TgZ(4,"span",12),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",13),l.TgZ(7,"form"),l.TgZ(8,"div",14),l.TgZ(9,"form",15),l.TgZ(10,"div",14),l.TgZ(11,"label"),l._uU(12,"Id"),l.qZA(),l._UZ(13,"input",16),l.qZA(),l.TgZ(14,"div",14),l.TgZ(15,"label"),l._uU(16,"Descripcion"),l.qZA(),l._UZ(17,"input",17),l.qZA(),l.TgZ(18,"div",14),l.TgZ(19,"label"),l._uU(20,"Cantidad"),l.qZA(),l._UZ(21,"input",18),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(22,"div",19),l.YNc(23,WP,2,0,"button",20),l.YNc(24,JP,2,0,"button",20),l.qZA()}if(2&t){const e=l.oxw();l.xp6(9),l.Q6J("formGroup",e.gastoForm),l.xp6(14),l.Q6J("ngIf",!e.actualizar),l.xp6(1),l.Q6J("ngIf",e.actualizar)}}let KP=(()=>{class t{constructor(e,o,u){this.modalService=e,this.fb=o,this.gastosService=u,this.closeResult="",this.collection={count:20,data:[]}}ngOnInit(){this.idFirabaseActualizar="",this.actualizar=!1,this.config={itemsPerPage:5,currentPage:1,totalItems:this.collection.data.length},this.gastoForm=this.fb.group({id:["",Oo.required],descripcion:["",Oo.required],cantidad:["",Oo.required]}),this.gastosService.getGastos().subscribe(e=>{this.collection.data=e.map(o=>({id:o.payload.doc.data().id,descripcion:o.payload.doc.data().descripcion,cantidad:o.payload.doc.data().cantidad,idFirebase:o.payload.doc.id}))},e=>{console.error(e)})}pageChanged(e){this.config.currentPage=e}eliminar(e){this.gastosService.deleteGastos(e.idFirebase)}guardar(){this.gastosService.createGasto(this.gastoForm.value).then(e=>{this.gastoForm.reset(),this.modalService.dismissAll()}).catch(e=>{console.error(e)})}actualizarGastos(){this.gastosService.updateGastos(this.idFirabaseActualizar,this.gastoForm.value).then(e=>{this.gastoForm.reset(),this.modalService.dismissAll()}).catch(e=>{console.error(e)})}openEditar(e,o){this.gastoForm.setValue({id:o.id,descripcion:o.descripcion,cantidad:o.cantidad}),this.idFirabaseActualizar=o.idFirebase,this.actualizar=!0,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(u=>{this.closeResult=`Closed with: ${u}`},u=>{this.closeResult=`Dismissed ${this.getDismissReason(u)}`})}open(e){this.actualizar=!1,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(e){return e===ji.ESC?"by pressing ESC":e===ji.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(hl),l.Y36(Fr),l.Y36(zP))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-gastos"]],decls:26,vars:4,consts:[[2,"text-align","center"],[1,"badge","bg-primary","text-wrap;","fs-2",2,"width","10rem"],["type","button",1,"btn","btn-success",3,"click"],[1,"table","table-dark","table-striped"],[4,"ngFor","ngForOf"],[3,"pageChange"],["content",""],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[3,"formGroup"],["type","number","formControlName","id",1,"form-control"],["type","text","formControlName","descripcion",1,"form-control"],["type","number","formControlName","cantidad",1,"form-control"],[1,"modal-footer"],["type","button","class","btn btn-outline-dark",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,o){if(1&e){const u=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"h2",1),l._uU(2,"Gastos"),l.qZA(),l._UZ(3,"br"),l._UZ(4,"br"),l.TgZ(5,"button",2),l.NdJ("click",function(){l.CHM(u);const p=l.MAs(25);return o.open(p)}),l._uU(6,"Agregar nuevo Gasto"),l.qZA(),l._UZ(7,"br"),l._UZ(8,"br"),l.TgZ(9,"table",3),l.TgZ(10,"thead"),l.TgZ(11,"tr"),l.TgZ(12,"th"),l._uU(13,"ID"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Descripcion"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Cantidad"),l.qZA(),l.TgZ(18,"th"),l._uU(19,"Opciones"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"tbody"),l.YNc(21,ZP,12,3,"tr",4),l.ALo(22,"paginate"),l.qZA(),l.qZA(),l.TgZ(23,"pagination-controls",5),l.NdJ("pageChange",function(p){return o.pageChanged(p)}),l.qZA(),l.YNc(24,QP,25,3,"ng-template",null,6,l.W1O),l.qZA()}2&e&&(l.xp6(21),l.Q6J("ngForOf",l.xi3(22,1,o.collection.data,o.config)))},directives:[st,Rs,Jc,ou,Wc,Ws,Qc,iu,Cf,Js,hn],pipes:[Up],styles:[""]}),t})(),XP=(()=>{class t{constructor(e){this.firestore=e}getIngresos(){return this.firestore.collection("ingresos").snapshotChanges()}createIngreso(e){return this.firestore.collection("ingresos").add(e)}updateIngresos(e,o){return this.firestore.collection("ingresos").doc(e).update(o)}deleteIngresos(e){return this.firestore.collection("ingresos").doc(e).delete()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(VA))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eF(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l.TgZ(8,"button",7),l.NdJ("click",function(){const d=l.CHM(e).$implicit,p=l.oxw(),m=l.MAs(25);return p.openEditar(m,d)}),l._uU(9,"Editar"),l.qZA(),l.TgZ(10,"button",8),l.NdJ("click",function(){const d=l.CHM(e).$implicit;return l.oxw().eliminar(d)}),l._uU(11,"Eliminar"),l.qZA(),l.qZA(),l.qZA()}if(2&t){const e=i.$implicit;l.xp6(2),l.Oqu(e.id),l.xp6(2),l.Oqu(e.descripcion),l.xp6(2),l.Oqu(e.cantidad)}}function tF(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).guardar()}),l._uU(1,"Guardar"),l.qZA()}}function nF(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).actualizarIngresos()}),l._uU(1,"Actualizar"),l.qZA()}}function rF(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"div",9),l.TgZ(1,"h4",10),l._uU(2,"Profile update"),l.qZA(),l.TgZ(3,"button",11),l.NdJ("click",function(){return l.CHM(e).$implicit.dismiss("Cross click")}),l.TgZ(4,"span",12),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",13),l.TgZ(7,"form"),l.TgZ(8,"div",14),l.TgZ(9,"form",15),l.TgZ(10,"div",14),l.TgZ(11,"label"),l._uU(12,"Id"),l.qZA(),l._UZ(13,"input",16),l.qZA(),l.TgZ(14,"div",14),l.TgZ(15,"label"),l._uU(16,"Descripcion"),l.qZA(),l._UZ(17,"input",17),l.qZA(),l.TgZ(18,"div",14),l.TgZ(19,"label"),l._uU(20,"Cantidad"),l.qZA(),l._UZ(21,"input",18),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(22,"div",19),l.YNc(23,tF,2,0,"button",20),l.YNc(24,nF,2,0,"button",20),l.qZA()}if(2&t){const e=l.oxw();l.xp6(9),l.Q6J("formGroup",e.ingresoForm),l.xp6(14),l.Q6J("ngIf",!e.actualizar),l.xp6(1),l.Q6J("ngIf",e.actualizar)}}let iF=(()=>{class t{constructor(e,o,u){this.modalService=e,this.fb=o,this.ingresosService=u,this.closeResult="",this.collection={count:20,data:[]}}ngOnInit(){this.idFirabaseActualizar="",this.actualizar=!1,this.config={itemsPerPage:5,currentPage:1,totalItems:this.collection.data.length},this.ingresoForm=this.fb.group({id:["",Oo.required],descripcion:["",Oo.required],cantidad:["",Oo.required]}),this.ingresosService.getIngresos().subscribe(e=>{this.collection.data=e.map(o=>({id:o.payload.doc.data().id,descripcion:o.payload.doc.data().descripcion,cantidad:o.payload.doc.data().cantidad,idFirebase:o.payload.doc.id}))},e=>{console.error(e)})}pageChanged(e){this.config.currentPage=e}eliminar(e){this.ingresosService.deleteIngresos(e.idFirebase)}guardar(){this.ingresosService.createIngreso(this.ingresoForm.value).then(e=>{this.ingresoForm.reset(),this.modalService.dismissAll()}).catch(e=>{console.error(e)})}actualizarIngresos(){this.ingresosService.updateIngresos(this.idFirabaseActualizar,this.ingresoForm.value).then(e=>{this.ingresoForm.reset(),this.modalService.dismissAll()}).catch(e=>{console.error(e)})}openEditar(e,o){this.ingresoForm.setValue({id:o.id,descripcion:o.descripcion,cantidad:o.cantidad}),this.idFirabaseActualizar=o.idFirebase,this.actualizar=!0,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(u=>{this.closeResult=`Closed with: ${u}`},u=>{this.closeResult=`Dismissed ${this.getDismissReason(u)}`})}open(e){this.actualizar=!1,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(e){return e===ji.ESC?"by pressing ESC":e===ji.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(hl),l.Y36(Fr),l.Y36(XP))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-ingreso"]],decls:26,vars:4,consts:[[2,"text-align","center"],[1,"badge","bg-primary","text-wrap;","fs-2",2,"width","10rem"],["type","button",1,"btn","btn-success",3,"click"],[1,"table","table-dark","table-striped"],[4,"ngFor","ngForOf"],[3,"pageChange"],["content",""],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[3,"formGroup"],["type","number","formControlName","id",1,"form-control"],["type","text","formControlName","descripcion",1,"form-control"],["type","number","formControlName","cantidad",1,"form-control"],[1,"modal-footer"],["type","button","class","btn btn-outline-dark",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,o){if(1&e){const u=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"h2",1),l._uU(2,"Ingresos"),l.qZA(),l._UZ(3,"br"),l._UZ(4,"br"),l.TgZ(5,"button",2),l.NdJ("click",function(){l.CHM(u);const p=l.MAs(25);return o.open(p)}),l._uU(6,"Agregar nuevo Ingreso"),l.qZA(),l._UZ(7,"br"),l._UZ(8,"br"),l.TgZ(9,"table",3),l.TgZ(10,"thead"),l.TgZ(11,"tr"),l.TgZ(12,"th"),l._uU(13,"ID"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Descripcion"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Cantidad"),l.qZA(),l.TgZ(18,"th"),l._uU(19,"Opciones"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"tbody"),l.YNc(21,eF,12,3,"tr",4),l.ALo(22,"paginate"),l.qZA(),l.qZA(),l.TgZ(23,"pagination-controls",5),l.NdJ("pageChange",function(p){return o.pageChanged(p)}),l.qZA(),l.YNc(24,rF,25,3,"ng-template",null,6,l.W1O),l.qZA()}2&e&&(l.xp6(21),l.Q6J("ngForOf",l.xi3(22,1,o.collection.data,o.config)))},directives:[st,Rs,Jc,ou,Wc,Ws,Qc,iu,Cf,Js,hn],pipes:[Up],styles:[""]}),t})();function oF(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l.TgZ(8,"button",6),l.NdJ("click",function(){const d=l.CHM(e).$implicit,p=l.oxw(),m=l.MAs(22);return p.openEditar(m,d)}),l._uU(9,"Editar"),l.qZA(),l.qZA(),l.qZA()}if(2&t){const e=i.$implicit;l.xp6(2),l.Oqu(e.id),l.xp6(2),l.Oqu(e.descripcion),l.xp6(2),l.Oqu(e.dinero)}}function sF(t,i){if(1&t){const e=l.EpF();l.TgZ(0,"div",7),l.TgZ(1,"h4",8),l._uU(2,"Profile update"),l.qZA(),l.TgZ(3,"button",9),l.NdJ("click",function(){return l.CHM(e).$implicit.dismiss("Cross click")}),l.TgZ(4,"span",10),l._uU(5,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"div",11),l.TgZ(7,"form"),l.TgZ(8,"div",12),l.TgZ(9,"form",13),l.TgZ(10,"div",12),l.TgZ(11,"label"),l._uU(12,"Id"),l.qZA(),l._UZ(13,"input",14),l.qZA(),l.TgZ(14,"div",12),l.TgZ(15,"label"),l._uU(16,"Descripcion"),l.qZA(),l._UZ(17,"input",15),l.qZA(),l.TgZ(18,"div",12),l.TgZ(19,"label"),l._uU(20,"Dinero"),l.qZA(),l._UZ(21,"input",16),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(22,"div",17),l.TgZ(23,"button",18),l.NdJ("click",function(){return l.CHM(e),l.oxw().actualizarCuenta()}),l._uU(24,"Actualizar"),l.qZA(),l.qZA()}if(2&t){const e=l.oxw();l.xp6(9),l.Q6J("formGroup",e.cuentaForm)}}let aF=(()=>{class t{constructor(e,o,u){this.modalService=e,this.fb=o,this.firebaseServiceService=u,this.closeResult="",this.collection={data:[]}}ngOnInit(){this.idFirabaseActualizar="",this.cuentaForm=this.fb.group({id:["",Oo.required],descripcion:["",Oo.required],dinero:["",Oo.required]}),this.firebaseServiceService.getCuentas().subscribe(e=>{this.collection.data=e.map(o=>({id:o.payload.doc.data().id,descripcion:o.payload.doc.data().descripcion,dinero:o.payload.doc.data().dinero,idFirebase:o.payload.doc.id}))},e=>{console.error(e)})}actualizarCuenta(){this.firebaseServiceService.updateCuentas(this.idFirabaseActualizar,this.cuentaForm.value).then(e=>{this.cuentaForm.reset(),this.modalService.dismissAll()}).catch(e=>{console.error(e)})}openEditar(e,o){this.cuentaForm.setValue({id:o.id,descripcion:o.descripcion,dinero:o.dinero}),this.idFirabaseActualizar=o.idFirebase,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(u=>{this.closeResult=`Closed with: ${u}`},u=>{this.closeResult=`Dismissed ${this.getDismissReason(u)}`})}getDismissReason(e){return e===ji.ESC?"by pressing ESC":e===ji.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(hl),l.Y36(Fr),l.Y36(YP))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-root"]],decls:29,vars:1,consts:[[1,"p-3","mb-2","bg-danger","text-white",2,"text-align","center"],[1,"p-2","bg-warning","text-white"],[1,"badge","bg-primary","text-wrap;","fs-2",2,"width","10rem"],[1,"table","table-dark","table-striped"],[4,"ngFor","ngForOf"],["content",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[3,"formGroup"],["type","number","formControlName","id",1,"form-control"],["type","text","formControlName","descripcion",1,"form-control"],["type","number","formControlName","dinero",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h1",1),l._uU(2,"Control de ingresos y gastos"),l.qZA(),l._UZ(3,"br"),l._UZ(4,"br"),l.TgZ(5,"h2",2),l._uU(6,"Cuentas "),l.qZA(),l._UZ(7,"br"),l.TgZ(8,"table",3),l.TgZ(9,"thead"),l.TgZ(10,"tr"),l.TgZ(11,"th"),l._uU(12,"ID"),l.qZA(),l.TgZ(13,"th"),l._uU(14,"Descripcion"),l.qZA(),l.TgZ(15,"th"),l._uU(16,"Dinero"),l.qZA(),l.TgZ(17,"th"),l._uU(18,"Opciones"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"tbody"),l.YNc(20,oF,10,3,"tr",4),l.qZA(),l.qZA(),l.YNc(21,sF,25,1,"ng-template",null,5,l.W1O),l._UZ(23,"br"),l._UZ(24,"br"),l._UZ(25,"app-gastos"),l._UZ(26,"br"),l._UZ(27,"br"),l._UZ(28,"app-ingreso"),l.qZA()),2&e&&(l.xp6(20),l.Q6J("ngForOf",o.collection.data))},directives:[st,KP,iF,Jc,ou,Wc,Ws,Qc,iu,Cf,Js],styles:[""]}),t})();const LO_firebase={apiKey:"AIzaSyAXgwEC2S-MFyAE2GzFMvAadESXKS-aKDU",authDomain:"tutorialfirebase-733f7.firebaseapp.com",projectId:"tutorialfirebase-733f7",storageBucket:"tutorialfirebase-733f7.appspot.com",messagingSenderId:"842307998319",appId:"1:842307998319:web:865658c68578fa5937b39a",measurementId:"G-V1T5RDGB4S"};let uF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t,bootstrap:[aF]}),t.\u0275inj=l.cJS({providers:[],imports:[[JD,cT,Iv,fw,Kn,is,Ze.hO.initializeApp(LO_firebase)]]}),t})();(0,l.G48)(),pc().bootstrapModule(uF).catch(t=>console.error(t))},4762:(Fe,he,R)=>{"use strict";R.d(he,{ZT:()=>K,pi:()=>ce,mG:()=>$,Jh:()=>V,XA:()=>O,CR:()=>H,ev:()=>fe});var l=function(W,Q){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,Z){J.__proto__=Z}||function(J,Z){for(var ve in Z)Object.prototype.hasOwnProperty.call(Z,ve)&&(J[ve]=Z[ve])})(W,Q)};function K(W,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function J(){this.constructor=W}l(W,Q),W.prototype=null===Q?Object.create(Q):(J.prototype=Q.prototype,new J)}var ce=function(){return(ce=Object.assign||function(Q){for(var J,Z=1,ve=arguments.length;Z<ve;Z++)for(var X in J=arguments[Z])Object.prototype.hasOwnProperty.call(J,X)&&(Q[X]=J[X]);return Q}).apply(this,arguments)};function $(W,Q,J,Z){return new(J||(J=Promise))(function(X,He){function We(ht){try{Ve(Z.next(ht))}catch(Se){He(Se)}}function jt(ht){try{Ve(Z.throw(ht))}catch(Se){He(Se)}}function Ve(ht){ht.done?X(ht.value):function(X){return X instanceof J?X:new J(function(He){He(X)})}(ht.value).then(We,jt)}Ve((Z=Z.apply(W,Q||[])).next())})}function V(W,Q){var Z,ve,X,He,J={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return He={next:We(0),throw:We(1),return:We(2)},"function"==typeof Symbol&&(He[Symbol.iterator]=function(){return this}),He;function We(Ve){return function(ht){return function(Ve){if(Z)throw new TypeError("Generator is already executing.");for(;J;)try{if(Z=1,ve&&(X=2&Ve[0]?ve.return:Ve[0]?ve.throw||((X=ve.return)&&X.call(ve),0):ve.next)&&!(X=X.call(ve,Ve[1])).done)return X;switch(ve=0,X&&(Ve=[2&Ve[0],X.value]),Ve[0]){case 0:case 1:X=Ve;break;case 4:return J.label++,{value:Ve[1],done:!1};case 5:J.label++,ve=Ve[1],Ve=[0];continue;case 7:Ve=J.ops.pop(),J.trys.pop();continue;default:if(!(X=(X=J.trys).length>0&&X[X.length-1])&&(6===Ve[0]||2===Ve[0])){J=0;continue}if(3===Ve[0]&&(!X||Ve[1]>X[0]&&Ve[1]<X[3])){J.label=Ve[1];break}if(6===Ve[0]&&J.label<X[1]){J.label=X[1],X=Ve;break}if(X&&J.label<X[2]){J.label=X[2],J.ops.push(Ve);break}X[2]&&J.ops.pop(),J.trys.pop();continue}Ve=Q.call(W,J)}catch(ht){Ve=[6,ht],ve=0}finally{Z=X=0}if(5&Ve[0])throw Ve[1];return{value:Ve[0]?Ve[1]:void 0,done:!0}}([Ve,ht])}}}function O(W){var Q="function"==typeof Symbol&&Symbol.iterator,J=Q&&W[Q],Z=0;if(J)return J.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&Z>=W.length&&(W=void 0),{value:W&&W[Z++],done:!W}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(W,Q){var J="function"==typeof Symbol&&W[Symbol.iterator];if(!J)return W;var ve,He,Z=J.call(W),X=[];try{for(;(void 0===Q||Q-- >0)&&!(ve=Z.next()).done;)X.push(ve.value)}catch(We){He={error:We}}finally{try{ve&&!ve.done&&(J=Z.return)&&J.call(Z)}finally{if(He)throw He.error}}return X}function fe(W,Q,J){if(J||2===arguments.length)for(var X,Z=0,ve=Q.length;Z<ve;Z++)(X||!(Z in Q))&&(X||(X=Array.prototype.slice.call(Q,0,Z)),X[Z]=Q[Z]);return W.concat(X||Array.prototype.slice.call(Q))}}},Fe=>{Fe(Fe.s=9234)}]);